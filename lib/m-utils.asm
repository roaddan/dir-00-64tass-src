;---------------------------------------; fichier......: m-utils.asm (seq); type fichier.: macros; auteur.......: daniel lafrance; version......: 0.0.1; revision.....: 20151126;---------------------------------------; Affichage d'un caractere par kernal;---------------------------------------outcar  .macro carno        php        pha        lda #\carno        jsr chrout        pla        plp        .endm        ;---------------------------------------; Affiche une chaine par le kernal;---------------------------------------outstr  .macro string        jsr pushregs        ldy #>\string+1        ldx #<\string        jsr putsyx        jsr popregs        .endm;---------------------------------------; Affiche une chaine par le kernal;---------------------------------------outstrxy  .macro string        jsr pushregs        ldx \string        ldy \string+1        jsr gotoxy        ldy #>\string+2        ldx #<\string+2        jsr putsyx        jsr popregs        .endm;---------------------------------------; charge le contenu du ptr dans $YYXX;---------------------------------------ldyxptr .macro pointeur        php        ldy \pointeur+1        ldx \pointeur        plp        .endm;---------------------------------------; charge le contenu du ptr dans $YYXX;---------------------------------------styxptr .macro pointeur        php        sty \pointeur+1        stx \pointeur        plp        .endm;---------------------------------------; charge la valeur 16 bits dans $yyxx;---------------------------------------ldyximm .macro immval        php        ldy #>\immval        ldx #<\immval        plp        .endm;---------------------------------------; charge un pointeur dans zpage1;---------------------------------------ptrtozp1 .macro immval        jsr pushregs        ldy #>\immval        ldx #<\immval        sty zp1+1        stx zp1        jsr popregs        .endm;---------------------------------------; charge un pointeur dans zpage2;---------------------------------------ptrtozp2 .macro immval        jsr pushregs        ldy #>\immval        ldx #<\immval        sty zp2+1        stx zp2        jsr popregs        .endm;---------------------------------------; Deplace le curseur a la position (x,y);---------------------------------------locate  .macro x,y        jsr pushregs        ldx #\x        ldy #\y        jsr gotoxy        jsr popregs        .endm;---------------------------------------