;---------------------------------------;---------------------------------------BCLS         .BLOCK         PHP         PHA         LDA #$93         JSR BPUTCH         PLA         PLP         RTS         .BEND;---------------------------------------BPUTCH         .BLOCK         PHP         JSR $FFD2         PLP         RTS         .BEND;---------------------------------------BPUTS         .BLOCKBOUTSTR  = $AB1E         PHP         STA RA         STY RY         JSR BOUTSTR         LDA RA         LDY RY         PLP         RTSRA       .BYTE 0RY       .BYTE 0         .BEND;---------------------------------------BGOTOXY         .BLOCK         PHP         CLC         JSR KPLOT         PLP         RTS         .BEND;---------------------------------------BCURSOR         .BLOCKBASCOL   = $0286         PHP         PHA         BCC RESTORE         JSR KPLOT         STY CX         STX CY         LDA BASCOL         STA BCOL         JMP OUTRESTORE  LDX CY         LDY CX         JSR KPLOT         LDA BCOL         STA BASCOLOUT      PLA         PLP         RTSCX       .BYTE $00CY       .BYTE $00BCOL     .BYTE $00         .BEND;---------------------------------------BCURSAVE         .BLOCK         PHP         SEC         JSR BCURSOR         PLP         RTS         .BEND;---------------------------------------BCURPUT         .BLOCK         PHP         CLC         JSR BCURSOR         PLP         RTS         .BEND;---------------------------------------BPUTSXY         .BLOCK         PHP         ;SAVE START ADDR         STA STRADDR         STY STRADDR+1         ;SAVE A,Y,X         PHA         TYA         PHA         TXA         PHA         ;SAVE ZPAGE1         LDA ZPAGE1         STA ZP1         LDA ZPAGE1+1         STA ZP1+1         ;SET ZPAGE1         LDA STRADDR+1         STA ZPAGE1+1         LDA STRADDR         STA ZPAGE1         ; SET Z TO ZPTR OFFSET 0         LDY #$00         ; LOAD X PARAM         LDA (ZPAGE1),Y         ;AND SAVE IT         STA PX         ; NEXT PARAM         INY         ; LOOAD Y PARAM         LDA (ZPAGE1),Y         ; AND SAVE IT         STA PY         ; TFR A IN X REG         TAX         ; LOAD X PARAM IN Y         LDY PX         ; POSITION CURSOR         JSR BGOTOXY         ; ADJUSTING START ADDR         CLC         INC STRADDR         LDA STRADDR         STA STRADDR         BCC NOREP1         INC STRADDR+1NOREP1   INC STRADDR         BCC NOREP2         INC STRADDR+1NOREP2   LDA STRADDR         LDY STRADDR+1         JSR BPUTS         LDA ZP1+1         STA ZPAGE1+1         LDA ZP1         STA ZPAGE1         PLA         TAX         PLA         TAY         PLA         PLP         RTSSTRADDR  .WORD $00PX       .BYTE $00PY       .BYTE $00ZP1      .WORD $00         .BEND;---------------------------------------;---------------------------------------BPUTSCXY         .BLOCK         JMP STARTBASCOLOR = $0286START    PHP         ;SAVE START ADDR         STA STRADDR         STY STRADDR+1         ;SAVE A,Y,X         PHA         TYA         PHA         TXA         PHA         ;SAVE ZPAGE1         LDA ZPAGE1         STA ZP1         LDA ZPAGE1+1         STA ZP1+1         ;SET ZPAGE1         LDA STRADDR+1         STA ZPAGE1+1         LDA STRADDR         STA ZPAGE1         ; SET Z TO ZPTR OFFSET 0         ;SAVE  CURRENT BASICCOLOR         LDA BASCOLOR         STA BC         LDY #$00         ; LOAD COLOR PARAM         LDA (ZPAGE1),Y         ; AND SET IT         STA BASCOLOR         ; ADJUSTING START ADDR         CLC         INC STRADDR         BCC NOREP1         INC STRADDR+1NOREP1   ; GET ADDRESS OF REMAINDER         LDA STRADDR         LDY STRADDR+1         ; PRINT STRING AT X,Y POS.         JSR BPUTSXY         ; RESTORING BASIC COLOR         LDA BC         STA BASCOLOR         ; REPLACING ZPAGE1 FOR BASIC         LDA ZP1+1         STA ZPAGE1+1         LDA ZP1         STA ZPAGE1         PLA         TAX         PLA         TAY         PLA         PLP         RTSSTRADDR  .WORD $00BC       .BYTE $00ZP1      .WORD $00         .BEND;---------------------------------------