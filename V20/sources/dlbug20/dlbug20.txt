
; 64tass Turbo Assembler Macro V1.54.1900 listing file
; 64tass -C -m -a -I /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib -i -L dlbug20.txt -o dlbug20.prg dlbug20.asm
; Thu Feb 19 00:14:31 2026

;Offset	;Hex		;Source

;******  Processing input file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-bashead-ex.asm

=$1000			scrtxt    = $1000
=$9400			scrcol    = $9400
=$0200			scrlen    = $0200
=$1200			basstart  = $1200
>1201	0b 08		bcmd1    .word $080b ;adresse de la pro-
>1203	0a 00		         .word $0a   ;no. ligne basic.
>1205	9e		         .byte $9e   ;jeton pour la
>1206	20 34 36 32	         .text format("%5d", bhstart)
>120a	32
>120b	00		         .byte $00   ;fin de cmd basic.
>120c	00 00		bcmd2    .word $00   ;adresse de la pro-
.120e	20 1a 12	bhstart   jsr bhscrini
.1211	ea		          nop
.1212	ea		          nop
.1213	ea		          nop
.1214	ea		          nop
.1215	ea		          nop
.1216	20 57 12	basnold   jsr main
.1219	60		          rts
.121a			bhscrini
.121a	08		        php
.121b	48		        pha
.121c	a9 84		        lda #(128+4)
.121e	8d 00 90	        sta vic0
.1221	ad 0f 90	bord    lda $900f    ;place la couleur
.1224	29 08		        and #%00001000
.1226	09 e3		        ora #%11100011
.1228	8d 0f 90	        sta $900f
.122b	a9 00		text    lda #$00    ;place la couleur
.122d	8d 86 02	        sta $0286   ; du texte.
.1230	a9 93		        lda #$93    ;efface l'ecran par
.1232	20 d2 ff	        jsr $ffd2   ; chrout du kernal.
.1235	68		        pla
.1236	28		        plp
.1237	60		        rts
.1238			bhprint
.1238	a0 00		        ldy #$00
.123a	b1 fb		nextc   lda ($fb),y
.123c	f0 07		        beq end
.123e	c8		        iny
.123f	20 d2 ff	        jsr $ffd2
.1242	4c 3a 12	        jmp nextc
.1245	60		end     rts

;******  Return to file: dlbug20.asm

>1246	32 32 30 32	     Version .null "220260131-192144"
>124a	36 30 31 33 31 2d 31 39 32 31 34 34 00

;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/m-v20-utils.asm

.1257			R

;******  Return to file: dlbug20.asm

.1257			main
.1257	08		            php
.1258	48		            pha
.1259	a9 1d		            lda #(vblanc*16+(vvert|8))
.125b	8d 0f 90	            sta vic15
.125e	a9 00		            lda #vnoir
.1260	8d 86 02	            sta kcol
.1263	a9 93		            lda #147
.1265	20 d2 ff	            jsr $ffd2
.1268	68		            pla
.1269	28		            plp
.126a	08		            php
.126b	48		            pha
.126c	a9 0e		            lda #locase
.126e	20 7a f2	            jsr chrout
.1271	68		            pla
.1272	28		            plp
.1273	a9 20		          lda  #' '
.1275	20 e1 1c	          jsr fillscreen
.1278	08		            php
.1279	a0 e0		            ldy #>$e000
.127b	a2 00		            ldx #<$e000
.127d	28		            plp
.127e	08		            php
.127f	8c 6d 0b	            sty adrptr+1
.1282	8e 6c 0b	            stx adrptr
.1285	28		            plp
.1286	20 dd 12	          jsr kmenu
.1289	08		            php
.128a	48		            pha
.128b	a9 1f		            lda #sbleu
.128d	20 7a f2	            jsr chrout
.1290	68		            pla
.1291	28		            plp
.1292	08		            php
.1293	48		            pha
.1294	a9 93		            lda #147
.1296	20 7a f2	            jsr chrout
.1299	68		            pla
.129a	28		            plp
.129b	08		            php
.129c	48		            pha
.129d	a9 13		            lda #19
.129f	20 7a f2	            jsr chrout
.12a2	68		            pla
.12a3	28		            plp
.12a4	08		            php
.12a5	48		            pha
.12a6	a9 24		            lda #'$'
.12a8	20 7a f2	            jsr chrout
.12ab	68		            pla
.12ac	28		            plp
.12ad	08		            php
.12ae	a0 1e		            ldy #>prgend
.12b0	a2 59		            ldx #<prgend
.12b2	28		            plp
.12b3	20 76 19	          jsr putyxhex
.12b6	08		            php
.12b7	48		            pha
.12b8	a9 0d		            lda #13
.12ba	20 7a f2	            jsr chrout
.12bd	68		            pla
.12be	28		            plp
.12bf	08		            php
.12c0	48		            pha
.12c1	a9 24		            lda #'$'
.12c3	20 7a f2	            jsr chrout
.12c6	68		            pla
.12c7	28		            plp
.12c8	08		            php
.12c9	ac 5a 1e	            ldy prgend+1
.12cc	ae 59 1e	            ldx prgend
.12cf	28		            plp
.12d0	20 76 19	          jsr putyxhex
.12d3	08		            php
.12d4	48		            pha
.12d5	a9 0d		            lda #13
.12d7	20 7a f2	            jsr chrout
.12da	68		            pla
.12db	28		            plp
.12dc	60		          rts
.12dd			kmenu
.12dd	20 d3 16	          jsr  pushregs                 ; Sauvegarde les registres.
.12e0			uneclef
.12e0	20 85 1b	          jsr  putahexdec               ; Affiche .a en
.12e3	20 0e 13	          jsr  prompt
.12e6	20 03 1c	          jsr  getkey                   ; Attend une clef.
.12e9	20 7a f2	          jsr  chrout
.12ec	c9 5f		keyesc    cmp  #$5f ;[ESC]              ; Est-ce la touche 'ESC'?
.12ee	d0 03		          bne  keyr                     ; Non on verifie une autre.
.12f0	4c 0a 13	          jmp  out                      ; Oui, on quitte la fonction
.12f3	c9 12		keyr      cmp  #$12 ;[CTRL][R]          ; Est-ce la lettre 'Ctrl+R'?
.12f5	d0 06		          bne  keym                     ; Non on verifie une autre.
.12f7	20 fe 1c	          jsr  showregs                 ; Oui, affiche les registres.
.12fa	4c e0 12	          jmp  uneclef
.12fd	c9 4d		keym      cmp  #$4d
.12ff	d0 06		          bne  nextkey
.1301	20 3e 14	          jsr  mvmenu
.1304	4c e0 12	          jmp  uneclef
.1307	4c e0 12	nextkey   jmp  uneclef
.130a	20 00 17	out       jsr  popregs
.130d	60		          rts
.130e			prompt
.130e	20 d3 16	          jsr  pushregs
.1311	a2 16		          ldx  #22
.1313	a0 00		          ldy  #0
.1315	18		          clc
.1316	20 0a e5	          jsr  plot
.1319	08		            php
.131a	48		            pha
.131b	a9 9c		            lda #smauve
.131d	20 7a f2	            jsr chrout
.1320	68		            pla
.1321	28		            plp
.1322	08		            php
.1323	48		            pha
.1324	a9 3e		            lda #'>'
.1326	20 7a f2	            jsr chrout
.1329	68		            pla
.132a	28		            plp
.132b	08		            php
.132c	48		            pha
.132d	a9 90		            lda #snoir
.132f	20 7a f2	            jsr chrout
.1332	68		            pla
.1333	28		            plp
.1334	20 00 17	          jsr  popregs
.1337	60		          rts

;******  Processing file: string-fr.asm

>1338	92 b0 90 12	rtitle         .byte revsoff,176,snoir,revson
>133c	20 43 50 55	               .text " cpu registers hex "
>1340	20 52 45 47 49 53 54 45 52 53 20 48 45 58 20
>134f	90 92 ae 0d	               .byte snoir,revsoff,174,$0d
>1353	00		               .byte 0
>1354	dd 1f 92	rlable         .byte 221,sbleu,revsoff
>1357	20 50 43 20	               .text " pc  ra rx ry sr sp"
>135b	20 52 41 20 52 58 20 52 59 20 53 52 20 53 50
>136a	90 92 dd 0d	               .byte snoir,revsoff,221,$0d
>136e	00		               .byte 0
>136f	dd 1c 92	rvalues        .byte 221,srouge,revsoff
>1372	30 30 30 30	               .text "0000 00 00 00 00 00"
>1376	20 30 30 20 30 30 20 30 30 20 30 30 20 30 30
>1385	90 92 dd 0d	               .byte snoir,revsoff,221,$0d
>1389	00		               .byte 0
>138a	ad 90 92	rbline         .byte 173,snoir,revsoff        ;0-2
>138d	c0		               .byte 192    ;9-13
>138e	53 4f 52 54	               .text "sortir=[une-clef]"
>1392	49 52 3d 5b 55 4e 45 2d 43 4c 45 46 5d
>139f	c0		               .byte 192         ;19-23
>13a0	90 92 bd 0d	               .byte snoir,revsoff,189,$0d    ;24-27
>13a4	00		               .byte 0
>13a5	92 b0 90 12	mvaide1        .byte revsoff,176,snoir,revson
>13a9	20 41 46 46	               .text " affichage  memoire "
>13ad	49 43 48 41 47 45 20 20 4d 45 4d 4f 49 52 45 20
>13bd	90 92 ae	               .byte snoir,revsoff,174
>13c0	00		               .byte 0
>13c1	dd 90		mvaide2        .byte 221,snoir
>13c3	20 43 52 53	               .text " crs up/dn -/+ 64   "
>13c7	20 55 50 2f 44 4e 20 2d 2f 2b 20 36 34 20 20 20
>13d7	90 dd		               .byte snoir,221
>13d9	00		               .byte 0
>13da	dd 90		mvaide3        .byte 221,snoir
>13dc	20 43 52 53	               .text " crs lf/rt -/+ 128  "
>13e0	20 4c 46 2f 52 54 20 2d 2f 2b 20 31 32 38 20 20
>13f0	90 dd		               .byte snoir,221
>13f2	00		               .byte 0
>13f3	dd 90		mvaide4        .byte 221,snoir
>13f5	20 46 31 2f	               .text " f1/f3     -/+ 4096 "
>13f9	46 33 20 20 20 20 20 2d 2f 2b 20 34 30 39 36 20
>1409	90 dd		               .byte snoir,221
>140b	00		               .byte 0
>140c	dd 90		mvaide5        .byte  221,snoir
>140e	20 45 53 43	               .text " esc = main memu    "
>1412	20 3d 20 4d 41 49 4e 20 4d 45 4d 55 20 20 20 20
>1422	90 dd		               .byte snoir,221
>1424	00		               .byte 0
>1425	ad 90		mvaide6        .byte 173,snoir
>1427	c0 c0 c0 c0	               .byte 192,192,192,192,192
>142b	c0
>142c	c0 c0 c0 c0	               .byte 192,192,192,192,192
>1430	c0
>1431	c0 c0 c0 c0	               .byte 192,192,192,192,192
>1435	c0
>1436	c0 c0 c0 c0	               .byte 192,192,192,192,192
>143a	c0
>143b	90 bd		               .byte snoir,189
>143d	00		               .byte 0

;******  Return to file: dlbug20.asm


;******  Processing file: memview.asm

.143e			mvmenu
.143e	20 d3 16	          jsr  pushregs
.1441	20 06 15	          jsr  mvaide
.1444	20 7b 15	another   jsr  memdump
.1447	20 03 1c	          jsr  getkey
.144a	c9 5f		          cmp  #$5f
.144c	d0 03		          bne  upar
.144e	4c f9 14	          jmp  out
.1451	c9 91		upar      cmp  #$91      ; crsr-up
.1453	d0 18		          bne  dnar      ; -128
.1455	a9 80		          lda  #128
.1457	08		            php
.1458	ac 6d 0b	            ldy adrptr+1
.145b	ae 6c 0b	            ldx adrptr
.145e	28		            plp
.145f	20 50 19	          jsr  subatoyx
.1462	08		            php
.1463	8c 6d 0b	            sty adrptr+1
.1466	8e 6c 0b	            stx adrptr
.1469	28		            plp
.146a	4c 44 14	          jmp  another
.146d	c9 11		dnar      cmp  #$11      ; crsr-down
.146f	d0 03		          bne  lfar      ; asis
.1471	4c 44 14	          jmp  another
.1474	c9 9d		lfar      cmp  #$9d      ; crsr-left
.1476	d0 18		          bne  rtar      ; -192
.1478	a9 c0		          lda  #192
.147a	08		            php
.147b	ac 6d 0b	            ldy adrptr+1
.147e	ae 6c 0b	            ldx adrptr
.1481	28		            plp
.1482	20 50 19	          jsr  subatoyx
.1485	08		            php
.1486	8c 6d 0b	            sty adrptr+1
.1489	8e 6c 0b	            stx adrptr
.148c	28		            plp
.148d	4c 44 14	          jmp  another
.1490	c9 1d		rtar      cmp  #$1d      ; crsr-right
.1492	d0 18		          bne  kf1        ; +64
.1494	a9 40		          lda  #64
.1496	08		            php
.1497	ac 6d 0b	            ldy adrptr+1
.149a	ae 6c 0b	            ldx adrptr
.149d	28		            plp
.149e	20 33 19	          jsr  addatoyx
.14a1	08		            php
.14a2	8c 6d 0b	            sty adrptr+1
.14a5	8e 6c 0b	            stx adrptr
.14a8	28		            plp
.14a9	4c 44 14	          jmp  another
.14ac	c9 85		kf1       cmp  #$85       ; f1
.14ae	d0 21		          bne  kf3        ; +1024
.14b0	a9 40		          lda  #64
.14b2	08		            php
.14b3	ac 6d 0b	            ldy adrptr+1
.14b6	ae 6c 0b	            ldx adrptr
.14b9	28		            plp
.14ba	20 50 19	          jsr  subatoyx
.14bd	08		            php
.14be	8c 6d 0b	            sty adrptr+1
.14c1	8e 6c 0b	            stx adrptr
.14c4	28		            plp
.14c5	ad 6d 0b	          lda  adrptr+1
.14c8	38		          sec
.14c9	e9 10		          sbc  #$10
.14cb	8d 6d 0b	          sta  adrptr+1
.14ce	4c 44 14	          jmp  another
.14d1	c9 86		kf3       cmp  #$86      ; crsr-right
.14d3	d0 21		          bne  chkkey        ; +64
.14d5	a9 40		          lda  #64
.14d7	08		            php
.14d8	ac 6d 0b	            ldy adrptr+1
.14db	ae 6c 0b	            ldx adrptr
.14de	28		            plp
.14df	20 50 19	          jsr  subatoyx
.14e2	08		            php
.14e3	8c 6d 0b	            sty adrptr+1
.14e6	8e 6c 0b	            stx adrptr
.14e9	28		            plp
.14ea	ad 6d 0b	          lda  adrptr+1
.14ed	18		          clc
.14ee	69 10		          adc  #$10
.14f0	8d 6d 0b	          sta  adrptr+1
.14f3	4c 44 14	          jmp  another
.14f6	4c 44 14	chkkey    jmp  another
.14f9			out
.14f9	08		            php
.14fa	48		            pha
.14fb	a9 93		            lda #147
.14fd	20 7a f2	            jsr chrout
.1500	68		            pla
.1501	28		            plp
.1502	20 00 17	          jsr  popregs
.1505	60		          rts
.1506			mvaide
.1506	20 d3 16	          jsr  pushregs
.1509	a2 10		          ldx  #16
.150b	a0 00		          ldy  #00
.150d	18		          clc
.150e	20 0a e5	          jsr  plot
.1511	20 61 16	            jsr  pushall
.1514	a2 a5		            ldx  #<mvaide1
.1516	86 fb		            stx  $fb
.1518	a0 13		            ldy  #>mvaide1
.151a	84 fc		            sty  $fc
.151c	20 2d 17	            jsr  puts
.151f	20 9a 16	            jsr  popall
.1522	20 61 16	            jsr  pushall
.1525	a2 c1		            ldx  #<mvaide2
.1527	86 fb		            stx  $fb
.1529	a0 13		            ldy  #>mvaide2
.152b	84 fc		            sty  $fc
.152d	20 2d 17	            jsr  puts
.1530	20 9a 16	            jsr  popall
.1533	20 61 16	            jsr  pushall
.1536	a2 da		            ldx  #<mvaide3
.1538	86 fb		            stx  $fb
.153a	a0 13		            ldy  #>mvaide3
.153c	84 fc		            sty  $fc
.153e	20 2d 17	            jsr  puts
.1541	20 9a 16	            jsr  popall
.1544	20 61 16	            jsr  pushall
.1547	a2 f3		            ldx  #<mvaide4
.1549	86 fb		            stx  $fb
.154b	a0 13		            ldy  #>mvaide4
.154d	84 fc		            sty  $fc
.154f	20 2d 17	            jsr  puts
.1552	20 9a 16	            jsr  popall
.1555	20 61 16	            jsr  pushall
.1558	a2 0c		            ldx  #<mvaide5
.155a	86 fb		            stx  $fb
.155c	a0 14		            ldy  #>mvaide5
.155e	84 fc		            sty  $fc
.1560	20 2d 17	            jsr  puts
.1563	20 9a 16	            jsr  popall
.1566	20 61 16	            jsr  pushall
.1569	a2 25		            ldx  #<mvaide6
.156b	86 fb		            stx  $fb
.156d	a0 14		            ldy  #>mvaide6
.156f	84 fc		            sty  $fc
.1571	20 2d 17	            jsr  puts
.1574	20 9a 16	            jsr  popall
.1577	20 00 17	          jsr  popregs
.157a	60		          rts
.157b			memdump
.157b	08		            php
.157c	48		            pha
.157d	a9 13		            lda #19
.157f	20 7a f2	            jsr chrout
.1582	68		            pla
.1583	28		            plp
.1584	20 d3 16	          jsr  pushregs
.1587	a0 10		          ldy  #16
.1589	20 93 15	another   jsr  put4mem
.158c	88		          dey
.158d	d0 fa		          bne  another
.158f	20 00 17	          jsr  popregs
.1592	60		          rts
.1593			put4mem
.1593	20 61 16	          jsr  pushall
.1596	ad 86 02	          lda  kcol
.1599	48		          pha
.159a	08		            php
.159b	48		            pha
.159c	a9 90		            lda #snoir
.159e	20 7a f2	            jsr chrout
.15a1	68		            pla
.15a2	28		            plp
.15a3	08		            php
.15a4	ac 6d 0b	            ldy adrptr+1
.15a7	ae 6c 0b	            ldx adrptr
.15aa	28		            plp
.15ab	08		            php
.15ac	48		            pha
.15ad	a9 24		            lda #'$'
.15af	20 7a f2	            jsr chrout
.15b2	68		            pla
.15b3	28		            plp
.15b4	20 76 19	          jsr  putyxhex
.15b7	20 d3 16	        jsr pushregs
.15ba	84 fc		        sty zp1+1
.15bc	86 fb		        stx zp1
.15be	20 00 17	        jsr popregs
.15c1	08		            php
.15c2	a4 d2		            ldy scrnlin+1
.15c4	a6 d1		            ldx scrnlin
.15c6	28		            plp
.15c7	a9 12		          lda  #$12                     ; On y aditionne 18 pour la position
.15c9	20 33 19	          jsr  addatoyx
.15cc	08		            php
.15cd	8c 6b 0b	            sty scraddr+1
.15d0	8e 6a 0b	            stx scraddr
.15d3	28		            plp
.15d4	08		            php
.15d5	8c 69 0b	            sty coladdr+1
.15d8	8e 68 0b	            stx coladdr
.15db	28		            plp
.15dc	ad 69 0b	          lda  coladdr+1                ; On ajuste l'adresse couleur en
.15df	09 94		          ora  #%10010100               ; sur le MSB seulement.
.15e1	8d 69 0b	          sta  coladdr+1
.15e4	08		            php
.15e5	ac 6d 0b	            ldy adrptr+1
.15e8	ae 6c 0b	            ldx adrptr
.15eb	28		            plp
.15ec	20 d3 16	        jsr pushregs
.15ef	84 fc		        sty zp1+1
.15f1	86 fb		        stx zp1
.15f3	20 00 17	        jsr popregs
.15f6	a0 00		          ldy  #$00
.15f8			nxtbyte
.15f8	08		            php
.15f9	48		            pha
.15fa	a9 1c		            lda #srouge
.15fc	20 7a f2	            jsr chrout
.15ff	68		            pla
.1600	28		            plp
.1601	08		            php
.1602	48		            pha
.1603	a9 1d		            lda #29
.1605	20 7a f2	            jsr chrout
.1608	68		            pla
.1609	28		            plp
.160a	b1 fb		          lda  (zp1),y
.160c	20 9a 19	          jsr  putahex
.160f	20 d3 16	        jsr pushregs
.1612	ac 6b 0b	        ldy scraddr+1
.1615	ae 6a 0b	        ldx scraddr
.1618	84 fe		        sty zp2+1
.161a	86 fd		        stx zp2
.161c	20 00 17	        jsr popregs
.161f	91 fd		          sta  (zp2),y
.1621	20 d3 16	        jsr pushregs
.1624	ac 69 0b	        ldy coladdr+1
.1627	ae 68 0b	        ldx coladdr
.162a	84 fe		        sty zp2+1
.162c	86 fd		        stx zp2
.162e	20 00 17	        jsr popregs
.1631	98		          tya
.1632	18		          clc
.1633	2a		          rol
.1634	91 fd		          sta  (zp2),y
.1636	c8		          iny
.1637	c0 04		          cpy  #$04
.1639	d0 bd		          bne  nxtbyte
.163b	08		            php
.163c	ac 6d 0b	            ldy adrptr+1
.163f	ae 6c 0b	            ldx adrptr
.1642	28		            plp
.1643	a9 04		          lda  #$4                      ;   pour afficher
.1645	20 33 19	          jsr  addatoyx                 ;   les quatres
.1648	08		            php
.1649	8c 6d 0b	            sty adrptr+1
.164c	8e 6c 0b	            stx adrptr
.164f	28		            plp
.1650	08		            php
.1651	48		            pha
.1652	a9 0d		            lda #13
.1654	20 7a f2	            jsr chrout
.1657	68		            pla
.1658	28		            plp
.1659	68		          pla
.165a	8d 86 02	          sta  kcol
.165d	20 9a 16	          jsr  popall
.1660	60		          rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-push.asm

.1661			pushall
.1661	08		         php     ;s;rp,pcl,pch
.1662	8d fd 0f	         sta ra  ;sauve a
.1665	68		         pla     ;s:pcl,pch
.1666	8d fe 0f	         sta rp  ;sauve rp
.1669	68		         pla     ;s:pch
.166a	8d f8 0f	         sta pc  ;sauve pcl
.166d	68		         pla     ;s:
.166e	8d f9 0f	         sta pc+1;sauve pch
.1671	a5 fb		         lda $fb ;sauve fb
.1673	48		         pha     ;s:fb
.1674	a5 fc		         lda $fc ;sauve fc
.1676	48		         pha     ;s:fc,fb
.1677	a5 fd		         lda $fd ;sauve fd
.1679	48		         pha     ;s:fd,fc,fb
.167a	a5 fe		         lda $fe ;sauve fe
.167c	48		         pha     ;s:fe,fd,fc,fb
.167d	ad fe 0f	         lda rp  ;sauve rp
.1680	48		         pha     ;s:rp,fe,fd,fc,fb
.1681	ad fd 0f	         lda ra  ;sauve ra
.1684	48		         pha     ;s:ra,rp,fe,fd,fc,fb
.1685	8a		         txa     ;sauve rx
.1686	48		         pha     ;s:rx,ra,rp,fe-fb
.1687	98		         tya     ;sauve y
.1688	48		         pha     ;s:ry,rx,ra,rp,fe-fb
.1689	ad f9 0f	         lda pc+1;replace l'adresse
.168c	48		         pha     ;s:pch,ry,rx,ra,...
.168d	ad f8 0f	         lda pc  ; de retour.
.1690	48		         pha     ;s:pcl,pch,ru,rx,ra,...
.1691	ad fe 0f	         lda rp  ;place les flags
.1694	48		         pha     ; sur le stack.
.1695	ad fd 0f	         lda ra  ;recupere ra
.1698	28		         plp     ;recupere les flags.
.1699	60		         rts
.169a			popall
.169a	08		         php     ;s:rp,pcl,pch,ry,rx,...
.169b	8d fd 0f	         sta ra
.169e	68		         pla     ;s:pcl,pch,ry,rx,...
.169f	8d fe 0f	         sta rp  ;s:pch,ry,rx,ra,rp,...
.16a2	68		         pla
.16a3	8d f8 0f	         sta pc  ;sauve pcl
.16a6	68		         pla     ;s:ry,rx,ra,rp,fe...fb
.16a7	8d f9 0f	         sta pc+1;sauve pch
.16aa	68		         pla     ;s:rx,ra,rp,fe,fd,fc,fb
.16ab	a8		         tay     ;recupere ry
.16ac	68		         pla     ;s:ra,rp,fe,fd,fc,fb
.16ad	aa		         tax     ;recupere rx
.16ae	68		         pla     ;s:rp,fe,fd,fc,fb
.16af	8d fd 0f	         sta ra  ;recupere ra
.16b2	68		         pla     ;s:fe,fd,fc,fb
.16b3	8d fe 0f	         sta rp  ;recupere les flags.
.16b6	68		         pla     ;s:fd,fc,fb
.16b7	85 fe		         sta $fe ;reccupere fe
.16b9	68		         pla     ;s:fc,fb
.16ba	85 fd		         sta $fd ;recupere fd
.16bc	68		         pla     ;s:fb
.16bd	85 fc		         sta $fc ;recupere fc
.16bf	68		         pla     ;s:
.16c0	85 fb		         sta $fb ;recupere fb
.16c2	ad f9 0f	         lda pc+1;replaace l'adresse de
.16c5	48		         pha     ;s:pch
.16c6	ad f8 0f	         lda pc  ;retour sur la pile
.16c9	48		         pha     ;s:pcl,pch
.16ca	ad fe 0f	         lda rp  ;recupere les flags
.16cd	48		         pha     ;s:rp,pcl,pch
.16ce	ad fd 0f	         lda ra  ;recupere ra
.16d1	28		         plp     ;s:pcl,pch
.16d2	60		         rts
.16d3			pushregs
.16d3	08		         php     ;s;rp,pcl,pch
.16d4	8d fd 0f	         sta ra  ; -- sauve a
.16d7	68		         pla     ;s:pcl,pch
.16d8	8d fe 0f	         sta rp  ; -- sauve rp
.16db	68		         pla     ;s:pch
.16dc	8d f8 0f	         sta pc  ; -- sauve pcl
.16df	68		         pla     ;s:
.16e0	8d f9 0f	         sta pc+1; -- sauve pch
.16e3	ad fe 0f	         lda rp  ; -- sauve rp
.16e6	48		         pha     ;s:rp
.16e7	ad fd 0f	         lda ra  ; -- sauve ra
.16ea	48		         pha     ;s:ra,rp
.16eb	8a		         txa     ; -- tfr rx
.16ec	48		         pha     ;s:rx,ra,rp
.16ed	98		         tya     ; -- tfr ry
.16ee	48		         pha     ;s:ry,rx,ra,rp
.16ef	ad f9 0f	         lda pc+1; -- replace l'adresse
.16f2	48		         pha     ;s:pch,ry,rx,ra,rp
.16f3	ad f8 0f	         lda pc  ; -- de retour.
.16f6	48		         pha     ;s:pcl,pch,ru,rx,ra,rp
.16f7	ad fe 0f	         lda rp  ; -- place les flags
.16fa	48		         pha     ;    sur le stack.
.16fb	ad fd 0f	         lda ra  ; -- recupere ra
.16fe	28		         plp     ; -- recupere flags.
.16ff	60		         rts     ;s:pcl,pch,ru,rx,ra,rp
.1700			popregs
.1700	08		         php
.1701	8d fd 0f	         sta ra
.1704	68		         pla
.1705	8d fe 0f	         sta rp
.1708	68		         pla     ;s:pch,ry,rx,ra,rp
.1709	8d f8 0f	         sta pc  ; -- sauve pcl
.170c	68		         pla     ;s:ry,rx,ra,rp
.170d	8d f9 0f	         sta pc+1; -- sauve pch
.1710	68		         pla     ;s:rx,ra,rp
.1711	a8		         tay     ;recupere ry
.1712	68		         pla     ;s:ra,rp
.1713	aa		         tax     ;recupere rx
.1714	68		         pla     ;s:rp
.1715	8d fd 0f	         sta ra  ;recupere ra
.1718	68		         pla     ;s:
.1719	8d fe 0f	         sta rp  ;recupere les flags.
.171c	ad f9 0f	         lda pc+1;replace l'adresse de
.171f	48		         pha     ;s:pch
.1720	ad f8 0f	         lda pc  ;retour sur la pile
.1723	48		         pha     ;s:pcl,pch
.1724	ad fe 0f	         lda rp  ;recupere les flags
.1727	48		         pha     ;s:rp,pcl,pch
.1728	ad fd 0f	         lda ra  ;recupere ra
.172b	28		         plp     ;s:pcl,pch
.172c	60		         rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-string.asm

.172d			puts
.172d	20 61 16	          jsr pushall
.1730	a0 00		          ldy #$00   ; y = offset
.1732	b1 fb		nextc     lda ($fb),y;lit un caractere
.1734	f0 09		          beq out    ;si 0 on sort
.1736	20 7a f2	          jsr chrout ;on l'affiche
.1739	20 7a 18	          jsr inczp1 ;pointe le prochain
.173c	4c 32 17	          jmp nextc  ; et l'affiche
.173f	20 9a 16	out       jsr popall
.1742	60		          rts
.1743			putsyx
.1743	20 61 16	          jsr pushall;sauve reg + zps
.1746	86 fb		          stx $fb    ;$yyxx dans
.1748	84 fc		          sty $fb+1  ; zp1
.174a	20 2d 17	          jsr puts
.174d	20 9a 16	          jsr popall ;recup reg + zps
.1750	60		          rts
.1751			putsxy
.1751	20 61 16	        jsr pushall;sauve reg + zps
.1754	86 fb		        stx $fb    ;$yyxx dans
.1756	84 fc		        sty $fb+1  ; zp1
.1758	a0 00		        ldy #$00
.175a	b1 fb		        lda ($fb),y
.175c	aa		        tax
.175d	20 7a 18	        jsr inczp1
.1760	b1 fb		        lda ($fb),y
.1762	20 7a 18	        jsr inczp1
.1765	a8		        tay
.1766	20 bb 17	        jsr gotoxy
.1769	20 2d 17	        jsr puts
.176c	20 9a 16	        jsr popall ;recup reg + zps
.176f	60		        rts
.1770			putsc
.1770	08		          php       ;flag sur stack
.1771	48		          pha       ;acc sur stack
.1772	48		          pha       ;sauvegarde acc
.1773	ad 86 02	          lda kcol  ;recup coul. carac.
.1776	8d f7 0f	          sta curcol; et la sauvegarde
.1779	68		          pla       ;recup. acc
.177a	8d 86 02	          sta kcol  ;place coul. voulue
.177d	20 2d 17	          jsr puts  ;affiche la chaine
.1780	ad f7 0f	          lda curcol;recup coul. carac.
.1783	8d 86 02	          sta kcol  ; et la replace
.1786	68		          pla       ;recup acc
.1787	28		          plp       ;recup flag
.1788	60		          rts
.1789			putscyx
.1789	08		          php       ;sauve registres
.178a	48		          pha       ; ...
.178b	48		          pha       ;sauve acc
.178c	ad 86 02	          lda kcol  ;recup couleur carac.
.178f	8d f7 0f	          sta curcol; et sauvegarde
.1792	68		          pla       ;recup acc
.1793	8d 86 02	          sta kcol  ;place couleur carac.
.1796	20 43 17	          jsr putsyx;affiche la chaine
.1799	ad f7 0f	          lda curcol
.179c	8d 86 02	          sta kcol
.179f	68		          pla
.17a0	28		          plp
.17a1	60		          rts
.17a2			putscxy
.17a2	08		          php       ;sauve registres
.17a3	48		          pha       ; ...
.17a4	48		          pha       ;sauve acc
.17a5	ad 86 02	          lda kcol  ;recup couleur carac.
.17a8	8d f7 0f	          sta curcol; et sauvegarde
.17ab	68		          pla       ;recup acc
.17ac	8d 86 02	          sta kcol   ;place couleur carac.
.17af	20 43 17	          jsr putsyx ;affiche la chaine
.17b2	ad f7 0f	          lda curcol
.17b5	8d 86 02	          sta kcol
.17b8	68		          pla
.17b9	28		          plp
.17ba	60		          rts
.17bb			gotoxy
.17bb	20 d3 16	          jsr pushregs
.17be	8a		          txa ; interchange x et y
.17bf	48		          pha ; ...
.17c0	98		          tya ; ...
.17c1	aa		          tax ; ...
.17c2	68		          pla ; ...
.17c3	a8		          tay ; ...
.17c4	c0 00		txlow     cpy #0
.17c6	10 02		          bpl txhigh
.17c8	a2 00		          ldx #0
.17ca	e0 19		txhigh    cpx #25
.17cc	30 02		          bmi tylow
.17ce	a2 18		          ldx #24
.17d0	c0 00		tylow     cpy #0
.17d2	10 02		          bpl tyhigh
.17d4	a0 00		          ldy #0
.17d6	c0 28		tyhigh    cpy #40
.17d8	30 02		          bmi allok
.17da	a0 27		          ldy #39
.17dc	18		allok     clc
.17dd	20 0a e5	          jsr plot
.17e0	20 00 17	          jsr popregs
.17e3	60		          rts
.17e4			putnch
.17e4	20 d3 16	        jsr pushregs
.17e7	20 7a f2	again   jsr chrout
.17ea	ca		        dex
.17eb	d0 fa		        bne again
.17ed	20 00 17	        jsr popregs
.17f0	60		        rts
.17f1			strlen
.17f1	20 61 16	        jsr pushall
.17f4	84 fc		        sty zp1+1
.17f6	86 fb		        stx zp1
.17f8	a0 00		        ldy #$00
.17fa	8c 88 0f	        sty len
.17fd	b1 fb		next    lda (zp1),y
.17ff	f0 07		        beq out
.1801	ee 88 0f	        inc len
.1804	c8		        iny
.1805	4c fd 17	        jmp next
.1808	20 9a 16	out     jsr popall
.180b	ad 88 0f	        lda len
.180e	60		        rts
.180f			cursor
.180f	20 d3 16	          jsr  pushregs
.1812	90 12		          bcc  get    ;C=0 récupération.
.1814	20 0a e5	          jsr  plot  ;récupère position
.1817	8c 87 0f	          sty  cx     ;curseur et sauve
.181a	8e 86 0f	          stx  cy     ;dans vars locales.
.181d	ad 86 02	          lda  kcol   ;Sauve couleur
.1820	8d 85 0f	          sta  bcol   ; BASIC du texte.
.1823	4c 35 18	          jmp  out    ;Fini on sort.
.1826	ae 86 0f	get       ldx  cy     ;C=1, charge x
.1829	ac 87 0f	          ldy  cx     ; ligne, y col.
.182c	20 0a e5	          jsr  plot  ;Position curseur.
.182f	ad 85 0f	          lda  bcol   ;replace couleur
.1832	8d 86 02	          sta  kcol ; basic sauvegardé.
.1835	20 00 17	out       jsr  popregs
.1838	60		          rts
.1839			curget
.1839			cursave
.1839	08		          php
.183a	38		          sec
.183b	20 0f 18	          jsr  cursor
.183e	28		          plp
.183f	60		          rts
.1840			curput
.1840			currest
.1840	08		          php
.1841	18		          clc
.1842	20 0f 18	          jsr  cursor
.1845	28		          plp
.1846	60		          rts
.1847			isprnable
.1847	08		          php
.1848	c9 a0		          cmp  #160
.184a	b0 0b		          bcs  yes
.184c	c5 85		          cmp  133
.184e	b0 04		          bcs  no
.1850	c9 20		          cmp  #32
.1852	b0 03		          bcs  yes
.1854	28		no        plp
.1855	18		          clc
.1856	60		          rts
.1857	28		yes       plp
.1858	38		          sec
.1859	60		          rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-mem.asm

.185a			blkfill
.185a	20 61 16	bf0     jsr pushall
.185d	84 fc		        sty zp1+1
.185f	a0 00		        ldy #$00
.1861	84 fb		        sty zp1
.1863	91 fb		bf1     sta (zp1),y
.1865	c8		        iny
.1866	d0 fb		        bne bf1
.1868	20 9a 16	        jsr popall
.186b	60		        rts
.186c			memfill
.186c	20 d3 16	        jsr pushregs
.186f	20 5a 18	mf1     jsr blkfill
.1872	c8		        iny
.1873	ca		        dex
.1874	d0 f9		        bne mf1
.1876	20 00 17	        jsr popregs
.1879	60		        rts
.187a			inczp1
.187a	08		         php
.187b	e6 fb		         inc zp1
.187d	d0 02		         bne repzp1
.187f	e6 fc		         inc zp1+1
.1881	28		repzp1   plp
.1882	60		         rts
.1883			inczp2
.1883	08		         php
.1884	e6 fd		         inc zp2
.1886	d0 02		         bne repzp2
.1888	e6 fe		         inc zp2+1
.188a	28		repzp2   plp
.188b	60		         rts
.188c			deczp1
.188c	08		         php
.188d	48		         pha
.188e	a5 fb		         lda zp1
.1890	d0 02		         bne noemp
.1892	c6 fc		         dec zp1+1
.1894	c6 fb		noemp    dec zp1
.1896	68		         pla
.1897	28		         plp
.1898	60		         rts
.1899			deczp2
.1899	08		         php
.189a	48		         pha
.189b	a5 fd		         lda zp2
.189d	d0 02		         bne noemp
.189f	c6 fe		         dec zp2+1
.18a1	c6 fd		noemp    dec zp2
.18a3	68		         pla
.18a4	28		         plp
.18a5	60		         rts
.18a6			rolzp1
.18a6	08		        php
.18a7	48		        pha
.18a8	18		        clc
.18a9	a5 fb		        lda zp1
.18ab	2a		        rol
.18ac	85 fb		        sta zp1
.18ae	a5 fc		        lda zp1+1
.18b0	2a		        rol
.18b1	85 fc		        sta zp1+1
.18b3	68		        pla
.18b4	28		        plp
.18b5			rorzp1
.18b5	08		        php
.18b6	48		        pha
.18b7	18		        clc
.18b8	a5 fc		        lda zp1+1
.18ba	6a		        ror
.18bb	85 fc		        sta zp1+1
.18bd	a5 fb		        lda zp1
.18bf	6a		        ror
.18c0	85 fb		        sta zp1
.18c2	68		        pla
.18c3	28		        plp
.18c4			rolzp2
.18c4	08		        php
.18c5	48		        pha
.18c6	18		        clc
.18c7	a5 fd		        lda zp2
.18c9	2a		        rol
.18ca	85 fd		        sta zp2
.18cc	a5 fe		        lda zp2+1
.18ce	2a		        rol
.18cf	85 fe		        sta zp2+1
.18d1	68		        pla
.18d2	28		        plp
.18d3			rorzp2
.18d3	08		        php
.18d4	48		        pha
.18d5	18		        clc
.18d6	a5 fe		        lda zp2+1
.18d8	6a		        ror
.18d9	85 fe		        sta zp2+1
.18db	a5 fd		        lda zp2
.18dd	6a		        ror
.18de	85 fd		        sta zp2
.18e0	68		        pla
.18e1	28		        plp
.18e2			yxtoptr
.18e2	8c f6 0f	        sty memptr+1
.18e5	8e f5 0f	        stx memptr
.18e8	60		        rts
.18e9			ptrtoyx
.18e9	08		        php
.18ea	ac f6 0f	        ldy memptr+1
.18ed	ae f5 0f	        ldx memptr
.18f0	28		        plp
.18f1	60		        rts
.18f2			incptr
.18f2	08		        php
.18f3	ee f5 0f	        inc memptr
.18f6	d0 03		        bne norep
.18f8	ee f6 0f	        inc memptr+1
.18fb	28		norep   plp
.18fc	60		        rts
.18fd			decptr
.18fd	08		        php
.18fe	48		        pha
.18ff	ad f5 0f	        lda memptr
.1902	d0 03		        bne noemp
.1904	ee f6 0f	        inc memptr+1
.1907	ee f5 0f	noemp   inc memptr
.190a	68		        pla
.190b	28		        plp
.190c	60		        rts
.190d			incptr8
.190d	08		        php
.190e	48		        pha
.190f	98		        tya
.1910	48		        pha
.1911	a0 08		        ldy #8
.1913	20 f2 18	again   jsr incptr
.1916	88		        dey
.1917	d0 fa		        bne again
.1919	68		        pla
.191a	a8		        tay
.191b	68		        pla
.191c	28		        plp
.191d	60		        rts
.191e			loop
.191e	ce ef 0f	               dec  loopcount
.1921	d0 03		               bne  norep
.1923	ce f0 0f	               dec  loopcount+1
.1926	ad ef 0f	norep          lda  loopcount
.1929	c9 00		               cmp  #$00
.192b	d0 05		               bne  out
.192d	4d f0 0f	               eor  loopcount+1
.1930	c9 ff		               cmp  #$ff
.1932	60		out            rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-math.asm

.1933			addtoword
.1933			addatoyx
.1933	08		        php
.1934	48		        pha
.1935	8c 96 0f	        sty reponse+1
.1938	8e 95 0f	        stx reponse
.193b	18		        clc
.193c	6d 95 0f	        adc reponse
.193f	90 03		        bcc norep
.1941	ee 96 0f	        inc reponse+1
.1944	8d 95 0f	norep   sta reponse
.1947	ac 96 0f	        ldy reponse+1
.194a	ae 95 0f	        ldx reponse
.194d	68		        pla
.194e	28		        plp
.194f	60		        rts
.1950			subtoword
.1950			subatoyx
.1950	08		        php
.1951	48		        pha
.1952	8d 6e 0b	        sta freevar
.1955	8c 96 0f	        sty reponse+1
.1958	8e 95 0f	        stx reponse
.195b	38		        sec
.195c	ad 95 0f	        lda reponse
.195f	ed 6e 0b	        sbc freevar
.1962	8d 95 0f	        sta reponse
.1965	ad 96 0f	        lda reponse+1
.1968	e9 00		        sbc #$00
.196a	8d 96 0f	        sta reponse+1
.196d	ac 96 0f	        ldy reponse+1
.1970	ae 95 0f	        ldx reponse
.1973	68		        pla
.1974	28		        plp
.1975	60		        rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-conv.asm

.1976			putyxhex
.1976	20 61 16	        jsr pushall
.1979	98		        tya
.197a	48		        pha
.197b	20 f9 19	        jsr lsr4bits
.197e	20 0c 1a	        jsr nibtohex
.1981	8d ea 0f	        sta hexstr+0
.1984	68		        pla
.1985	20 0c 1a	        jsr nibtohex
.1988	8d eb 0f	        sta hexstr+1
.198b	8a		        txa
.198c	20 ab 19	        jsr atohex
.198f	a2 ea		        ldx #<hexstr+0
.1991	a0 0f		        ldy #>hexstr+0
.1993	20 43 17	        jsr putsyx
.1996	20 9a 16	        jsr popall
.1999	60		        rts
.199a			putahex
.199a	20 d3 16	        jsr pushregs
.199d	20 ab 19	        jsr atohex
.19a0	a2 ec		        ldx #<hexstr+2
.19a2	a0 0f		        ldy #>hexstr+2
.19a4	20 43 17	        jsr putsyx
.19a7	20 00 17	        jsr popregs
.19aa	60		        rts
.19ab			atohex
.19ab	08		        php
.19ac	48		        pha
.19ad	48		        pha
.19ae	20 f9 19	        jsr lsr4bits
.19b1	20 0c 1a	        jsr nibtohex
.19b4	8d ec 0f	        sta hexstr+2
.19b7	68		        pla
.19b8	20 0c 1a	        jsr nibtohex
.19bb	8d ed 0f	        sta hexstr+3
.19be	a9 00		        lda #$00
.19c0	8d ee 0f	        sta hexstr+4
.19c3	68		        pla
.19c4	28		        plp
.19c5	60		        rts
.19c6			putabin
.19c6	20 d3 16	          jsr     pushregs
.19c9	20 d7 19	          jsr     atobin
.19cc	a2 dd		          ldx     #<binstr
.19ce	a0 0f		          ldy     #>binstr
.19d0	20 43 17	          jsr     putsyx
.19d3	20 00 17	          jsr     popregs
.19d6	60		          rts
.19d7			atobin
.19d7	20 d3 16	          jsr  pushregs
.19da	a2 08		          ldx  #8
.19dc	a0 00		          ldy  #0
.19de	18		          clc
.19df	2a		nextbit   rol
.19e0	48		          pha
.19e1	69 00		          adc  #$00
.19e3	29 01		          and  #$01
.19e5	20 0c 1a	          jsr  nibtohex
.19e8	99 dd 0f	          sta  binstr,y
.19eb	68		          pla
.19ec	c8		          iny
.19ed	ca		          dex
.19ee	d0 ef		          bne  nextbit
.19f0	a9 00		          lda  #0
.19f2	99 dd 0f	          sta  binstr,y
.19f5	20 00 17	          jsr  popregs
.19f8	60		          rts
.19f9			lsr4bits
.19f9	08		          php
.19fa	4a		          lsr a
.19fb	4a		          lsr a
.19fc	4a		          lsr a
.19fd	4a		          lsr a
.19fe	28		          plp
.19ff	60		          rts
.1a00			nibtohexb
.1a00	08		        php
.1a01	29 0f		        and #$0f
.1a03	f8		        sed
.1a04	18		        clc
.1a05	69 90		        adc #$90
.1a07	69 40		        adc #$40
.1a09	d8		        cld
.1a0a	28		        plp
.1a0b	60		        rts
.1a0c			nibtohex
.1a0c	08		        php
.1a0d	8c 2b 1a	        sty myy
.1a10	29 0f		        and #$0f
.1a12	a8		        tay
.1a13	b9 1b 1a	        lda hextbl,y
.1a16	ac 2b 1a	        ldy myy
.1a19	28		        plp
.1a1a	60		        rts
>1a1b	30 31 32 33	hextbl  .byte $30,$31,$32,$33,$34
>1a1f	34
>1a20	35 36 37 38	        .byte $35,$36,$37,$38,$39
>1a24	39
>1a25	41 42 43 44	        .byte $41,$42,$43,$44,$45
>1a29	45
>1a2a	46		        .byte $46
>1a2b	00		myy     .byte $00
.1a2c			bytestohex
.1a2c	20 61 16	        jsr pushall
.1a2f	84 fc		        sty zp1+1
.1a31	86 fb		        stx zp1
.1a33	08		            php
.1a34	48		            pha
.1a35	a9 20		            lda #32
.1a37	20 7a f2	            jsr chrout
.1a3a	68		            pla
.1a3b	28		            plp
.1a3c	08		            php
.1a3d	48		            pha
.1a3e	a9 05		            lda #5
.1a40	20 7a f2	            jsr chrout
.1a43	68		            pla
.1a44	28		            plp
.1a45	08		            php
.1a46	48		            pha
.1a47	a9 24		            lda #36
.1a49	20 7a f2	            jsr chrout
.1a4c	68		            pla
.1a4d	28		            plp
.1a4e	20 76 19	        jsr putyxhex   ; prn adreponsese
.1a51	08		            php
.1a52	48		            pha
.1a53	a9 20		            lda #$20
.1a55	20 7a f2	            jsr chrout
.1a58	68		            pla
.1a59	28		            plp
.1a5a	08		            php
.1a5b	48		            pha
.1a5c	a9 9f		            lda #159
.1a5e	20 7a f2	            jsr chrout
.1a61	68		            pla
.1a62	28		            plp
.1a63	a0 00		        ldy #$00
.1a65	aa		        tax
.1a66	8c ce 0f	another sty offset
.1a69	b1 fb		        lda (zp1),y
.1a6b	20 9a 19	        jsr putahex
.1a6e	48		        pha
.1a6f	20 8e 1a	        jsr petsciiaddr
.1a72	68		        pla
.1a73	8d 00 04	petscii sta $0400
.1a76	48		        pha
.1a77	a9 0d		        lda #$0d
.1a79	8d 00 d8	petcol  sta $d800
.1a7c	68		        pla
.1a7d	08		            php
.1a7e	48		            pha
.1a7f	a9 20		            lda #$20
.1a81	20 7a f2	            jsr chrout
.1a84	68		            pla
.1a85	28		            plp
.1a86	c8		        iny
.1a87	ca		        dex
.1a88	d0 dc		        bne another
.1a8a	20 9a 16	        jsr popall
.1a8d	60		        rts
.1a8e			petsciiaddr
.1a8e	20 d3 16	        jsr pushregs
.1a91	a9 1f		        lda #31
.1a93	18		        clc
.1a94	6d ce 0f	        adc offset
.1a97	20 33 19	        jsr addatoyx
.1a9a	8c 75 1a	        sty petscii+2
.1a9d	8e 74 1a	        stx petscii+1
.1aa0	8e 7a 1a	        stx petcol+1
.1aa3	98		        tya
.1aa4	29 fb		        and #%11111011 ;#%00000100
.1aa6	09 d8		        ora #$d8
.1aa8	8d 7b 1a	        sta petcol+2
.1aab	a8		        tay
.1aac	20 00 17	        jsr popregs
.1aaf	60		        rts
.1ab0			strhexval
.1ab0	20 61 16	        jsr pushall ; sauve registre
.1ab3	84 fc		        sty zp1+1   ; ptr dans zp1
.1ab5	86 fb		        stx zp1
.1ab7	20 f1 17	        jsr strlen  ;len de $(yyxx)->a
.1aba	f0 3d		        beq oute    ; si 0 erreur C=1
.1abc	a0 00		        ldy #$00    ; offset a 0
.1abe	8c 96 0f	        sty reponse+1; reponse a zero
.1ac1	8c 95 0f	        sty reponse ;    ...
.1ac4	b1 fb		nextc   lda (zp1),y ;charge un caractere
.1ac6	f0 26		        beq out     ;On  a fini
.1ac8	c0 00		        cpy #$00    ;si c'est le premier
.1aca	f0 07		        beq norol   ; pas de rol
.1acc	48		        pha         ;
.1acd	a9 04		        lda #$04    ;rol de 4 pos
.1acf	20 b9 1b	        jsr rolword ;
.1ad2	68		        pla         ;
.1ad3	09 20		norol   ora #%00100000
.1ad5	38		        sec
.1ad6	e9 30		        sbc #$30
.1ad8	c9 0a		        cmp #$0a
.1ada	90 07		        bcc lt10
.1adc	38		        sec
.1add	e9 27		        sbc #$27
.1adf	c9 10		        cmp #$10
.1ae1	b0 16		        bcs oute
.1ae3	0d 95 0f	lt10    ora reponse
.1ae6	8d 95 0f	        sta reponse
.1ae9	c8		        iny
.1aea	c0 04		        cpy #$04
.1aec	d0 d6		        bne nextc
.1aee	20 9a 16	out     jsr popall
.1af1	18		        clc          ;Carry 0 = good
.1af2	ac 96 0f	        ldy reponse+1
.1af5	ae 95 0f	        ldx reponse
.1af8	60		        rts
.1af9	20 9a 16	oute    jsr popall
.1afc	38		        sec
.1afd	60		        rts
.1afe			showra
.1afe	20 d3 16	          jsr  pushregs
.1b01	ac 86 02	          ldy  kcol
.1b04	08		            php
.1b05	48		            pha
.1b06	a9 90		            lda #snoir
.1b08	20 7a f2	            jsr chrout
.1b0b	68		            pla
.1b0c	28		            plp
.1b0d	20 47 18	          jsr  isprnable
.1b10	b0 13		          bcs  okprn
.1b12	48		          pha
.1b13	08		            php
.1b14	48		            pha
.1b15	a9 1c		            lda #srouge
.1b17	20 7a f2	            jsr chrout
.1b1a	68		            pla
.1b1b	28		            plp
.1b1c	a9 2e		          lda  #'.'
.1b1e	20 7a f2	          jsr  chrout
.1b21	68		          pla
.1b22	4c 28 1b	          jmp  noprn
.1b25	20 7a f2	okprn     jsr  chrout
.1b28			noprn
.1b28	08		            php
.1b29	48		            pha
.1b2a	a9 20		            lda #32
.1b2c	20 7a f2	            jsr chrout
.1b2f	68		            pla
.1b30	28		            plp
.1b31	08		            php
.1b32	48		            pha
.1b33	a9 1f		            lda #sbleu
.1b35	20 7a f2	            jsr chrout
.1b38	68		            pla
.1b39	28		            plp
.1b3a	08		            php
.1b3b	48		            pha
.1b3c	a9 24		            lda #36
.1b3e	20 7a f2	            jsr chrout
.1b41	68		            pla
.1b42	28		            plp
.1b43	20 9a 19	          jsr putahex
.1b46	08		            php
.1b47	48		            pha
.1b48	a9 20		            lda #32
.1b4a	20 7a f2	            jsr chrout
.1b4d	68		            pla
.1b4e	28		            plp
.1b4f	08		            php
.1b50	48		            pha
.1b51	a9 1c		            lda #srouge
.1b53	20 7a f2	            jsr chrout
.1b56	68		            pla
.1b57	28		            plp
.1b58	08		            php
.1b59	48		            pha
.1b5a	a9 25		            lda #37
.1b5c	20 7a f2	            jsr chrout
.1b5f	68		            pla
.1b60	28		            plp
.1b61	20 c6 19	          jsr putabin
.1b64	08		            php
.1b65	48		            pha
.1b66	a9 20		            lda #32
.1b68	20 7a f2	            jsr chrout
.1b6b	68		            pla
.1b6c	28		            plp
.1b6d	08		            php
.1b6e	48		            pha
.1b6f	a9 9c		            lda #smauve
.1b71	20 7a f2	            jsr chrout
.1b74	68		            pla
.1b75	28		            plp
.1b76	48		          pha
.1b77	aa		          tax
.1b78	a9 00		          lda #$00
.1b7a	20 cd dd	          jsr fiaxtf1
.1b7d	68		          pla
.1b7e	8c 86 02	          sty kcol
.1b81	20 00 17	          jsr popregs
.1b84	60		          rts
.1b85			putahexdec
.1b85	20 d3 16	          jsr pushregs
.1b88	20 39 18	          jsr  curget    ; Sauvegarde la position du curseur.
.1b8b	20 d3 16	        jsr pushregs
.1b8e	a0 00		        ldy #0
.1b90	a2 16		        ldx #22
.1b92	18		        clc
.1b93	20 0a e5	        jsr plot
.1b96	20 00 17	        jsr popregs
.1b99	08		            php
.1b9a	48		            pha
.1b9b	a9 20		            lda #32
.1b9d	20 7a f2	            jsr chrout
.1ba0	68		            pla
.1ba1	28		            plp
.1ba2	20 fe 1a	          jsr  showra    ; Affiche .a en ascii, hexa, bin et dec.
.1ba5	c9 63		          cmp  #99       ; Estce que le code ascii est > 99 dec.
.1ba7	10 09		          bpl  nospc     ; Non, on saute.
.1ba9	08		            php
.1baa	48		            pha
.1bab	a9 20		            lda #32
.1bad	20 7a f2	            jsr chrout
.1bb0	68		            pla
.1bb1	28		            plp
.1bb2	20 40 18	nospc     jsr  curput    ; Replkace le curseur à sa position initiale.
.1bb5	20 00 17	          jsr popregs
.1bb8	60		          rts
.1bb9			rolword
.1bb9	20 d3 16	        jsr pushregs
.1bbc	a8		        tay
.1bbd	18		again   clc
.1bbe	2e 95 0f	        rol reponse
.1bc1	2e 96 0f	        rol reponse+1
.1bc4	88		        dey
.1bc5	d0 f6		        bne again
.1bc7	20 00 17	        jsr popregs
.1bca	60		        rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-keyb.asm

.1bcb			clrkbbuf
.1bcb	08		          php
.1bcc	48		          pha
.1bcd	a9 00		          lda #0
.1bcf	85 c6		          sta 198
.1bd1	20 e1 ff	          jsr $ffe1
.1bd4	68		          pla
.1bd5	28		          plp
.1bd6	60		          rts
.1bd7			waitstop
.1bd7	08		          php    ;\ sauve les flags
.1bd8	48		          pha    ;/  et l'acc.
.1bd9	20 cb 1b	          jsr clrkbbuf
.1bdc	20 70 f7	wait      jsr stop ; Veri [run/stop]
.1bdf	d0 fb		          bne wait ;loop pas pesee.
.1be1	68		          pla    ;\ recup. acc et
.1be2	28		          plp    ;/  les flags.
.1be3	60		          rts
.1be4			anykey
.1be4	08		          php
.1be5	48		          pha
.1be6	20 cb 1b	          jsr clrkbbuf
.1be9	a5 cb		wait      lda 203    ;lit la matrice de
.1beb	c9 40		          cmp #64    ; 64 = aucune clef
.1bed	f0 fa		          beq wait   ; on en attend une.
.1bef	20 f8 1b	          jsr kbfree ; Clavier relache.
.1bf2	20 cb 1b	          jsr clrkbbuf
.1bf5	68		          pla
.1bf6	28		          plp
.1bf7	60		          rts
.1bf8			kbfree
.1bf8	08		        php
.1bf9	48		        pha
.1bfa	a5 cb		wait    lda 203    ; lit la matrice
.1bfc	c9 40		        cmp #64    ; 64 = aucune clef
.1bfe	d0 fa		        bne wait   ; attend la relache
.1c00	68		        pla
.1c01	28		        plp
.1c02	60		        rts
.1c03			getkey
.1c03	08		        php
.1c04	20 e1 ff	        jsr $ffe1
.1c07	20 f5 f1	try     jsr getin  ;tente de lire
.1c0a	c9 00		        cmp #0     ; 0 si aucune.
.1c0c	f0 f9		        beq try    ; on reessaye
.1c0e	28		        plp
.1c0f	60		        rts
.1c10			waitkey
.1c10	08		        php
.1c11	48		        pha
.1c12	8d 89 0f	        sta clef   ;Sauve clef voulue
.1c15	20 cb 1b	        jsr clrkbbuf
.1c18	20 f5 f1	wait    jsr getin  ;Sonde le clavier
.1c1b	cd 89 0f	        cmp clef   ;Compare avec clef
.1c1e	d0 f8		        bne wait   ;Pas la bonne.
.1c20	68		        pla
.1c21	28		        plp
.1c22	60		        rts
.1c23			waitspace
.1c23	a9 20		          lda #$20
.1c25	20 10 1c	          jsr waitkey
.1c28	20 cb 1b	          jsr clrkbbuf
.1c2b	60		          rts
.1c2c			showkey
.1c2c	20 d3 16	        jsr pushregs
.1c2f	38		        sec
.1c30	20 0a e5	        jsr plot
.1c33	8e 8b 0f	        stx curx
.1c36	8c 8a 0f	        sty cury
.1c39	20 d3 16	        jsr pushregs
.1c3c	a0 00		        ldy #0
.1c3e	a2 16		        ldx #22
.1c40	18		        clc
.1c41	20 0a e5	        jsr plot
.1c44	20 00 17	        jsr popregs
.1c47	20 7a f2	        jsr chrout
.1c4a	20 fe 1a	        jsr showra
.1c4d	18		        clc
.1c4e	ac 8a 0f	        ldy cury
.1c51	ae 8b 0f	        ldx curx
.1c54	20 0a e5	        jsr plot
.1c57	20 00 17	        jsr popregs
.1c5a	60		        rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-screen.asm

.1c5b			scrnsave
.1c5b	20 61 16	        jsr pushall
.1c5e	20 b3 1c	        jsr setcarptr
.1c61	20 81 1c	        jsr zp1tozp2
.1c64	20 ca 1c	        jsr setcolptr
.1c67	20 81 1c	        jsr zp1tozp2
.1c6a	20 9a 16	        jsr popall
.1c6d	60		        rts
.1c6e			scrnrest
.1c6e	20 61 16	        jsr pushall
.1c71	20 b3 1c	        jsr setcarptr
.1c74	20 9a 1c	        jsr zp2tozp1
.1c77	20 ca 1c	        jsr setcolptr
.1c7a	20 9a 1c	        jsr zp2tozp1
.1c7d	20 9a 16	        jsr popall
.1c80	60		        rts
.1c81			zp1tozp2
.1c81	20 61 16	        jsr pushall
.1c84	a2 02		        ldx #>scrlen
.1c86	a0 00		        ldy #<scrlen
.1c88	b1 fb		nextcar lda (zp1),y
.1c8a	91 fd		        sta (zp2),y
.1c8c	c8		        iny
.1c8d	d0 f9		        bne nextcar
.1c8f	e6 fc		        inc zp1+1
.1c91	e6 fe		        inc zp2+1
.1c93	ca		        dex
.1c94	d0 f2		        bne nextcar
.1c96	20 9a 16	        jsr popall
.1c99	60		        rts
.1c9a			zp2tozp1
.1c9a	20 61 16	        jsr pushall
.1c9d	a2 02		        ldx #>scrlen
.1c9f	a0 00		        ldy #<scrlen
.1ca1	b1 fd		nextcar lda (zp2),y
.1ca3	91 fb		        sta (zp1),y
.1ca5	c8		        iny
.1ca6	d0 f9		        bne nextcar
.1ca8	e6 fc		        inc zp1+1
.1caa	e6 fe		        inc zp2+1
.1cac	ca		        dex
.1cad	d0 f2		        bne nextcar
.1caf	20 9a 16	        jsr popall
.1cb2	60		        rts
.1cb3			setcarptr
.1cb3	20 d3 16	        jsr pushregs
.1cb6	a9 00		        lda #<scrtxt
.1cb8	85 fb		        sta zp1
.1cba	a9 10		        lda #>scrtxt
.1cbc	85 fc		        sta zp1+1
.1cbe	a9 82		        lda #<scrncar
.1cc0	85 fd		        sta zp2
.1cc2	a9 0d		        lda #>scrncar
.1cc4	85 fe		        sta zp2+1
.1cc6	20 00 17	        jsr popregs
.1cc9	60		        rts
.1cca			setcolptr
.1cca	20 d3 16	        jsr pushregs
.1ccd	a9 00		        lda #<scrcol
.1ccf	85 fb		        sta zp1
.1cd1	a9 94		        lda #>scrcol
.1cd3	85 fc		        sta zp1+1
.1cd5	a9 82		        lda #<scrncol
.1cd7	85 fd		        sta zp2
.1cd9	a9 0b		        lda #>scrncol
.1cdb	85 fe		        sta zp2+1
.1cdd	20 00 17	        jsr popregs
.1ce0	60		        rts
.1ce1			fillscreen
.1ce1	20 61 16	          jsr pushall
.1ce4	a2 02		          ldx #$02
.1ce6	a0 00		          ldy #$00
.1ce8	99 00 10	again     sta scrtxt,y
.1ceb	99 00 11	          sta scrtxt+256,y
.1cee	48		          pha
.1cef	8a		          txa
.1cf0	99 00 94	          sta scrcol,y
.1cf3	99 00 95	          sta scrcol+256,y
.1cf6	68		          pla
.1cf7	c8		          iny
.1cf8	d0 ee		          bne again
.1cfa	20 9a 16	          jsr popall
.1cfd	60		          rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-showregs.asm

.1cfe			showregs
.1cfe	20 5b 1c	          jsr scrnsave
.1d01	08		          php
.1d02	8d 78 0b	          sta  acc
.1d05	68		          pla       ;acc<-sr
.1d06	8d 75 0b	          sta  sr
.1d09	8e 77 0b	          stx  xr
.1d0c	8c 76 0b	          sty  yr
.1d0f	ba		          tsx       ; x<-sp
.1d10	8e 74 0b	          stx  sp
.1d13	68		          pla
.1d14	8d 73 0b	          sta  pcl
.1d17	68		          pla
.1d18	8d 72 0b	          sta  pch
.1d1b	48		          pha
.1d1c	ad 73 0b	          lda  pcl
.1d1f	48		          pha
.1d20	a9 00		          lda #$00
.1d22	a2 11		          ldx #regline   ; No. de ligne
.1d24	a8		          tay
.1d25	18		          clc
.1d26	20 0a e5	          jsr plot       ; pos. curseur.
.1d29	08		            php
.1d2a	48		            pha
.1d2b	a9 90		            lda #snoir
.1d2d	20 7a f2	            jsr chrout
.1d30	68		            pla
.1d31	28		            plp
.1d32	20 61 16	            jsr  pushall
.1d35	a2 38		            ldx  #<rtitle
.1d37	86 fb		            stx  $fb
.1d39	a0 13		            ldy  #>rtitle
.1d3b	84 fc		            sty  $fc
.1d3d	20 2d 17	            jsr  puts
.1d40	20 9a 16	            jsr  popall
.1d43	20 61 16	            jsr  pushall
.1d46	a2 54		            ldx  #<rlable
.1d48	86 fb		            stx  $fb
.1d4a	a0 13		            ldy  #>rlable
.1d4c	84 fc		            sty  $fc
.1d4e	20 2d 17	            jsr  puts
.1d51	20 9a 16	            jsr  popall
.1d54	20 61 16	            jsr  pushall
.1d57	a2 6f		            ldx  #<rvalues
.1d59	86 fb		            stx  $fb
.1d5b	a0 13		            ldy  #>rvalues
.1d5d	84 fc		            sty  $fc
.1d5f	20 2d 17	            jsr  puts
.1d62	20 9a 16	            jsr  popall
.1d65	20 61 16	            jsr  pushall
.1d68	a2 8a		            ldx  #<rbline
.1d6a	86 fb		            stx  $fb
.1d6c	a0 13		            ldy  #>rbline
.1d6e	84 fc		            sty  $fc
.1d70	20 2d 17	            jsr  puts
.1d73	20 9a 16	            jsr  popall
.1d76	ac 72 0b	          ldy  pch
.1d79	ae 73 0b	          ldx  pcl
.1d7c	e8		          inx       ; Aj. LSB adresse
.1d7d	90 01		          bcc  go   ; Report? Non Go!
.1d7f	c8		          iny       ; Oui, Aj. MSB
.1d80			go
.1d80	20 d3 16	        jsr pushregs
.1d83	a0 01		        ldy #1
.1d85	a2 13		        ldx #regline+2
.1d87	18		        clc
.1d88	20 0a e5	        jsr plot
.1d8b	20 00 17	        jsr popregs
.1d8e	20 76 19	          jsr putyxhex   ; pc
.1d91	ad 78 0b	          lda  acc
.1d94	20 d3 16	        jsr pushregs
.1d97	a0 06		        ldy #6
.1d99	a2 13		        ldx #regline+2
.1d9b	18		        clc
.1d9c	20 0a e5	        jsr plot
.1d9f	20 00 17	        jsr popregs
.1da2	20 9a 19	          jsr putahex    ; reg x
.1da5	ad 77 0b	          lda  xr
.1da8	20 d3 16	        jsr pushregs
.1dab	a0 09		        ldy #9
.1dad	a2 13		        ldx #regline+2
.1daf	18		        clc
.1db0	20 0a e5	        jsr plot
.1db3	20 00 17	        jsr popregs
.1db6	20 9a 19	          jsr  putahex    ; reg x
.1db9	ad 76 0b	          lda  yr
.1dbc	20 d3 16	        jsr pushregs
.1dbf	a0 0c		        ldy #12
.1dc1	a2 13		        ldx #regline+2
.1dc3	18		        clc
.1dc4	20 0a e5	        jsr plot
.1dc7	20 00 17	        jsr popregs
.1dca	20 9a 19	          jsr  putahex    ; reg y
.1dcd	ad 75 0b	          lda  sr
.1dd0	20 d3 16	        jsr pushregs
.1dd3	a0 0f		        ldy #15
.1dd5	a2 13		        ldx #regline+2
.1dd7	18		        clc
.1dd8	20 0a e5	        jsr plot
.1ddb	20 00 17	        jsr popregs
.1dde	20 9a 19	          jsr putahex    ; status reg
.1de1	ad 74 0b	          lda  sp
.1de4	8a		          txa
.1de5	20 d3 16	        jsr pushregs
.1de8	a0 12		        ldy #18
.1dea	a2 13		        ldx #regline+2
.1dec	18		        clc
.1ded	20 0a e5	        jsr plot
.1df0	20 00 17	        jsr popregs
.1df3	20 9a 19	          jsr putahex    ; sp
.1df6	20 cb 1b	          jsr  clrkbbuf
.1df9	20 e4 1b	          jsr  anykey
.1dfc	20 6e 1c	          jsr scrnrest
.1dff	ad 78 0b	          lda  acc
.1e02	ae 77 0b	          ldx  xr
.1e05	ac 76 0b	          ldy  yr
.1e08	ad 75 0b	          lda  sr
.1e0b	48		          pha
.1e0c	28		          plp
.1e0d	60		          rts
=17			regline   = 17
.1e0e			showstack
.1e0e	8d 78 0b	          sta acc
.1e11	08		          php
.1e12	68		          pla
.1e13	8d 75 0b	          sta sr
.1e16	8e 77 0b	          stx xr
.1e19	8c 76 0b	          sty yr
.1e1c	38		          sec
.1e1d	a0 10		          ldy  #$10
.1e1f	ba		          tsx
.1e20	e8		          inx
.1e21	8a		          txa
.1e22	20 fe 1a	          jsr showra
.1e25	08		            php
.1e26	48		            pha
.1e27	a9 0d		            lda #13
.1e29	20 7a f2	            jsr chrout
.1e2c	68		            pla
.1e2d	28		            plp
.1e2e	08		            php
.1e2f	48		            pha
.1e30	a9 0d		            lda #13
.1e32	20 7a f2	            jsr chrout
.1e35	68		            pla
.1e36	28		            plp
.1e37	bd 00 01	morey     lda $0100,x
.1e3a	20 fe 1a	          jsr showra
.1e3d	08		            php
.1e3e	48		            pha
.1e3f	a9 0d		            lda #13
.1e41	20 7a f2	            jsr chrout
.1e44	68		            pla
.1e45	28		            plp
.1e46	e8		          inx
.1e47	88		          dey
.1e48	d0 ed		          bne morey
.1e4a	ad 75 0b	          lda sr
.1e4d	48		          pha
.1e4e	ad 78 0b	          lda acc
.1e51	ae 77 0b	          ldx xr
.1e54	ac 76 0b	          ldy yr
.1e57	28		          plp
.1e58	60		          rts

;******  Return to file: dlbug20.asm

>1e59	34 12		prgend    .word $1234

;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/e-v20-page0.asm

=$01			kvar1     = $01
=$02			kvar2     = $02
=$13			channl    = $13
=$37			memsiz    = $37     ; WORD: Pointeur vers la fin de la mémoire BASIC.
=$57			tmpfp3    = $57     ; 10 octets i.e. 2 fp $57-$5b et $5c-$60
=$61			fac1      = $61     ;  5 octets i.e.      $61-$66
=$69			fac2      = $69     ;  5 octets i.e.      $69-$6e
=$73			chrget    = $73     ; Recup Basic car texte 24 octets i.e. $73-$8a
=$79			chrgot    = $79     ;  ...une seconde fois.
=$7c			chrtst    = $7c
=$90			kiostatus = $90     ; Kernal I/O status word (st) (byte)
=$93			verck     = $93     ; 0=LOAD, 1=VERIFY
=$99			dfltn     = $99     ; Numéro du périphérique d'entrée actuel.
=$9d			msgflg    = $9d     ; Indicateur de contrôle des messages du noyau.
=$a0			time      = $a0     ; 3 octets i.e. HR:$a0, MN:$a1, SC:$a2
=$b7			curfnlen  = $b7     ; Longueur actuelle du nom de fichier (octets).
=$b8			la        = $b8     ; Numéro de fichier logique actuel utilisé.
=$b9			sa        = $b9     ; Adresse secondaire actuellement utilisée.
=$b9			cursecadd = $b9     ; Adresse secondaire actuellement utilisée. (octet).
=$ba			fa        = $ba     ; Numéro de périphérique actuel (octet).
=$ba			curdevno  = $ba     ; Numéro de périphérique actuel (octet).
=$bb			fnadr     = $bb     ; Pointeur de fichier actuel (mot).
=$bb			curfptr   = $bb     ; Pointeur de fichier actuel (mot).
=$c1			stal      = $c1     ;
=$c3			memuss    = $c3     ; Pointeur vers la zone de RAM en cours de chargement.(mot)
=$c6			ndx       = $c6     ; Nombre de caractères (0-10) dans le tampon du clavier.
=$c7			rvs       = $c7     ; Indicateur pour caractères d'écran inversés.
=$d1			scrnlin   = $d1     ; ptr cur-scrn-line
=$d6			tblx      = $d6     ; Curseur : numéro de la ligne physique actuelle sur
=$fb			zp1       = $fb     ; 1er Zpage prog. usager address (word)
=$fb			zpage1    = $fb     ; zero page 1
=$fd			zp2       = $fd     ; 2em Zpage prog. usager address (word)
=$fd			zpage2    = $fd     ; zero page 2 address (word)

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/e-v20-float.asm

=$cfe6			ffpor   =   $cfe6   ; f1=f1 or f2.
=$cfe9			ffpand  =   $cfe9   ; f1=f1 and f2.
=$d1aa			ff1wrday=   $d1aa   ; f1=word->$aayy
=$d1bf			ff1swd64=   $d1bf   ; f1=sw(f1)->64
=$d1d2			ff1wrd64=   $d1d2   ; f1=uw(f1)->64
=$d391			fwrdayf1=   $d391   ; $aayy->f1
=$d3a2			fiyytf1 =   $d3a2   ; f1=float(y)
=$d79e			ff1evalx=   $d79e   ; eval. expr. f1 to x.
=$d7a1			ff1bytxx=   $d7a1   ; f1 to byte in x
=$d7f7			ff1to20 =   $d7f7   ; f1 -> int($14,$15)
=$d849			ff1p05  =   $d849   ; f1=f1+0,5.
=$d850			ffvsf1  =   $d850   ; f1=fv-f1 ($yyaa)
=$d853			ff2sf1  =   $d853   ; f1=f2-f1.
=$d867			ffvpf1  =   $d867   ; f1=fv+f1 ($yyaa)
=$d86a			ff2pf1  =   $d86a   ; f1=f2+f1
=$d8f7			fzerof1 =   $d8f7   ; f1=0.0
=$d947			ff1com2 =   $d947   ; f1=two's compl f1
=$da28			ff1xfv  =   $da28   ; f1=f1*fv ($yyaa)
=$da2b			ff1xf2  =   $da2b   ; f1=f1*f2
=$da59			ff1maa  =   $da59   ; f1=f1*.A
=$da8c			ffvtf2  =   $da8c   ; fv $(yyaa) -> f2
=$dae2			ff1x10  =   $dae2   ; f1=f1*10
=$dafe			ff1d10  =   $dafe   ; f1=f1/10
=$db0f			ffvdf1  =   $db0f   ; f1=fv/f1 ($yyaa)
=$db12			ff2df1  =   $db12   ; f1=f2/f1
=$dbc7			ff1t5c  =   $dbc7   ; Copie f1 vers $5c-$60.
=$dbca			ff1t57  =   $dbca   ; copie f1 vers $57-$5b.
=$dbd0			ff1t49  =   $dbd0   ; copie f1 vers $49-$4a.
=$dbd4			ff1tyx  =   $dbd4   ; Copie f1 mem $yyxx.
=$dbfc			ff2tf1  =   $dbfc   ; copie f2 to f1.
=$dc0c			ff1tf2r =   $dc0c   ; Copie f1 to f2 avec arrondissement.
=$dc0f			ff1tf2  =   $dc0f   ; Copie f1 to f2 sans arrondissement.
=$dc1b			ff1rnd  =   $dc1b   ; f1=round(f1).
=$dc2b			fsngf1  =   $dc2b   ; Tester le signe de FAC1.
=$dc39			ff1sign =   $dc39   ; f1=sgn(f1).
=$dc3c			fiaatf1 =   $dc3c   ; Conv. .A->F1.
=$dc44			fi62tf1 =   $dc44   ; Conv. mot 16 bits $62,$63 a f1.
=$dc58			ff1abs  =   $dc58   ; f1=abs(f1).
=$dc5b			ffvcmp  =   $dc5b   ; f1=f1 comp fv ($yyaa)
=$dc9b			ff1tudw =   $dc9b   ; f1-> 32 octets signé ($62-$65)
=$dccc			ff1int  =   $dccc   ; f1=int(f1).
=$dcf3			fasctf1 =   $dcf3   ; f1=float(ascii)
=$dd7e			ff1pac  =   $dd7e   ; f1=f1+ra val ra=0-9
=$ddcd			fiaxtf1 =   $ddcd   ; f1=float($aaxx)+print
=$dddd			ff1tasc =   $dddd   ; f1 to ascii ($yyaa)
=$df71			ff1sqr  =   $df71   ; f1=sqrt(f1).
=$df7b			ff1ef2  =   $df7b   ; f1=f1^f2
=$dfb4			ff1nf1  =   $dfb4   ; f1=-f1.
=$e261			ffac1cos=   $e261   ; f1=sin(f1+(pi/2)).. FAC1 copié en ram.
=$e264			ff1cos  =   $e264   ; f1=sin(f1+(pi/2)).
=$e26b			ffac1sin=   $e26b   ; f1=sin(f1). FAC1 copié en ram.
=$e26b			ff1sin  =   $e26b   ; f1=sin(f1)
=$e2b1			ffac1tan=   $e2b1   ; f1=sin(f1)/cos(f1). FAC1 copié en ram.
=$e2b4			ff1tan  =   $e2b4   ; f1=sin(f1)/cos(f1)
=$e30e			ffac1atn=   $e30e   ; f1=atn(f1). FAC1 copié en ram.
=$e30e			ff1atn  =   $e30e   ; f1=atn(f1).

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/e-v20-basic-map.asm

=$c000			bcoldst =   $c000   ; Vecteur vers la routine de démarrage à froid BASIC $e378.
=$c002			bwarmst =   $c002   ; Vecteur vers la routine de démarrage à chaud BASIC $e467.
=$c004			cbmBASIC=   $c004   ; Les caractères "CBMBASIC".
=$c00c			bstmdsp =   $c00c   ; Tableau vectoriel de répartition des mots clés, dans
=$c052			bfundsp =   $c052   ; Tableau des vecteurs de répartition des fonctions dans
=$c080			boptab  =   $c080   ; Tableau vectoriel de répartition des opérations
=$c09e			breslst =   $c09e   ; Tableau des mots-clés BASIC dans l'ordre des jetons.
=$c19e			berrtab =   $c19e   ; Tableau des messages d'erreur BASIC.
=$c328			bbmsgs  =   $c328   ; Tableau de Vecteurs de messages d'erreur BASIC.
=$c364			bmiscmsg=   $c364   ; Messages divers.
=$c38a			bscntk  =   $c38a   ; Trouvez les entrées FOR et GOSUB sur la pile.
=$c3b8			bmakspc =   $c3b8   ; Libérer de l'espace en mémoire pour une nouvelle ligne
=$c3bf			bmovebl =   $c3bf   ; Déplacer un bloc de mémoire.
=$c3fb			bstkspc =   $c3fb   ; Vérifiez si l'espace demandée est disponible sur la pile.
=$c408			bramspc =   $c408   ; Vérifiez que l'espace demandé dans la zone dynamique est
=$c435			bmemerr =   $c435   ; Définir le code du message d'erreur OUT OF MEMORY.
=$c437			berror  =   $c437   ; Routine de message d'erreur BASIC.
=$c469			bprdy   =   $c469   ; Afficher ERREUR, ou un autre message indiqué.
=$c474			bready  =   $c474   ; Afficher le message READY.
=$c480			bmain   =   $c480   ; Boucle principale BASIC, recevoir et exécuter ou stocker
=$c49c			bnewlin =   $c49c   ; Stocker/remplacer une ligne de programme BASIC.
=$c533			blnkprg =   $c533   ; Rechaîner les lignes du programme BASIC.
=$c560			bgetlin =   $c560   ; Recevoir les données du périphérique et remplir la
=$c579			bcrnch  =   $c579   ; Tokenisez la ligne BASIC dans le tampon de texte BASIC.
=$c613			bfinlin =   $c613   ; Trouvez la ligne BASIC à partir de son numéro de ligne.
=$c69c			bstxtpt =   $c69c   ; Ramener TXTPTR au début du programme.
=$c71a			bqplop  =   $c71a   ; Liste des mots-clés BASIC détokenisés.
=$c7ae			bnewstt =   $c7ae   ; Recherche (pour exécution) l'instruction BASIC suivante.
=$c7e4			bgone   =   $c7e4   ; Exécutez l'instruction BASIC actuelle.
=$c82c			btststop=   $c82c   ; Testez la touche STOP.
=$c8fb			bbumptp =   $c8fb   ; Incrémenter TXTPTR du montant en .Y.
=$c906			bfind2  =   $c906   ; Scannez le tampon de texte BASIC à 512 ($200) pour les
=$c96b			bdecbin =   $c96b   ; Convertir un numéro de ligne décimal au format LSB/MSB.
=$c9c2			blet2   =   $c9c2   ; LET : Affecter une variable entière.
=$c9da			blet5   =   $c9da   ; LET : Affecter TI$.
=$ca2c			blet8   =   $ca2c   ; LET : Affecter une variable de type chaîne de caractères.
=$ca9a			bprti   =   $ca9a   ; Partie de la routine PRINT.
=$cae8			bprt6   =   $cae8   ; Partie de la routine PRINT.
=$cb1e			bprtstr =   $cb1e   ; Imprimez $YYAA jusqu'à $0d ou jusqu'à ce que le nombre
=$cb3b			bprtos  =   $cb3b   ; Format d'impression des caractères d'espace, de curseur
=$cb4d			bigrerr =   $cb4d   ; Routine de formatage des messages d'erreur pour GET,
=$ccfc			bextra  =   $ccfc   ; Messages d'erreur de INPUT.
=$cd8a			btypchk =   $cd8a   ; Vérification du type de variable.
=$cd9e			bfrmevl =   $cd9e   ; Évaluation de formules/expressions.
=$ce83			beval   =   $ce83   ; Évaluer un seul terme d'une expression.
=$ce8a			bpival  =   $ce8a   ; Le NVF. PI = $82 $49 $0f $da $a1.
=$cef1			bparexp =   $cef1   ; L'évaluation entre parenthèses est effectuée.
=$cef7			brpachk =   $cef7   ; Vérification syntaxique pour ")".
=$cefa			blpachk =   $cefa   ; Vérification syntaxique pour "(".
=$cefd			bcomchk =   $cefd   ; Vérification syntaxique pour ",".
=$ceff			bsynchr =   $ceff   ; Vérification syntaxique d'un caractère spécifique dans
=$cf08			bsynerr =   $cf08   ; Provoquez un message d'ERREUR DE SYNTAXE via un saut
=$cf0d			bfactio =   $cf0d   ; Configurer l'index pour "-" (moins monadique).
=$cf14			bvarrange=  $cf14   ; Vérifier la plage de la variable ?
=$cf28			bfacti2 =   $cf28   ; Obtenir le nom et le type de la variable à partir de
=$cfa7			bfacti7 =   $cfa7   ; Appel une fonction.
=$d016			bcompar =   $d016   ; Comparer des nombres ou des chaînes de caractères.
=$d02e			bcmpst  =   $d02e   ; Comparez les chaînes de caractères.
=$d08b			bevlvar =   $d08b   ; Localiser ou créer une variable.
=$d0e7			bfndvar =   $d0e7   ; Localiser la variable.
=$d113			bchrtst =   $d113   ; Vérifie si le caractère ASCII est alphabétique.
=$d11d			bmakvar =   $d11d   ; Créez une nouvelle variable.
=$d185			bretvp  =   $d185   ; Renvoie l'adresse de la variable trouvée ou créée.
=$d194			baryhed =   $d194   ; Calculer la longueur d'un descripteur de tableau.
=$d1a5			bmaxint =   $d1a5   ; Valeur entière maximale de 32768 en Fonction NVF.:
=$d1aa			bintidx =   $d1aa   ; Convertir les nombres à virgule flottante en nombres à
=$d1b2			bgetsub =   $d1b2   ; Convertir une expression en nombre entier.
=$d1bf			bmakint =   $d1bf   ; Convertir un NVF. en entier signé.
=$d1d1			bary    =   $d1d1   ; Trouver un élément d'un tableau ou créer un tableau.
=$d245			bbadsub =   $d245   ; Affiche le message "BAD SUBSCRIPT".
=$d248			bilquan =   $d248   ; Afficher le message "ILLEGAL QUANTITY".
=$d24d			bary2   =   $d24d   ; Tableau trouvé, vérifiez la plage d'indices.
=$d261			bary6   =   $d261   ; Créer un tableau.
=$d2ea			bary14  =   $d2ea   ; Localiser un élément particulier du tableau.
=$d34c			bmi6    =   $d34c   ; Calculer la taille du tableau multidimensionnel.
=$d391			bmkfp   =   $d391   ; Convertir l'entier .AAYY .Y (LSB) et .A (MSB) en virgule
=$d3a6			bnidirm =   $d3a6   ; Vérifiez si l'instruction est saisie en mode direct.
=$d3ae			bundef  =   $d3ae   ; Émet un message « UNDEF'D FUNCTION » pour EVALFN ($d3f4).
=$d3e1			bfn     =   $d3e1   ; Vérifie la syntaxe de DEF FN et FN.
=$d44f			bevfn3  =   $d44f   ; Stocker les valeurs DEF FN dans le descripteur de
=$d475			balci   =   $d475   ; Calcul le vecteur et la longueur de la nouvelle chaine.
=$d487			bmakstr =   $d487   ; Analyse et configure la chaîne.
=$d4f4			balcspc =   $d4f4   ; Alloue de l'espace mémoire pour une chaîne de caractères.
=$d526			bgrbcol =   $d526   ; Collecteur de dechets.
=$d5b5			bgcoli3 =   $d5b5   ; Vérifiez si la chaîne la plus éligible est à collecter.
=$d606			bcolect =   $d606   ; Collecte en déchets une chaine.
=$d67a			bxferstr=   $d67a   ; Déplacer la chaîne de caractères en mémoire.
=$d6a3			bdelst  =   $d6a3   ; Supprimez une chaîne temporaire.
=$d6db			bdeltsd =   $d6db   ; Nettoyez la pile de descripteurs de chaînes temporaires.
=$d761			bfinlmr =   $d761   ; Obtenir les paramètres de chaîne pour LEFT$, MID$ et
=$d782			bgsinfo =   $d782   ; Obtenez des informations sur la chaîne.
=$d79b			bgetbyt =   $d79b   ; Obtenir un nombre compris entre 0 et 255.
=$d7eb			bgetad  =   $d7eb   ; Récupération de deux paramètres pour POKE et WAIT.
=$d7f7			bmakadr =   $d7f7   ; Convertir le NVF. FAC en un entier
=$d849			badd05  =   $d849   ; Additionner 0,5 à f1.
=$d850			blamin  =   $d850   ; Soustraction du contenu de la mémoire de f1.
=$d862			bplus1  =   $d862   ; Effectuer un prédécalage d'exposant (?) et continue
=$d867			blaplus =   $d867   ; Ajoute FV à f1.
=$d8a7			bplus6  =   $d8a7   ; Rendre le résultat négatif si un emprunt a été effectué.
=$d8f7			bzerfac =   $d8f7   ; Met f1 à zéro et rend le signe positif puisque le
=$d8fe			bnormlz =   $d8fe   ; Renormaliser le résultat f1.
=$d947			bcomfac =   $d947   ; Complément à 2 de f1 entièrement.
=$d97e			boverfl =   $d97e   ; Affiche le message OVERFLOW et quitte.
=$d983			basrres =   $d983   ; Effectuer un prédécalage d'exposant (?) et continue
=$d9bc			bfpci   =   $d9bc   ; Constante de un pour un accumulateur à Fonction NVF.:
=$d9c1			bloggon =   $d9c1   ; Constantes de la fonction LOG.
=$da59			btimes3 =   $da59   ; Sous-programme de multiplication de .A.
=$da8c			blodarg =   $da8c   ; Déplacer la mémoire à virgule flottante vers FAC2.
=$dab7			bmuldiv =   $dab7   ; Additionne les exposants de f1 et f2
=$dae2			bmulten =   $dae2   ; Multiplie f1 par 10.
=$daf9			bfpcten =   $daf9   ; +10 constante à virgule flottante : $84,$20,$00,$00,$00.
=$dafe			bdivten =   $dafe   ; Divise F1 par 10.
=$db0f			bladiv  =   $db0f   ; Déplace le NVF. en mémoire vers f2.
=$dba2			blodfac =   $dba2   ; Déplace le NVF. en mémoire dans f1.
=$dba2			ffvtf1  =   $dba2   ; copie fv $(yyaa) to f1
=$dbc7			bfactf2 =   $dbc7   ; Déplace f1 en mémoire.
=$dbca			bfactf1 =   $dbca   ; Déplace f1 en mémoire.
=$dbd0			bfactfp =   $dbd0   ; Déplace f1 en mémoire.
=$dbd4			bstorfac=   $dbd4   ; Déplace FAC1 en mémoire.
=$dbfc			batof   =   $dbfc   ; Transférer FAC2 vers FAC1.
=$dc0c			brftoa  =   $dc0c   ; Déplace FAC1 vers FAC2, avec arrondissement.
=$dc0f			bftoa   =   $dc0f   ; Déplace FAC1 vers FAC2, sans arrondissement.
=$dc1b			bround  =   $dc1b   ; Arrondir FAC1 en ajustant l'octet d'arrondi.
=$dc2b			bshgfac =   $dc2b   ; Tester le signe de FAC1.
=$dc3c			bintfp  =   $dc3c   ; Convertie .A en NVF. dans FAC1.
=$dc44			bintfp1 =   $dc44   ; Convertir un entier 16 bits ($62,$63) en NVF. dans FAC1.
=$dc5b			bcmpfac =   $dc5b   ; Comparez FAC1 à la mémoire ($YYAA).
=$dc9b			bfpint  =   $dc9b   ; Convertir FAC1 en entier signé. dans $62-$65 Double-mot
=$dce9			bfilfac =   $dce9   ; Stockez le contenu de .A dans les emplacements ($62-$65).
=$dcf3			bascflt =   $dcf3   ; Convertir une chaîne ASCII en un NVF. dans FAC1.
=$dd7e			basc18  =   $dd7e   ; Aditionne .A à FAC1.
=$ddb3			bfpc12  =   $ddb3   ; Constante de conversion de chaîne de caractères en NVF.
=$ddc2			bprtin  =   $ddc2   ; Émet le message IN.
=$ddcd			bprtfix =   $ddcd   ; Routine d'affichage des nombres décimaux.
=$dddd			bfltasc =   $dddd   ; Convertir FAC en TI$ ou en chaîne ASCII.
=$df11			bflp05  =   $df11   ; 0,5 constante pour l'arrondi et SQR.
=$df16			bfltcon =   $df16   ; Table des puissances de 10, au format entier fixe de
=$df3a			bhmscon =   $df3a   ; Constantes pour la conversion de division TI$, au format
=$dfbf			bexpcon =   $dfbf   ; Tableau pour EXP, au format à virgule flottante.
=$e040			bserevl =   $e040   ; Routine d’évaluation des séries.
=$e056			bser2   =   $e056   ; Routine d'évaluation des séries mathématiques.
=$e08a			brndc1  =   $e08a   ; Tableau des constantes pour RND.
=$e0f6			bpatchbas=  $e0f6   ; Routines de patch BASIC.
=$e1d1			bparsl  =   $e1d1   ; Définie les paramètres LOAD, VERIFY et SAVE.
=$e203			bifchrg =   $e203   ; Vérifiez si la commande actuelle contient d'autres
=$e20b			bskpcom =   $e20b   ; Ignorer toute virgule dans les paramètres analysés.
=$e20e			bchrerr =   $e20e   ; S'assurez qu'un paramètre soit présent après une virgule.
=$e216			bparoc  =   $e216   ; Gérer les paramètres de OPEN et CLOSE.
=$e2dd			bfpc20  =   $e2dd   ; Valeurs des constantes d'évaluation trigonométriques
=$e33b			batncon =   $e33b   ; Tableau des valeurs constantes pour l'évaluation ATN.
=$e378			bcoldba =   $e378   ; Effectue un démarrage à froid de BASIC.
=$e387			bcgimag =   $e387   ; La routine CHRGET et la graine RND doivent être copiées
=$e3a4			binitba =   $e3a4   ; Initialisation de BASIC : Restauration de CHRGET et des
=$e404			bfremsg =   $e404   ; Afficher le message de démarrage à froid de BASIC.
=$e429			bcbmmsg =   $e429   ; Message de démarrage à froid de BASIC.
=$e44f			bbasvctrs=  $e44f   ; Six vecteurs BASIC à copier à l'emplacement 768 ($300).
=$e45b			binitvctrs= $e45b   ; Copie des vecteurs BASIC de la ROM vers la RAM.
=$e467			bwarmbas=   $e467   ; Effectue un démarrage à chaud de BASIC.
=$e476			bpatcher=   $e476   ; Zone de "patch" programme.

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/e-v20-kernal-map.asm

=$0100			fascii    = $0100   ;region conv FP a ascii
=$0286			kcol      = $0286   ;Couleur car affiche.
=$a000			basicrom  = $a000
=$d000			chargen   = $d000
=$9000			vic       = $9000
=$9110			via1      = $9110   ;cia1 base address
=$dd00			via2      = $dd00   ;cia2 base address
=$e000			kernalrom = $e000
=0			eot       =    0
=8			discase   =    8
=9			enacase   =    9
=14			locase    =    14
=17			crsdown   =    17
=18			revson    =    18
=19			gohome    =    19
=20			delete    =    20
=29			crsright  =    29
=142			upcase    =    142
=145			crsup     =    145
=157			crsleft   =    157
=146			revsoff   =    146
=147			clrhome   =    147
=$03			bstop     =   $03      ;stop
=$05			bwhite    =   $05      ;set colour white
=$08			block     =   $08      ;lock the charset
=$09			bunlock   =   $09      ;unlock the charset
=$0d			bcarret   =   $0d
=$0e			btext     =   $0e
=$11			bcrsdn    =   $11      ;cursor down 1 line
=$12			brevcol   =   $12
=$13			bhome     =   $13
=$14			bdelete   =   $14
=$1c			bred      =   $1c
=$1d			bcuright  =   $1d
=$1e			bgreen    =   $1e
=$1f			bblue     =   $1f
=$81			borange   =   $81
=$83			blrun     =   $83
=$85			bfkey1    =   $85
=$86			bfkey2    =   $86
=$87			bfkey3    =   $87
=$88			bfkey4    =   $88
=$89			bfkey5    =   $89
=$8a			bfkey6    =   $8a
=$8b			bfkey7    =   $8b
=$8c			bfkey8    =   $8c
=$8d			bcarret1  =   $8d
=$8e			bgraph    =   $8e
=$90			bblack    =   $90
=$91			bcuup     =   $91
=$92			brevoff   =   $92
=$93			bclear    =   $93
=$94			binsert   =   $94
=$95			bbrown    =   $95
=$96			bltred    =   $96
=$97			bdkgrey   =   $97
=$98			bmdgrey   =   $98
=$99			bltgreen  =   $99
=$9a			bltblue   =   $9a
=$9b			bltgrey   =   $9b
=$9c			bmagenta  =   $9c
=$9d			bculeft   =   $9d
=$9e			byellow   =   $9e
=$9f			bcyan     =   $9f
=$0286			carcol  = $0286
=$030a			ieval   = $030a
=$0			enoir       = $0
=$1			eblanc      = $1
=$2			erouge      = $2
=$3			eocean      = $3
=$4			emauve      = $4
=$5			evert       = $5
=$6			ebleu       = $6
=$7			ejaune      = $7
=$8			eorange     = $8
=$9			ebrun       = $9
=$a			erose       = $a
=$b			egrisfonce  = $b
=$c			egrismoyen  = $c
=$d			evertpale   = $d
=$e			ebleupale   = $e
=$f			egrispale   = $f
=144			snoir       = 144
=5			sblanc      = 5
=28			srouge      = 28
=159			socean      = 159
=156			smauve      = 156
=30			svert       = 30
=31			sbleu       = 31
=158			sjaune      = 158
=$e4a0			serout1 = $e4a0 ; Serial: Output a 1 on the serial data line.
=$e4a9			serout0 = $e4a9 ; Serial: Output a 0 on the serial data line.
=$e4b2			serget  = $e4b2 ; Serial: Get an input bit from VIA1 and stabilize.
=$e4bc			patches = $e4bc ; Program patch area.
=$e500			iobase  = $e500 ; ($e500) Define i/o memory page
=$e505			screen  = $e505 ; Return screen format
=$e50a			plot    = $e50a ; Set or retrieve cursor location x=column, y=line
=$e518			initsk  = $e518 ; Initialize 6550 Vic Chip, screen and related pointers.
=$e55f			clsr    = $e55f ; Clear the screen.
=$e55f			home    = $e55f ; Move the cursor to the screen home position.
=$e587			setslink= $e587 ; Reset the screen line link table pointers.
=$e5b5			unusdnmi= $e5b5 ; NMI entry for restore key (No entry for this routine found.)
=$e5bb			setiodef= $e5bb ; Reset the default device number.
=$e5c3			initvic = $e5c3 ; Reset the vic chip registers.
=$e5cf			lp2     = $e5cf ; Get a character from the keyboard queue and shift it down.
=$e5e5			getque  = $e5e5 ; Wait for character to appear in the keyboard buffer.
=$e619			get2rtn = $e619 ; Empty the keyboard buffer up to a carriage return.
=$e64f			getscrn = $e64f ; Optain input from screen.
=$e6b8			quoteck = $e6b8 ; Test for quote and set flag.
=$e6c5			setchar = $e6c5 ; Set up diaplay of a character on the screen.
=$e6ea			scroll  = $e6ea ; advance the cursor on the screen, adds lines, and scroll.
=$e72d			retreat = $e72d ; Backup the cursor into the previous ligical screen line from
=$e742			scrnout = $e742 ; Handle characters going to the screen.
=$e8c3			nxtline = $e8c3 ; Advance cursor to the next logical line.
=$e8d8			rtrn    = $e8d8 ; Handle the carriage return key.
=$e8e8			backup  = $e8e8 ; Move the corsor to the end of the previoud physical screen
=$e8fa			forward = $e8fa ; Move the cursor to the start of the next screen line if the
=$e912			colourset=$e912 ; Set the current foreground colour code.
=$e921			colourtbl=$e921 ; Colour code key table.
=$e929			cnvrtcd = $e929 ; Code conversion table.
=$e975			scrl    = $e975 ; Scroll the screen.
=$e9ee			openlin = $e9ee ; Open up a blank physical line on the screen for inserts.
=$ea56			movline = $ea56 ; Move screen line.
=$ea6e			setaddr = $ea6e ; The address of the screen line + color line is set in memory.
=$ea7e			linptr  = $ea7e ; Set a pointer to the address of the start of the screen line.
=$ea8d			clraline= $ea8d ; Blank out a physical screen line.
=$eaa1			synptr  = $eaa1 ; Synchronize color to byte and store character on screen.
=$eaaa			putscrn = $eaaa ; store a character on the screen.
=$eab2			colorsyn= $eab2 ; The address of the color map byte for screen map byte is
=$eabf			irq     = $eabf ; IRQ interupt handler.
=$eb1e			scnkey  = $eb1e ; Scan the keyboard
=$ebdc			setkeys = $ebdc ; Set keyboard decode table address in 245-246 ($f6-$f6).
=$ec46			keyvctrs= $ec46 ; Keyboard decode table addresses.
=$ec5e			normkeys= $ec5e ; Table used for decoding unshifted keys into ascii.
=$ec9f			shftkeys= $ec9f ; Table used for decoding SHIFTed keys into ascii.
=$ece0			logokeys= $ece0 ; Table used for decoding Commodore SHIFTed keys into ascii.
=$ed21			charset = $ed21 ; Used to set uppercase/graphics character set.
=$ed30			graphmode=$ed30 ; Set the environment specified by graphics control characters.
=$ed5b			wrapline= $ed5b ;
=$ed69			whatkeys= $ed69 ; Apparently unused keyboard decoding table.
=$eda3			ctrlkeys= $eda3 ; Table used for decoding CTRL SHIFT keys into ascii.
=$ede4			vicinit = $ede4 ; Initial values for VIC chip registers.
=$edf4			runtb   = $edf4 ; LOAD and RUN words for the SHIFT and RUN keys.
=$edfd			ldtb2   = $edfd ; Screen line link table LSB of line in screen map.
=$ee14			talk    = $ee14 ; Send Talk command to serial bus.
=$ee17			listen  = $ee17 ; Command a device on the serial bus to listen.
=$ee1c			listi   = $ee1c ; Serial: Prepare to send serial command with attention.
=$ee49			srsend  = $ee49 ; Serial: Send command or data to serial device.
=$eeb4			srbad   = $eeb4 ; Serial: Set ST for timeout or DEVICE NOT PRESENT.
=$eec0			second  = $eec0 ; Send secondary address after listen
=$eec5			scatn   = $eec5 ; Serial: Clear attention.
=$eece			tksa    = $eece ; Send a secondary address to a device commanded to talk
=$eee4			ciout   = $eee4 ; Transmit a byte over the serial bus
=$eef6			untlk   = $eef6 ; Send an untalk command
=$ef04			unlsn   = $ef04 ; Send an unlisten command
=$ef19			acptr   = $ef19 ; Recoit un caractere provenant du port serie
=$ef84			srclkhi = $ef84 ; Serial: Set clock line high.
=$ef8d			srclklo = $ef8d ; Serial: Set clock line low.
=$ef96			waitabit= $ef96 ; Serial: Delay one millisecond.
=$efa3			rsnxtbit= $efa3 ; RS-232: Send the next bin (NMI continuation routine).
=$efbf			rsprty  = $efbf ; RS-232: Calculate barity and stop bits value.
=$efe8			rsstops = $efe8 ; RS-232: Transmit stop bits.
=$efee			rsnxtbyt= $efee ; RS-232: Prepare the next byte to be send from send buffer.
=$f016			rsmissing=$f016 ; RS-232: Set Clear To Send or Data Set Ready Missing status.
=$f027			rscptbit= $f027 ; RS-232: Compute desire word lenght bit count.
=$f036			rsinbit = $f036 ; RS-232: Recieve an input bit (NMI driven).
=$f04b			rsstpbit= $f04b ; RS-232: Determine if all the stop bits have been recieved yet.
=$f05b			rsprepin= $f05b ; RS-232: Prepare to recieve the next input byte.
=$f068			rsstrbit= $f068 ; RS-232: Check for start bit in recieve mode.
=$f06f			rsinbyte= $f06f ; RS-232: Put constructed byte into reciebe buffer.
=$f08b			rsinprty= $f08b ; RS-232: Parity checking of the input byte.
=$f09d			rsprtyer= $f09d ; RS-232: Parity error on input byte.
=$f0a2			rsoverun= $f0a2 ; RS-232: Buffer overrun on input byte.
=$f0a5			rsbreak = $f0a5 ; RS-232: Break detected on input.
=$f0a8			rsframer= $f0a8 ; RS-232: Framing error on input.
=$f0aa			rsinerr = $f0aa ; RS-232: Set input error status and continue.
=$f0b9			rsdvcerr= $f0b9 ; RS-232: ILLEGAL DEVICE message for LOAD or SAVE.
=$f0bc			rsopnout= $f0bc ; RS-232: Open an RS-232 channel for output.
=$f0ed			rsoutsav= $f0ed ; RS-232: Store a character in the transmit buffer.
=$f102			rsprepot= $f102 ; RS-232: Set up NMI for transmission.
=$f116			rsopnin = $f116 ; RS-232: Open an RS-232 channel for input.
=$f14f			rsnxtin = $f14f ; RS-232: Retrieve the next character from the recieve buffer.
=$f160			rspause = $f160 ; RS-232: Check if serial and tape are idle, protect from RS232.
=$f174			kmsgtbl = $f174 ; Table of KERNAL messages.
=$f1e2			spmsg   = $F1e2 ; Display LOADING or VERIFYING if control messages wanted.
=$f1e6			kmsgshow= $f1e6 ; Print KERNAL control messages.
=$f1f5			getin   = $f1f5 ; Get a character.
=$f20e			ibasin  = $f20e ; Get a character from the input channel
=$f20e			chrin   = $f20e ; Description:
=$f230			chrintp = $f230 ; Obtain a byte from the tape buffer.
=$f250			chrintp2= $f250 ; Load .A with next tape character, getting block when needed.
=$f264			chrinsr = $f264 ; Obtain a byte from the serial line.
=$f26f			chrinrs = $f26f ; RS-232: Obtain a byte from the rs-232 device.
=$f27a			chrout  = $f27a ; Output character to current output device.
=$f290			chrouttp= $f290 ; Output a character to tape.
=$f2c7			chkin   = $f2c7 ; Define an input channel.
=$f309			chkout  = $f309 ; Define an output channel.
=$f34a			close   = $f34a ; (Close a logical file
=$f3cf			fndflno = $f3cf ; Find file number (.x) in file table at 601 ($0259).
=$f3df			setflch = $f3df ; Set file characteristics of file (.x) into 184-186 ($b8-$ba).
=$f3ef			clall   = $f3ef ; Close all open files
=$f3f3			clrchn  = $f3f3 ; Clear all i/o channels.
=$f40a			open    = $f40a ; Open a logical file
=$f495			sername = $f495 ; Send secondary address and filename to serial device.
=$f4c7			openrs  = $f4c7 ; RS-232: open RS-232 device.
=$f542			load    = $f542 ; Load device to RAM.
=$f55c			loadser = $f55c ; Load or Verify from serial device.
=$f5d1			loadtp  = $f5d1 ; Load or Verify from tape.
=$f647			srching = $f647 ; Display SEARCHING message for tape device.
=$f659			filename= $f659 ; Display the filename.
=$f66a			ldvrmsg = $f66a ; Display LOADING or VERIFYING message.
=$f675			save    = $f675 ; Save memory to a device.
=$f692			saveser = $f692 ; Save RAM to serial device (except: RS-232,screen or keyboard).
=$f6f1			savetp  = $f6f1 ; Save RAM to tape.
=$f728			saving  = $f728 ; Display SAVING message.
=$f734			udtim   = $f734 ; Update the system clock
=$f760			rdtim   = $f760 ; Read system clock
=$f767			settim  = $f767 ; Set the system clock.
=$f770			stop    = $f770 ; Check if stop key is pressed.
=$f77e			filemsg = $f77e ; I/O error file error message handler.
=$f7af			fah     = $f7af ; Tape: find next tape header, .X back contains header ID#.
=$f7e7			tapeh   = $f7e7 ; Tape: Build an output tape header in the tape buffer area.
=$f84d			tpbufa  = $f84d ; Tape: Load tape buffer address from 178-179($b2-$b3) in .X .Y.
=$f854			ldad1   = $f854 ; Tape: Set Load/Save starting and ending pointers to the tape.
=$f867			fndhrd  = $f867 ; Tape: Find the tape header for a specified filename (or next).
=$f88a			jtp20   = $f88a ; Tape: Increment the tape buffer character counter.
=$f894			cstel   = $f894 ; Tape: Display PRESS PLAY ON TAPE message.
=$f8ab			csio    = $f8ab ; Tape: Check Tape's play/rewind/forward button status.
=$f8b7			cste2   = $f8b7 ; Tape: Display PRESS RECORD & PLAY ON TAPE message.
=$f8c0			rdtpblks= $f8c0 ; Tape: Initiate tape header read.
=$f8c9			rblk    = $f8c9 ; Tape: Read blocks from tape.
=$f8e3			wblk    = $f8e3 ; Tape: Write blocks to tape.
=$f8f4			tape    = $f8f4 ; Tape: Common tape read/write, start tape operations,
=$f94b			tstop   = $f94b ; Tape: Check for the STOP key.
=$f95d			stti    = $f95d ; Tape: Set time limit for tape dispole.
=$f98e			readt   = $f98e ; Tape: Read tape data bits into location 191 ($bf) (IRQ driven)
=$faad			tpstore = $faad ; Tape: Determin if to store the input character from tape.
=$fbd2			rd300   = $fbd2 ; Tape: Called to reset the tape read pointer.
=$fbdb			newch   = $fbdb ; Tape: New tape character setup.
=$fbea			tptogle = $fbea ; Tape: Toggle the tape write line to invert the output signal.
=$fc06			blkend  = $fc06 ; Tape: End of block write processing.
=$fc0b			write   = $fc0b ; Tape: Data write (IRQ driven).
=$fc95			wrtni   = $fc95 ; Tape: Block leader write (IRQ driven).
=$fca8			wrtz    = $fca8 ; Tape: Leader write (IRQ driven).
=$fccf			tnif    = $fccf ; Tape: Restore IRQ vector.
=$fcf6			bsiv    = $fcf6 ; Tape: Reset the current IRQ vector.
=$fd08			tnoff   = $fd08 ; Tape: Kill motor.
=$fd11			vrpty   = $fd11 ; Comnpare current to end of load/save pointers (tape & serial).
=$fd1b			wrt62   = $fd1b ; Increment current load/save pointer (tape & serial).
=$fd22			start   = $fd22 ; Power-on/reset routine (check for autostart cartridge).
=$fd3f			chkauto = $fd3f ; Check for an autostarting program at $a000. if equ a0cbm
=$fd4d			a0cbm   = $fd4d ; A0CBM characters with the high order bit on in the last 3
=$fd52			restor  = $fd52 ; Restore default I/O vectors.
=$fd57			vector  = $fd57 ; ($fd1a) Read/set I/O vectors.
=$fd6d			vectors = $fd6d ; Default system vector address storage table.
=$fd8d			initmem = $fd8d ; Initialize system memory.
=$fdf1			irqvctrs= $fdf1 ; IRQ vectors table.
=$fdf9			initvis = $fdf9 ; Initialize the 6522 VIA registers.
=$fe49			setnam  = $fe49 ; Set up file name
=$fe50			setlfs  = $fe50 ; Set up a logical file
=$fe57			readst  = $fe57 ; Read i/o status word
=$fe66			setmsg  = $fe66 ; Set kernal message output flag
=$fe68			readiost= $fe68 ; Load .A with the non-RE-232 I/O status ST.
=$fe6f			settmo  = $fe6f ; Set ieee bus card timeout flag
=$fe73			memtop  = $fe73 ; Get/Set top of ram
=$fe82			membot  = $fe82 ; Get/set bottom of memory.
=$fe91			tstmem  = $fe91 ; Test a memory location.
=$fea9			nmi     = $fea9 ; NMI handler routine.
=$fed2			break   = $fed2 ; BREAK interupt entry.
=$fede			rsnmi   = $fede ; RS-232: nmi sequence.
=$ff56			krti    = $ff56 ; Restore 6502 registers frm the stack and return frm interrupt.
=$ff5c			baudtbl = $ff5c ; RS-232: VIA timer 2 values for baud rate table.
=$ff72			irqrout = $ff72 ; irq routine initial 6502 entry point.
=$ff85			c4ffs   = $ff85 ; five unused bytes of 255 ($ff).
=$ff8a			crestor = $ff8a ; Jump to 64850 ($fd52) RESTOR.
=$ff8d			cvector = $ff8d ; Jump to 64855 ($fd57) VECTOR.
=$ff90			csetmsg = $ff90 ; Jump to 65126 ($fe66) SETMSG.
=$ff93			csecond = $ff93 ; Jump to 61120 ($eec0) SECOND.
=$ff96			ctksa   = $ff96 ; Jump to 61134 ($eece) TKSA.
=$ff99			cmemtop = $ff99 ; Jump to 65139 ($fe73) MEMTOP.
=$ff9c			cmembot = $ff9c ; Jump to 65154 ($fe82) MEMBOT.
=$ff9f			cscnkey = $ff9f ; Jump to 60190 ($eb1e) SCNKEY.
=$ffa2			csettmo = $ffa2 ; Jump to 65135 ($fe6f) SETTMO.
=$ffa5			cacptr  = $ffa5 ; Jump to 61209 ($ef19) ACPTR.
=$ffa8			cciout  = $ffa8 ; Jump to 61156 ($eee4) CIOUT.
=$ffab			cuntlk  = $ffab ; Jump to 61174 ($eef6) UNTLK.
=$ffae			cunlsn  = $ffae ; Jump to 61188 ($ef04) UNLSN.
=$ffb1			clisten = $ffb1 ; Jump to 60951 ($ee17) LISTEN.
=$ffb4			ctalk   = $ffb4 ; Jump to 60948 ($ee14) TALK.
=$ffb7			crdst   = $ffb7 ; Jump to 65111 ($fe57) READST.
=$ffba			csetlfs = $ffba ; Jump to 65104 ($fe50) SETLFS.
=$ffbd			csetnam = $ffbd ; Jump to 65097 ($fe49) SETNAM.
=$ffc0			copen   = $ffc0 ; Jump off 794-795 ($031a-$031b) IOPEN.
=$ffc3			cclos   = $ffc3 ; Jump off 796-797 ($031c-$031d) ICLOSE.
=$ffc6			inpchn  = $ffc6 ; Jump off 798-799 ($031e-$031f) ICHKIN.
=$ffc9			outchn  = $ffc9 ; Jump off 800-801 ($0320-$0321) ICKOUT.
=$ffcc			cclrchn = $ffcc ; Jump off 802-803 ($0322-$0323) ICLRCH.
=$ffcf			cinch   = $ffcf ; Jump off 804-805 ($0324-$0325) IBASIN.
=$ffd2			cchrout = $ffd2 ; Jump to 62074 ($f27a) CHROUT.
=$ffd5			cload   = $ffd5 ; Jump to 67286 ($f542) LOAD.
=$ffd8			csave   = $ffd8 ; Jump to 63093 ($f675) SAVE.
=$ffdb			csettim = $ffdb ; Jump to 63335 ($f767) SETTIM.
=$ffde			crdtim  = $ffde ; Jump to 63328 ($f760) RDTIM.
=$ffe1			iscntc  = $ffe1 ; Jump off 808-809 ($0328-$0329) ISTOP.
=$ffe4			cgetl   = $ffe4 ; Jump off 810-811 ($032a-$032b) IGETIN.
=$ffe7			ccall   = $ffe7 ; Jump off 812-813 ($032c-$032d) ICALL.
=$ffea			cudtim  = $ffea ; Jump to 63284 ($f734) UDTIM.
=$ffed			cscreen = $ffed ; Jump to 58629 ($e505) SCRN.
=$fff0			cplot   = $fff0 ; Jump to 58634 ($e50a) PLOT.
=$fff3			ciobase = $fff3 ; Jump to 58624 ($e500) IOBASE.
=$fffa			vctrnmi = $fffa ; 6502 vector to 65193 ($fea9) NMI.
=$fffc			vctrrst = $fffc ; 6502 vector to 64802 ($fd22) START.
=$fffe			vctrirq = $fffe ; 6502 vector to 65394 ($ff72) BREAK.
=$e043			kd_poly1     =   $e043
=$e059			kd_poly2     =   $e059
=$e08d			kd_rmulc     =   $e08d       ;
=$e092			kd_raddc     =   $e092       ;
=$e097			kd_rnd       =   $e097
=$e12a			kd_sys       =   $e12a
=$e156			kd_save      =   $e156
=$e165			kd_verify    =   $e165
=$e168			kd_load      =   $e168
=error			kcint       =   cint        ;   , init vic + ecran.
=error			kioinit     =   ioinit      ;   , init i/o dev.
=error			kramtas     =   ramtas      ;   , test de memoire.
=$eee4			kciout      =   ciout       ;a  ,tx byte  acia
=$fd52			krestor     =   restor      ;   , set ram plafond
=$fd57			kvector     =   vector      ;
=$fe66			ksetmsg     =   setmsg      ;a  , set sys. msg. out
=$eec0			ksecond     =   second      ;a  , tx adresse sec.
=$eece			ktksa       =   tksa        ;a  , talk adresse sec.
=$fe73			kmemtop     =   memtop      ; yx, (c) get mem high
=$fe82			kmembot     =   membot      ; yx, (c) get mem low
=error			kscankey    =   scankey     ;   , scan clavier
=$fe6f			ksettmo     =   settmo      ;a  , set ieee timeout
=$ef19			kacptr      =   acptr       ;a  ,rx serie.
=$eef6			kuntlk      =   untlk       ;   , iec-cmc stop talk
=$ef04			kunlsn      =   unlsn       ;   , iec-cmd stop lsn
=$ee17			klisten     =   listen      ;a  , iec-cmd dev ecout
=$ee14			ktalk       =   talk        ;a  , iec-cmd dev parle
=$fe57			kreadst     =   readst      ;a  , lecture i/o stats
=$fe50			ksetlfs     =   setlfs      ;ayx, init fich logi.
=$fe49			ksetnam     =   setnam      ;ayx, init num.nom.fich
=$f40a			kopen       =   open        ;axy, ouvre fich-nom
=$f34a			kclose      =   close       ;a  , ferme fichier #a.
=$f2c7			kchkin      =   chkin       ;  x,open canal in.
=$f309			kchkout     =   chkout      ;  x,open canal out
=$f3f3			kclrchn     =   clrchn      ;   , ferme canaux i/o.
=$f20e			kchrin      =   chrin       ;a  ,recup. un car.
=$f27a			kchrout     =   chrout      ;a  ,sort un car.
=$f1ca			kd_chrout    =   $f1ca
=$f542			kload       =   load        ;ayx, dev->ram
=$f675			ksave       =   save        ;   , sauve mem->dev
=$f767			ksettim     =   settim      ;axy, init sysclock
=$f760			krdtim      =   rdtim       ;axy, lecture sysclock
=$f770			kstop       =   stop        ;a  , ret. stopkey stat
=$f1f5			kgetin      =   getin       ;a  , recup. car. #dev.
=$f3ef			kclall      =   clall       ;   , ferme fichiers.
=$f734			kudtim      =   udtim       ;   , maj sysclock
=$e505			kscreen     =   screen      ; yx, get format ecran
=$e50a			kplot       =   plot        ; yx, (c) get csr pos.
=$e500			kiobase     =   iobase      ; yx, def. i/o mem page
=$e39a			k_echostartup = $e39a
=$e716			k_putch       = $e716 ; 52) Print a character.          ;a--;---; a = char
=$e7a0			k_cls         = $e7a0
=$e87c			k_cursordown  = $e87c
=$e8ea			k_scrollup    = $e8ea
=$e94e			k_home        = $e94e
=$e965			k_insertline  = $e965
=$e9c8			k_screlldown  = $e9c8
=$ed0c			k_devsndlstn  = $ed0c ; 55) Send 'LISTEN'>IEEE/Serial.  ;a--;---; a = dev #
=$ee13			k_ieeein      = $ee13 ; 60) Input from IEEE/Serial.     ;---;a--; a = Data byte
=$eef6			k_devsndutalk = $eef6 ; 58) Send 'UNTALK'>IEEE/Serial.  ;---;---;
=$ef04			k_devsndulstn = $ef04 ; 59) Send 'UNLISTEN'>IEEE/Serial.;---;---;
=$f12f			k_putsysmsg   = $f12f ; 53) Print system message.       ;--y;---; y = msg offset
=$f291			k_cloself     = $f291 ; 61) Close logical file .        ;a--;---; a = file #
=$f49e			k_loadsub     = $f49e ; 63) LOAD subroutine.            ;axy;---; a = # start=yyxx
=$f5af			k_prnsrch     = $f5af ; 64) Print SEARCHING if imm mode.;---;---;
=$f5b3			k_echosearch  = $f5b3 ; 64b) Skipping test part of 64.  ;---;---;
=$f5c1			k_prnfnam     = $f5c1 ; 65) Print filename.             ;---;---;
=$f6ed			k_stop        = $f6ed ; 62) Check for STOP key.         ;---;---; z = 1 pressed
=$f7ea			k_gettaphdblk = $f7ea ; 66) Find a tape hdr blk.        ;a--;---; a = len
=$f7ea			k_fndtaphdblk = $f7ea ; 67) Find any tape hdr blk.      ;---;---;
=$f817			k_waittapplay = $f817 ; 68) Press PLAY... (wait)        ;---;---;
=$f841			k_rdtape2buff = $f841 ; 69) Read tape to buffer.        ;---;---;
=$f847			k_readtape    = $f847 ; 70) Read tape.                  ;---;---;
=$f864			k_wrbuff2tape = $f864 ; 71) write buffer to tape.       ;---;---;
=$f869			k_wrtape      = $f869 ; 72) write tape.                 ;a--;---; a = ldr len
=$fb8e			k_resettapeio = $fb8e ; 73) Reset tape I/O.             ;---;---;
=$fcbd			k_setintvect  = $fcbd ; 74) set interupt vector.        ;---;---;
=$fce2			k_coldreset   = $fce2 ; 75) Power on reset.             ;---;---;
=$fce2			k_coldstart   = $fce2 ; 75) Power on reset.             ;---;---;
=$fce2			k_coldboot    = $fce2 ; 75) Power on reset.             ;---;---;
=$fe66			k_warmreset   = $fe66 ;     Warm resetstart
=$fe66			k_warmboot    = $fe66 ;     Warm resetstart
=$ff93			k_devsndaddr2 = $ff93 ; 56) Send second address.        ;a--;---; a = SA or #$60
=0			kerr00 = 0      ; routine ended by the stop key.
=1			kerr01 = 1      ; too many files open.
=2			kerr02 = 2      ; file already open.
=3			kerr03 = 3      ; file not open.
=4			kerr04 = 4      ; file not found.
=5			kerr05 = 5      ; device not present.
=6			kerr06 = 6      ; file is not an input file.
=7			kerr07 = 7      ; file is not an output file.
=8			kerr08 = 8      ; file name is missing.
=9			kerr09 = 9      ; illegal device number.
=240			kerrf0 = 240    ; top-of-memory change rs-232 buffer allocation.
.1e5b	4c 57 12	pgmstart        jmp      main  ; le programme principale doit s'appeler "main"

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/e-v20-vic.asm

=$9000			vic0      = $9000;ABBBBBBB
=$9001			vic1      = $9001;CCCCCCCC
=$9002			vic2      = $9002;HDDDDDDD
=$9003			vic3      = $9003;GEEEEEEF
=$9004			vic4      = $9004;GGGGGGGG
=$9005			vic5      = $9005;HHHHIIII
=$9006			vic6      = $9006;JJJJJJJJ
=$9007			vic7      = $9007;KKKKKKKK
=$9008			vic8      = $9008;LLLLLLLL
=$9009			vic9      = $9009;MMMMMMMM
=$900a			vicbas    = $900a;NRRRRRRR
=$900a			vic10     = $900a;NRRRRRRR
=$900b			vicalt    = $900b;OSSSSSSS
=$900b			vic11     = $900b;OSSSSSSS
=$900c			vicsop    = $900c;PTTTTTTT
=$900c			vic12     = $900c;PTTTTTTT
=$900d			vicnoi    = $900d;QUUUUUUU
=$900d			vic13     = $900d;QUUUUUUU
=$900e			vicvol    = $900e;WWWWVVVV
=$900e			vic14     = $900e;WWWWVVVV
=$900f			vic15     = $900f;XXXXYZZZ
=$00			vnoir    =   %00000000
=$01			vblanc   =   %00000001
=$02			vrouge   =   %00000010
=$03			vocean   =   %00000011
=$04			vmauve   =   %00000100
=$05			vvert    =   %00000101
=$06			vbleu    =   %00000110
=$07			vjaune   =   %00000111
=$08			vorange  =   %00001000
=$09			vorangep =   %00001001
=$0a			vrose    =   %00001010
=$0b			voceanp  =   %00001011
=$0c			vmauvep  =   %00001100
=$0d			vvert2   =   %00001101
=$0d			vvertp   =   %00001101
=$0e			vbleu1   =   %00001110
=$0e			vbleup   =   %00001110
=$0f			vjaunep   =   %00001111
=$08			vinv      = vorange
=133			v1do1     =    133  ; 32.703-  32.746- 0.131 %
=140			v1dod1    =    140  ; 34.648-  34.739- 0.264 %
=146			v1re1     =    146  ; 36.708-  36.651- 0.155 %
=152			v1red1    =    152  ; 38.891-  38.786- 0.269 %
=158			v1mi1     =    158  ; 41.203-  41.186- 0.043 %
=163			v1fa1     =    163  ; 43.654-  43.424- 0.526 %
=169			v1fad1    =    169  ; 46.249-  46.453- 0.442 %
=173			v1so1     =    173  ; 48.999-  48.720- 0.571 %
=178			v1so1d    =    178  ; 51.913-  51.883- 0.058 %
=182			v1la1     =    182  ; 55.000-  54.726- 0.498 %
=186			v1lad1    =    186  ; 58.270-  57.899- 0.638 %
=190			v1si1     =    190  ; 61.735-  61.462- 0.444 %
=194			v1do2     =    194  ; 65.406-  65.492- 0.131 %
=197			v1dod2    =    197  ; 69.296-  69.478- 0.264 %
=201			v1re2     =    201  ; 73.416-  73.303- 0.155 %
=204			v1red2    =    204  ; 77.782-  77.573- 0.269 %
=207			v1mi2     =    207  ; 82.407-  82.371- 0.043 %
=209			v1fa2     =    209  ; 87.307-  86.848- 0.526 %
=212			v1fad2    =    212  ; 92.499-  92.907- 0.442 %
=214			v1so2     =    214  ; 97.999-  97.439- 0.571 %
=217			v1so2d    =    217  ;103.826- 103.766- 0.058 %
=219			v1la2     =    219  ;110.000- 109.452- 0.498 %
=221			v1lad2    =    221  ;116.541- 115.797- 0.638 %
=223			v1si2     =    223  ;123.471- 122.923- 0.444 %
=224			v1do3     =    224  ;130.813- 130.984- 0.131 %
=226			v1dod3    =    226  ;138.591- 138.957- 0.264 %
=228			v1re3     =    228  ;146.832- 146.606- 0.155 %
=229			v1red3    =    229  ;155.563- 155.146- 0.269 %
=231			v1mi3     =    231  ;164.814- 164.742- 0.043 %
=232			v1fa3     =    232  ;174.614- 173.696- 0.526 %
=233			v1fad3    =    233  ;184.997- 185.814- 0.442 %
=235			v1so3     =    235  ;195.998- 194.878- 0.571 %
=236			v1sod3    =    236  ;207.652- 207.532- 0.058 %
=237			v1la3     =    237  ;220.000- 218.904- 0.498 %
=238			v1lad3    =    238  ;233.082- 231.594- 0.638 %
=239			v1si3     =    239  ;246.942- 245.846- 0.444 %
=240			v1do4     =    240  ;261.626- 261.967- 0.131 %
=0			v1dod4    =      0  ;277.183- 275.517- 0.601 %
=0			v1re4     =      0  ;293.665- 295.926- 0.770 %
=242			v1red4    =    242  ;311.127- 313.333- 0.709 %
=243			v1mi4     =    243  ;329.628- 332.917- 0.998 %
=0			v1fa4     =      0  ;349.228- 347.391- 0.526 %
=244			v1fad4    =    244  ;369.994- 371.628- 0.442 %
=245			v1so4     =    245  ;391.995- 389.756- 0.571 %
=0			v1sod4    =      0  ;415.305- 420.526- 1.257 %
=246			v1la4     =    246  ;440.000- 443.889- 0.884 %
=0			v1lad4    =      0  ;466.164- 470.000- 0.823 %
=247			v1si4     =    247  ;493.883- 499.375- 1.112 %
=0			v1do5     =      0  ;523.251- 515.484- 1.484 %
=0			v1dod5    =      0  ;554.365- 551.034- 0.601 %
=0			v1re5     =      0  ;587.329- 591.852- 0.770 %
=0			v1red5    =      0  ;622.254- 614.615- 1.228 %
=249			v1mi5     =    249  ;659.255- 665.833- 0.998 %
=0			v1fa5     =      0  ;698.456- 694.783- 0.526 %
=0			v1fad5    =      0  ;739.989- 726.364- 1.841 %
=250			v1so5     =    250  ;783.991- 799.000- 1.914 %
=0			v1sod5    =      0  ;830.609- 841.053- 1.257 %
=0			v1la5     =      0  ;880.000- 887.778- 0.884 %
=0			v1lad5    =      0  ;932.327- 940.000- 0.823 %
=133			v2do2     =    133  ; 65.406-  65.492- 0.131 %
=140			v2dod2    =    140  ; 69.296-  69.478- 0.264 %
=146			v2re2     =    146  ; 73.416-  73.303- 0.155 %
=152			v2red2    =    152  ; 77.782-  77.573- 0.269 %
=158			v2mi2     =    158  ; 82.407-  82.371- 0.043 %
=163			v2fa2     =    163  ; 87.307-  86.848- 0.526 %
=169			v2fad2    =    169  ; 92.499-  92.907- 0.442 %
=173			v2so2     =    173  ; 97.999-  97.439- 0.571 %
=178			v2sod2    =    178  ;103.826- 103.766- 0.058 %
=182			v2la2     =    182  ;110.000- 109.452- 0.498 %
=186			v2lad2    =    186  ;116.541- 115.797- 0.638 %
=190			v2si2     =    190  ;123.471- 122.923- 0.444 %
=194			v2do3     =    194  ;130.813- 130.984- 0.131 %
=197			v2dod3    =    197  ;138.591- 138.957- 0.264 %
=201			v2re3     =    201  ;146.832- 146.606- 0.155 %
=204			v2red3    =    204  ;155.563- 155.146- 0.269 %
=207			v2mi3     =    207  ;164.814- 164.742- 0.043 %
=209			v2fa3     =    209  ;174.614- 173.696- 0.526 %
=212			v2fad3    =    212  ;184.997- 185.814- 0.442 %
=214			v2so3     =    214  ;195.998- 194.878- 0.571 %
=217			v2sod3    =    217  ;207.652- 207.532- 0.058 %
=219			v2la3     =    219  ;220.000- 218.904- 0.498 %
=221			v2lad3    =    221  ;233.082- 231.594- 0.638 %
=223			v2si3     =    223  ;246.942- 245.846- 0.444 %
=225			v2do4     =    225  ;261.626- 261.967- 0.131 %
=226			v2dod4    =    226  ;277.183- 275.517- 0.601 %
=228			v2re4     =    228  ;293.665- 295.926- 0.770 %
=229			v2red4    =    229  ;311.127- 313.333- 0.709 %
=231			v2mi4     =    231  ;329.628- 332.917- 0.998 %
=232			v2fa4     =    232  ;349.228- 347.391- 0.526 %
=233			v2fad4    =    233  ;369.994- 371.628- 0.442 %
=235			v2so4     =    235  ;391.995- 389.756- 0.571 %
=236			v2sod4    =    236  ;415.305- 420.526- 1.257 %
=237			v2la4     =    237  ;440.000- 443.889- 0.884 %
=238			v2lad4    =    238  ;466.164- 470.000- 0.823 %
=239			v2si4     =    239  ;493.883- 499.375- 1.112 %
=240			v2do5     =    240  ;523.251- 515.484- 1.484 %
=0			v2dod5    =      0  ;554.365- 551.034- 0.601 %
=0			v2re5     =      0  ;587.329- 591.852- 0.770 %
=242			v2red5    =    242  ;622.254- 614.615- 1.228 %
=243			v2mi5     =    243  ;659.255- 665.833- 0.998 %
=0			v2fa5     =      0  ;698.456- 694.783- 0.526 %
=244			v2fad5    =    244  ;739.989- 726.364- 1.841 %
=245			v2so5     =    245  ;783.991- 799.000- 1.914 %
=0			v2sod5    =      0  ;830.609- 841.053- 1.257 %
=246			v2la5     =    246  ;880.000- 887.778- 0.884 %
=0			v2lad5    =      0  ;932.327- 940.000- 0.823 %
=133			v3do3     =    133  ;130.813- 130.984- 0.131 %
=140			v3dod3    =    140  ;138.591- 138.957- 0.264 %
=146			v3re3     =    146  ;146.832- 146.606- 0.155 %
=152			v3red3    =    152  ;155.563- 155.146- 0.269 %
=158			v3mi3     =    158  ;164.814- 164.742- 0.043 %
=163			v3fa3     =    163  ;174.614- 173.696- 0.526 %
=169			v3fad3    =    169  ;184.997- 185.814- 0.442 %
=173			v3so3     =    173  ;195.998- 194.878- 0.571 %
=178			v3sod3    =    178  ;207.652- 207.532- 0.058 %
=182			v3la3     =    182  ;220.000- 218.904- 0.498 %
=186			v3lad3    =    186  ;233.082- 231.594- 0.638 %
=190			v3si3     =    190  ;246.942- 245.846- 0.444 %
=194			v3do4     =    194  ;261.626- 261.967- 0.131 %
=197			v3dod4    =    197  ;277.183- 275.517- 0.601 %
=201			v3re4     =    201  ;293.665- 295.926- 0.770 %
=204			v3red4    =    204  ;311.127- 313.333- 0.709 %
=207			v3mi4     =    207  ;329.628- 332.917- 0.998 %
=209			v3fa4     =    209  ;349.228- 347.391- 0.526 %
=212			v3fad4    =    212  ;369.994- 371.628- 0.442 %
=214			v3so4     =    214  ;391.995- 389.756- 0.571 %
=217			v3sod4    =    217  ;415.305- 420.526- 1.257 %
=219			v3la4     =    219  ;440.000- 443.889- 0.884 %
=221			v3lad4    =    221  ;466.164- 470.000- 0.823 %
=223			v3si4     =    223  ;493.883- 499.375- 1.112 %
=224			v3do5     =    224  ;523.251- 515.484- 1.484 %
=226			v3dod5    =    226  ;554.365- 551.034- 0.601 %
=228			v3re5     =    228  ;587.329- 591.852- 0.770 %
=229			v3red5    =    229  ;622.254- 614.615- 1.228 %
=231			v3mi5     =    231  ;659.255- 665.833- 0.998 %
=232			v3fa5     =    232  ;698.456- 694.783- 0.526 %
=233			v3fad5    =    233  ;739.989- 726.364- 1.841 %
=235			v3so5     =    235  ;783.991- 799.000- 1.914 %
=236			v3sod5    =    236  ;830.609- 841.053- 1.257 %
=237			v3la5     =    237  ;880.000- 887.778- 0.884 %
=238			v3lad5    =    238  ;932.327- 940.000- 0.823 %

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/e-v20-vars.asm

=$0400			blk0s   = $0400
=$0fff			blk0e   = $0fff
=$2000			blk1s   = $2000
=$3fff			blk1e   = $3fff
=$4000			blk2s   = $4000
=$5fff			blk2e   = $5fff
=$6400			blk3s   = $6400
=$7fff			blk3e   = $7fff
=$a000			blk5s   = $a000
=$bfff			blk5e   = $bfff
=$0fff			libre    = blk0e   ; *+3085
=4094			rp       = libre-$01     ;    1 byte
=4093			ra       = rp-1          ;    1 byte
=4092			rx       = ra-1          ;    1 byte
=4091			ry       = rx-1          ;    1 byte
=4090			rs       = ry-1          ;    1 byte
=4088			pc       = rs-2          ;    2 bytes
=4087			curcol   = pc-1          ;    1 byte
=4085			memptr   = curcol-2      ;    2 bytes
=4083			src      = memptr-2      ;    2 bytes
=4081			dst      = src-2         ;    2 bytes
=4079			loopcount = dst-2        ;    2 bytes
=4079			hexv     = loopcount
=4074			hexstr   = hexv-$05      ;    5 bytes
=4073			a2hexpfx = hexv-$06      ;    1 byte
=4072			a2hexpy  = hexv-$07      ;    1 byte
=4071			a2hexpx  = hexv-$08      ;    1 byte
=4071			a2hexpos = hexv-$08      ;    0 byte
=4070			a2hexcol = hexv-$09      ;    1 byte
=4070			binv     = a2hexcol
=4061			binstr   = binv-$09      ;    9 bytes
=4060			a2binpfx = binv-$0a      ;    1 byte
=4059			a2binpy  = binv-$0b      ;    1 byte
=4058			a2binpx  = binv-$0c      ;    1 byte
=4058			a2binpos = binv-$0c      ;    0 byte
=4057			a2bincol = binv-$0d      ;    1 byte
=4057			decv     = a2bincol
=4051			decstr   = decv-$06      ;    6 bytes
=4050			a2decpfx = decv-$07      ;    1 byte
=4049			a2decpy  = decv-$08      ;    1 byte
=4048			a2decpx  = decv-$09      ;    1 byte
=4048			a2decpos = decv-$09      ;    0 byte
=4047			a2deccol = decv-$0a      ;    1 byte
=4046			offset   = decv-$0b      ;    1 byte
=4046			fltv     = offset        ;
=4040			fvar1    = fltv-6        ;    6 bytes
=4034			fvar2    = fltv-12       ;    6 bytes
=4014			float1   = fltv-32       ;   20 bytes
=3994			float2   = fltv-52       ;   20 bytes
=3993			tval1    = fltv-53       ;    1 byte
=3991			tval2    = fltv-55       ;    2 bytes
=3989			reponse  = tval2-2       ;    2 byte
=3989			edbox    = reponse
=3988			cleft    = edbox-1       ;    1 byte
=3987			cright   = edbox-2       ;    1 byte
=3986			cmid     = edbox-3       ;    1 byte
=3985			dbtop    = edbox-4       ;    1 byte
=3984			dbleft   = edbox-5       ;    1 byte
=3983			dbwdth   = edbox-6       ;    1 byte
=3982			dbhght   = edbox-7       ;    1 byte
=3981			dbcoul   = edbox-8       ;    1 byte
=3980			dbclin   = edbox-9       ;    1 byte
=3979			curx     = dbclin-1      ;    1 byte
=3978			cury     = dbclin-2      ;    1 byte
=3977			clef     = dbclin-3      ;    1 byte
=3976			len      = clef-1        ;    1 byte
=3975			cx       = clef-2        ;    1 byte
=3974			cy       = clef-3        ;    1 byte
=3973			bcol     = clef-4        ;    1 byte
=3973			escr     = bcol          ; 2051 bytes
=3972			loops    = escr-1        ;    1 byte
=3970			loop16   = loops-2       ;    2 byte
=3458			scrncar  = loop16-$200   ;  512 byte
=2946			scrncol  = scrncar-$200  ;  512 byte
=2946			diskvar  = scrncol
=2944			ddatas   = diskvar-2 ;2 byte
=2942			ddatae   = diskvar-4 ;2 byte
=2941			ddev     = diskvar-5 ;1 byte
=2940			dlfsno   = diskvar-6 ;1 byte
=2938			dfnptr   = diskvar-8 ;2 byte
=2937			dfnlen   = diskvar-9 ;1 byte
=2937			vshowregs = dfnlen
=2936			acc       = vshowregs-1
=2935			xr        = vshowregs-2
=2934			yr        = vshowregs-3
=2933			sr        = vshowregs-4
=2932			sp        = vshowregs-5
=2931			pcl       = vshowregs-6
=2930			pch       = vshowregs-7
=2929			genbyte1 = pch-1 ; 1 byte
=2927			genword1 = pch-3 ; 2 byte
=2926			freevar  = pch-4 ;1 byte

;******  Return to file: dlbug20.asm


;******  Processing file: e-local-vars.asm

=2924			adrptr  = freevar-2
=2922			scraddr = freevar-4
=2920			coladdr = freevar-6

;******  Return to file: dlbug20.asm


;******  End of listing
