
; 64tass Turbo Assembler Macro V1.54.1900 listing file
; 64tass -C -m -a -I /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib -i -L dlbug20.txt -o dlbug20.prg dlbug20.asm
; Thu Feb 19 00:33:36 2026

;Offset	;Hex		;Source

;******  Processing input file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-bashead-ex.asm

=$1000			scrtxt    = $1000
=$9400			scrcol    = $9400
=$0200			scrlen    = $0200
=$1200			basstart  = $1200
>1201	0b 08		bcmd1    .word $080b ;adresse de la pro-
>1203	0a 00		         .word $0a   ;no. ligne basic.
>1205	9e		         .byte $9e   ;jeton pour la
>1206	20 34 36 32	         .text format("%5d", bhstart)
>120a	32
>120b	00		         .byte $00   ;fin de cmd basic.
>120c	00 00		bcmd2    .word $00   ;adresse de la pro-
.120e	20 1a 12	bhstart   jsr bhscrini
.1211	ea		          nop
.1212	ea		          nop
.1213	ea		          nop
.1214	ea		          nop
.1215	ea		          nop
.1216	20 56 12	basnold   jsr main
.1219	60		          rts
.121a			bhscrini
.121a	08		        php
.121b	48		        pha
.121c	a9 84		        lda #(128+4)
.121e	8d 00 90	        sta vic0
.1221	ad 0f 90	bord    lda $900f    ;place la couleur
.1224	29 08		        and #%00001000
.1226	09 e3		        ora #%11100011
.1228	8d 0f 90	        sta $900f
.122b	a9 00		text    lda #$00    ;place la couleur
.122d	8d 86 02	        sta $0286   ; du texte.
.1230	a9 93		        lda #$93    ;efface l'ecran par
.1232	20 d2 ff	        jsr $ffd2   ; chrout du kernal.
.1235	68		        pla
.1236	28		        plp
.1237	60		        rts
.1238			bhprint
.1238	a0 00		        ldy #$00
.123a	b1 fb		nextc   lda ($fb),y
.123c	f0 07		        beq end
.123e	c8		        iny
.123f	20 d2 ff	        jsr $ffd2
.1242	4c 3a 12	        jmp nextc
.1245	60		end     rts

;******  Return to file: dlbug20.asm

>1246	32 30 32 36	     Version .null "20260219-003227"
>124a	30 32 31 39 2d 30 30 33 32 32 37 00

;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/m-v20-utils.asm

.1256			R

;******  Return to file: dlbug20.asm

.1256			main
.1256	08		            php
.1257	48		            pha
.1258	a9 1d		            lda #(vblanc*16+(vvert|8))
.125a	8d 0f 90	            sta vic15
.125d	a9 00		            lda #vnoir
.125f	8d 86 02	            sta kcol
.1262	a9 93		            lda #147
.1264	20 d2 ff	            jsr $ffd2
.1267	68		            pla
.1268	28		            plp
.1269	08		            php
.126a	48		            pha
.126b	a9 0e		            lda #locase
.126d	20 7a f2	            jsr chrout
.1270	68		            pla
.1271	28		            plp
.1272	a9 20		          lda  #' '
.1274	20 e0 1c	          jsr fillscreen
.1277	08		            php
.1278	a0 e0		            ldy #>$e000
.127a	a2 00		            ldx #<$e000
.127c	28		            plp
.127d	08		            php
.127e	8c 6d 0b	            sty adrptr+1
.1281	8e 6c 0b	            stx adrptr
.1284	28		            plp
.1285	20 dc 12	          jsr kmenu
.1288	08		            php
.1289	48		            pha
.128a	a9 1f		            lda #sbleu
.128c	20 7a f2	            jsr chrout
.128f	68		            pla
.1290	28		            plp
.1291	08		            php
.1292	48		            pha
.1293	a9 93		            lda #147
.1295	20 7a f2	            jsr chrout
.1298	68		            pla
.1299	28		            plp
.129a	08		            php
.129b	48		            pha
.129c	a9 13		            lda #19
.129e	20 7a f2	            jsr chrout
.12a1	68		            pla
.12a2	28		            plp
.12a3	08		            php
.12a4	48		            pha
.12a5	a9 24		            lda #'$'
.12a7	20 7a f2	            jsr chrout
.12aa	68		            pla
.12ab	28		            plp
.12ac	08		            php
.12ad	a0 1e		            ldy #>prgend
.12af	a2 58		            ldx #<prgend
.12b1	28		            plp
.12b2	20 75 19	          jsr putyxhex
.12b5	08		            php
.12b6	48		            pha
.12b7	a9 0d		            lda #13
.12b9	20 7a f2	            jsr chrout
.12bc	68		            pla
.12bd	28		            plp
.12be	08		            php
.12bf	48		            pha
.12c0	a9 24		            lda #'$'
.12c2	20 7a f2	            jsr chrout
.12c5	68		            pla
.12c6	28		            plp
.12c7	08		            php
.12c8	ac 59 1e	            ldy prgend+1
.12cb	ae 58 1e	            ldx prgend
.12ce	28		            plp
.12cf	20 75 19	          jsr putyxhex
.12d2	08		            php
.12d3	48		            pha
.12d4	a9 0d		            lda #13
.12d6	20 7a f2	            jsr chrout
.12d9	68		            pla
.12da	28		            plp
.12db	60		          rts
.12dc			kmenu
.12dc	20 d2 16	          jsr  pushregs                 ; Sauvegarde les registres.
.12df			uneclef
.12df	20 84 1b	          jsr  putahexdec               ; Affiche .a en
.12e2	20 0d 13	          jsr  prompt
.12e5	20 02 1c	          jsr  getkey                   ; Attend une clef.
.12e8	20 7a f2	          jsr  chrout
.12eb	c9 5f		keyesc    cmp  #$5f ;[ESC]              ; Est-ce la touche 'ESC'?
.12ed	d0 03		          bne  keyr                     ; Non on verifie une autre.
.12ef	4c 09 13	          jmp  out                      ; Oui, on quitte la fonction
.12f2	c9 12		keyr      cmp  #$12 ;[CTRL][R]          ; Est-ce la lettre 'Ctrl+R'?
.12f4	d0 06		          bne  keym                     ; Non on verifie une autre.
.12f6	20 fd 1c	          jsr  showregs                 ; Oui, affiche les registres.
.12f9	4c df 12	          jmp  uneclef
.12fc	c9 4d		keym      cmp  #$4d
.12fe	d0 06		          bne  nextkey
.1300	20 3d 14	          jsr  mvmenu
.1303	4c df 12	          jmp  uneclef
.1306	4c df 12	nextkey   jmp  uneclef
.1309	20 ff 16	out       jsr  popregs
.130c	60		          rts
.130d			prompt
.130d	20 d2 16	          jsr  pushregs
.1310	a2 16		          ldx  #22
.1312	a0 00		          ldy  #0
.1314	18		          clc
.1315	20 0a e5	          jsr  plot
.1318	08		            php
.1319	48		            pha
.131a	a9 9c		            lda #smauve
.131c	20 7a f2	            jsr chrout
.131f	68		            pla
.1320	28		            plp
.1321	08		            php
.1322	48		            pha
.1323	a9 3e		            lda #'>'
.1325	20 7a f2	            jsr chrout
.1328	68		            pla
.1329	28		            plp
.132a	08		            php
.132b	48		            pha
.132c	a9 90		            lda #snoir
.132e	20 7a f2	            jsr chrout
.1331	68		            pla
.1332	28		            plp
.1333	20 ff 16	          jsr  popregs
.1336	60		          rts

;******  Processing file: string-fr.asm

>1337	92 b0 90 12	rtitle         .byte revsoff,176,snoir,revson
>133b	20 43 50 55	               .text " cpu registers hex "
>133f	20 52 45 47 49 53 54 45 52 53 20 48 45 58 20
>134e	90 92 ae 0d	               .byte snoir,revsoff,174,$0d
>1352	00		               .byte 0
>1353	dd 1f 92	rlable         .byte 221,sbleu,revsoff
>1356	20 50 43 20	               .text " pc  ra rx ry sr sp"
>135a	20 52 41 20 52 58 20 52 59 20 53 52 20 53 50
>1369	90 92 dd 0d	               .byte snoir,revsoff,221,$0d
>136d	00		               .byte 0
>136e	dd 1c 92	rvalues        .byte 221,srouge,revsoff
>1371	30 30 30 30	               .text "0000 00 00 00 00 00"
>1375	20 30 30 20 30 30 20 30 30 20 30 30 20 30 30
>1384	90 92 dd 0d	               .byte snoir,revsoff,221,$0d
>1388	00		               .byte 0
>1389	ad 90 92	rbline         .byte 173,snoir,revsoff        ;0-2
>138c	c0		               .byte 192    ;9-13
>138d	53 4f 52 54	               .text "sortir=[une-clef]"
>1391	49 52 3d 5b 55 4e 45 2d 43 4c 45 46 5d
>139e	c0		               .byte 192         ;19-23
>139f	90 92 bd 0d	               .byte snoir,revsoff,189,$0d    ;24-27
>13a3	00		               .byte 0
>13a4	92 b0 90 12	mvaide1        .byte revsoff,176,snoir,revson
>13a8	20 41 46 46	               .text " affichage  memoire "
>13ac	49 43 48 41 47 45 20 20 4d 45 4d 4f 49 52 45 20
>13bc	90 92 ae	               .byte snoir,revsoff,174
>13bf	00		               .byte 0
>13c0	dd 90		mvaide2        .byte 221,snoir
>13c2	20 43 52 53	               .text " crs up/dn -/+ 64   "
>13c6	20 55 50 2f 44 4e 20 2d 2f 2b 20 36 34 20 20 20
>13d6	90 dd		               .byte snoir,221
>13d8	00		               .byte 0
>13d9	dd 90		mvaide3        .byte 221,snoir
>13db	20 43 52 53	               .text " crs lf/rt -/+ 128  "
>13df	20 4c 46 2f 52 54 20 2d 2f 2b 20 31 32 38 20 20
>13ef	90 dd		               .byte snoir,221
>13f1	00		               .byte 0
>13f2	dd 90		mvaide4        .byte 221,snoir
>13f4	20 46 31 2f	               .text " f1/f3     -/+ 4096 "
>13f8	46 33 20 20 20 20 20 2d 2f 2b 20 34 30 39 36 20
>1408	90 dd		               .byte snoir,221
>140a	00		               .byte 0
>140b	dd 90		mvaide5        .byte  221,snoir
>140d	20 45 53 43	               .text " esc = main memu    "
>1411	20 3d 20 4d 41 49 4e 20 4d 45 4d 55 20 20 20 20
>1421	90 dd		               .byte snoir,221
>1423	00		               .byte 0
>1424	ad 90		mvaide6        .byte 173,snoir
>1426	c0 c0 c0 c0	               .byte 192,192,192,192,192
>142a	c0
>142b	c0 c0 c0 c0	               .byte 192,192,192,192,192
>142f	c0
>1430	c0 c0 c0 c0	               .byte 192,192,192,192,192
>1434	c0
>1435	c0 c0 c0 c0	               .byte 192,192,192,192,192
>1439	c0
>143a	90 bd		               .byte snoir,189
>143c	00		               .byte 0

;******  Return to file: dlbug20.asm


;******  Processing file: memview.asm

.143d			mvmenu
.143d	20 d2 16	          jsr  pushregs
.1440	20 05 15	          jsr  mvaide
.1443	20 7a 15	another   jsr  memdump
.1446	20 02 1c	          jsr  getkey
.1449	c9 5f		          cmp  #$5f
.144b	d0 03		          bne  upar
.144d	4c f8 14	          jmp  out
.1450	c9 91		upar      cmp  #$91      ; crsr-up
.1452	d0 18		          bne  dnar      ; -128
.1454	a9 80		          lda  #128
.1456	08		            php
.1457	ac 6d 0b	            ldy adrptr+1
.145a	ae 6c 0b	            ldx adrptr
.145d	28		            plp
.145e	20 4f 19	          jsr  subatoyx
.1461	08		            php
.1462	8c 6d 0b	            sty adrptr+1
.1465	8e 6c 0b	            stx adrptr
.1468	28		            plp
.1469	4c 43 14	          jmp  another
.146c	c9 11		dnar      cmp  #$11      ; crsr-down
.146e	d0 03		          bne  lfar      ; asis
.1470	4c 43 14	          jmp  another
.1473	c9 9d		lfar      cmp  #$9d      ; crsr-left
.1475	d0 18		          bne  rtar      ; -192
.1477	a9 c0		          lda  #192
.1479	08		            php
.147a	ac 6d 0b	            ldy adrptr+1
.147d	ae 6c 0b	            ldx adrptr
.1480	28		            plp
.1481	20 4f 19	          jsr  subatoyx
.1484	08		            php
.1485	8c 6d 0b	            sty adrptr+1
.1488	8e 6c 0b	            stx adrptr
.148b	28		            plp
.148c	4c 43 14	          jmp  another
.148f	c9 1d		rtar      cmp  #$1d      ; crsr-right
.1491	d0 18		          bne  kf1        ; +64
.1493	a9 40		          lda  #64
.1495	08		            php
.1496	ac 6d 0b	            ldy adrptr+1
.1499	ae 6c 0b	            ldx adrptr
.149c	28		            plp
.149d	20 32 19	          jsr  addatoyx
.14a0	08		            php
.14a1	8c 6d 0b	            sty adrptr+1
.14a4	8e 6c 0b	            stx adrptr
.14a7	28		            plp
.14a8	4c 43 14	          jmp  another
.14ab	c9 85		kf1       cmp  #$85       ; f1
.14ad	d0 21		          bne  kf3        ; +1024
.14af	a9 40		          lda  #64
.14b1	08		            php
.14b2	ac 6d 0b	            ldy adrptr+1
.14b5	ae 6c 0b	            ldx adrptr
.14b8	28		            plp
.14b9	20 4f 19	          jsr  subatoyx
.14bc	08		            php
.14bd	8c 6d 0b	            sty adrptr+1
.14c0	8e 6c 0b	            stx adrptr
.14c3	28		            plp
.14c4	ad 6d 0b	          lda  adrptr+1
.14c7	38		          sec
.14c8	e9 10		          sbc  #$10
.14ca	8d 6d 0b	          sta  adrptr+1
.14cd	4c 43 14	          jmp  another
.14d0	c9 86		kf3       cmp  #$86      ; crsr-right
.14d2	d0 21		          bne  chkkey        ; +64
.14d4	a9 40		          lda  #64
.14d6	08		            php
.14d7	ac 6d 0b	            ldy adrptr+1
.14da	ae 6c 0b	            ldx adrptr
.14dd	28		            plp
.14de	20 4f 19	          jsr  subatoyx
.14e1	08		            php
.14e2	8c 6d 0b	            sty adrptr+1
.14e5	8e 6c 0b	            stx adrptr
.14e8	28		            plp
.14e9	ad 6d 0b	          lda  adrptr+1
.14ec	18		          clc
.14ed	69 10		          adc  #$10
.14ef	8d 6d 0b	          sta  adrptr+1
.14f2	4c 43 14	          jmp  another
.14f5	4c 43 14	chkkey    jmp  another
.14f8			out
.14f8	08		            php
.14f9	48		            pha
.14fa	a9 93		            lda #147
.14fc	20 7a f2	            jsr chrout
.14ff	68		            pla
.1500	28		            plp
.1501	20 ff 16	          jsr  popregs
.1504	60		          rts
.1505			mvaide
.1505	20 d2 16	          jsr  pushregs
.1508	a2 10		          ldx  #16
.150a	a0 00		          ldy  #00
.150c	18		          clc
.150d	20 0a e5	          jsr  plot
.1510	20 60 16	            jsr  pushall
.1513	a2 a4		            ldx  #<mvaide1
.1515	86 fb		            stx  $fb
.1517	a0 13		            ldy  #>mvaide1
.1519	84 fc		            sty  $fc
.151b	20 2c 17	            jsr  puts
.151e	20 99 16	            jsr  popall
.1521	20 60 16	            jsr  pushall
.1524	a2 c0		            ldx  #<mvaide2
.1526	86 fb		            stx  $fb
.1528	a0 13		            ldy  #>mvaide2
.152a	84 fc		            sty  $fc
.152c	20 2c 17	            jsr  puts
.152f	20 99 16	            jsr  popall
.1532	20 60 16	            jsr  pushall
.1535	a2 d9		            ldx  #<mvaide3
.1537	86 fb		            stx  $fb
.1539	a0 13		            ldy  #>mvaide3
.153b	84 fc		            sty  $fc
.153d	20 2c 17	            jsr  puts
.1540	20 99 16	            jsr  popall
.1543	20 60 16	            jsr  pushall
.1546	a2 f2		            ldx  #<mvaide4
.1548	86 fb		            stx  $fb
.154a	a0 13		            ldy  #>mvaide4
.154c	84 fc		            sty  $fc
.154e	20 2c 17	            jsr  puts
.1551	20 99 16	            jsr  popall
.1554	20 60 16	            jsr  pushall
.1557	a2 0b		            ldx  #<mvaide5
.1559	86 fb		            stx  $fb
.155b	a0 14		            ldy  #>mvaide5
.155d	84 fc		            sty  $fc
.155f	20 2c 17	            jsr  puts
.1562	20 99 16	            jsr  popall
.1565	20 60 16	            jsr  pushall
.1568	a2 24		            ldx  #<mvaide6
.156a	86 fb		            stx  $fb
.156c	a0 14		            ldy  #>mvaide6
.156e	84 fc		            sty  $fc
.1570	20 2c 17	            jsr  puts
.1573	20 99 16	            jsr  popall
.1576	20 ff 16	          jsr  popregs
.1579	60		          rts
.157a			memdump
.157a	08		            php
.157b	48		            pha
.157c	a9 13		            lda #19
.157e	20 7a f2	            jsr chrout
.1581	68		            pla
.1582	28		            plp
.1583	20 d2 16	          jsr  pushregs
.1586	a0 10		          ldy  #16
.1588	20 92 15	another   jsr  put4mem
.158b	88		          dey
.158c	d0 fa		          bne  another
.158e	20 ff 16	          jsr  popregs
.1591	60		          rts
.1592			put4mem
.1592	20 60 16	          jsr  pushall
.1595	ad 86 02	          lda  kcol
.1598	48		          pha
.1599	08		            php
.159a	48		            pha
.159b	a9 90		            lda #snoir
.159d	20 7a f2	            jsr chrout
.15a0	68		            pla
.15a1	28		            plp
.15a2	08		            php
.15a3	ac 6d 0b	            ldy adrptr+1
.15a6	ae 6c 0b	            ldx adrptr
.15a9	28		            plp
.15aa	08		            php
.15ab	48		            pha
.15ac	a9 24		            lda #'$'
.15ae	20 7a f2	            jsr chrout
.15b1	68		            pla
.15b2	28		            plp
.15b3	20 75 19	          jsr  putyxhex
.15b6	20 d2 16	        jsr pushregs
.15b9	84 fc		        sty zp1+1
.15bb	86 fb		        stx zp1
.15bd	20 ff 16	        jsr popregs
.15c0	08		            php
.15c1	a4 d2		            ldy scrnlin+1
.15c3	a6 d1		            ldx scrnlin
.15c5	28		            plp
.15c6	a9 12		          lda  #$12                     ; On y aditionne 18 pour la position
.15c8	20 32 19	          jsr  addatoyx
.15cb	08		            php
.15cc	8c 6b 0b	            sty scraddr+1
.15cf	8e 6a 0b	            stx scraddr
.15d2	28		            plp
.15d3	08		            php
.15d4	8c 69 0b	            sty coladdr+1
.15d7	8e 68 0b	            stx coladdr
.15da	28		            plp
.15db	ad 69 0b	          lda  coladdr+1                ; On ajuste l'adresse couleur en
.15de	09 94		          ora  #%10010100               ; sur le MSB seulement.
.15e0	8d 69 0b	          sta  coladdr+1
.15e3	08		            php
.15e4	ac 6d 0b	            ldy adrptr+1
.15e7	ae 6c 0b	            ldx adrptr
.15ea	28		            plp
.15eb	20 d2 16	        jsr pushregs
.15ee	84 fc		        sty zp1+1
.15f0	86 fb		        stx zp1
.15f2	20 ff 16	        jsr popregs
.15f5	a0 00		          ldy  #$00
.15f7			nxtbyte
.15f7	08		            php
.15f8	48		            pha
.15f9	a9 1c		            lda #srouge
.15fb	20 7a f2	            jsr chrout
.15fe	68		            pla
.15ff	28		            plp
.1600	08		            php
.1601	48		            pha
.1602	a9 1d		            lda #29
.1604	20 7a f2	            jsr chrout
.1607	68		            pla
.1608	28		            plp
.1609	b1 fb		          lda  (zp1),y
.160b	20 99 19	          jsr  putahex
.160e	20 d2 16	        jsr pushregs
.1611	ac 6b 0b	        ldy scraddr+1
.1614	ae 6a 0b	        ldx scraddr
.1617	84 fe		        sty zp2+1
.1619	86 fd		        stx zp2
.161b	20 ff 16	        jsr popregs
.161e	91 fd		          sta  (zp2),y
.1620	20 d2 16	        jsr pushregs
.1623	ac 69 0b	        ldy coladdr+1
.1626	ae 68 0b	        ldx coladdr
.1629	84 fe		        sty zp2+1
.162b	86 fd		        stx zp2
.162d	20 ff 16	        jsr popregs
.1630	98		          tya
.1631	18		          clc
.1632	2a		          rol
.1633	91 fd		          sta  (zp2),y
.1635	c8		          iny
.1636	c0 04		          cpy  #$04
.1638	d0 bd		          bne  nxtbyte
.163a	08		            php
.163b	ac 6d 0b	            ldy adrptr+1
.163e	ae 6c 0b	            ldx adrptr
.1641	28		            plp
.1642	a9 04		          lda  #$4                      ;   pour afficher
.1644	20 32 19	          jsr  addatoyx                 ;   les quatres
.1647	08		            php
.1648	8c 6d 0b	            sty adrptr+1
.164b	8e 6c 0b	            stx adrptr
.164e	28		            plp
.164f	08		            php
.1650	48		            pha
.1651	a9 0d		            lda #13
.1653	20 7a f2	            jsr chrout
.1656	68		            pla
.1657	28		            plp
.1658	68		          pla
.1659	8d 86 02	          sta  kcol
.165c	20 99 16	          jsr  popall
.165f	60		          rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-push.asm

.1660			pushall
.1660	08		         php     ;s;rp,pcl,pch
.1661	8d fd 0f	         sta ra  ;sauve a
.1664	68		         pla     ;s:pcl,pch
.1665	8d fe 0f	         sta rp  ;sauve rp
.1668	68		         pla     ;s:pch
.1669	8d f8 0f	         sta pc  ;sauve pcl
.166c	68		         pla     ;s:
.166d	8d f9 0f	         sta pc+1;sauve pch
.1670	a5 fb		         lda $fb ;sauve fb
.1672	48		         pha     ;s:fb
.1673	a5 fc		         lda $fc ;sauve fc
.1675	48		         pha     ;s:fc,fb
.1676	a5 fd		         lda $fd ;sauve fd
.1678	48		         pha     ;s:fd,fc,fb
.1679	a5 fe		         lda $fe ;sauve fe
.167b	48		         pha     ;s:fe,fd,fc,fb
.167c	ad fe 0f	         lda rp  ;sauve rp
.167f	48		         pha     ;s:rp,fe,fd,fc,fb
.1680	ad fd 0f	         lda ra  ;sauve ra
.1683	48		         pha     ;s:ra,rp,fe,fd,fc,fb
.1684	8a		         txa     ;sauve rx
.1685	48		         pha     ;s:rx,ra,rp,fe-fb
.1686	98		         tya     ;sauve y
.1687	48		         pha     ;s:ry,rx,ra,rp,fe-fb
.1688	ad f9 0f	         lda pc+1;replace l'adresse
.168b	48		         pha     ;s:pch,ry,rx,ra,...
.168c	ad f8 0f	         lda pc  ; de retour.
.168f	48		         pha     ;s:pcl,pch,ru,rx,ra,...
.1690	ad fe 0f	         lda rp  ;place les flags
.1693	48		         pha     ; sur le stack.
.1694	ad fd 0f	         lda ra  ;recupere ra
.1697	28		         plp     ;recupere les flags.
.1698	60		         rts
.1699			popall
.1699	08		         php     ;s:rp,pcl,pch,ry,rx,...
.169a	8d fd 0f	         sta ra
.169d	68		         pla     ;s:pcl,pch,ry,rx,...
.169e	8d fe 0f	         sta rp  ;s:pch,ry,rx,ra,rp,...
.16a1	68		         pla
.16a2	8d f8 0f	         sta pc  ;sauve pcl
.16a5	68		         pla     ;s:ry,rx,ra,rp,fe...fb
.16a6	8d f9 0f	         sta pc+1;sauve pch
.16a9	68		         pla     ;s:rx,ra,rp,fe,fd,fc,fb
.16aa	a8		         tay     ;recupere ry
.16ab	68		         pla     ;s:ra,rp,fe,fd,fc,fb
.16ac	aa		         tax     ;recupere rx
.16ad	68		         pla     ;s:rp,fe,fd,fc,fb
.16ae	8d fd 0f	         sta ra  ;recupere ra
.16b1	68		         pla     ;s:fe,fd,fc,fb
.16b2	8d fe 0f	         sta rp  ;recupere les flags.
.16b5	68		         pla     ;s:fd,fc,fb
.16b6	85 fe		         sta $fe ;reccupere fe
.16b8	68		         pla     ;s:fc,fb
.16b9	85 fd		         sta $fd ;recupere fd
.16bb	68		         pla     ;s:fb
.16bc	85 fc		         sta $fc ;recupere fc
.16be	68		         pla     ;s:
.16bf	85 fb		         sta $fb ;recupere fb
.16c1	ad f9 0f	         lda pc+1;replaace l'adresse de
.16c4	48		         pha     ;s:pch
.16c5	ad f8 0f	         lda pc  ;retour sur la pile
.16c8	48		         pha     ;s:pcl,pch
.16c9	ad fe 0f	         lda rp  ;recupere les flags
.16cc	48		         pha     ;s:rp,pcl,pch
.16cd	ad fd 0f	         lda ra  ;recupere ra
.16d0	28		         plp     ;s:pcl,pch
.16d1	60		         rts
.16d2			pushregs
.16d2	08		         php     ;s;rp,pcl,pch
.16d3	8d fd 0f	         sta ra  ; -- sauve a
.16d6	68		         pla     ;s:pcl,pch
.16d7	8d fe 0f	         sta rp  ; -- sauve rp
.16da	68		         pla     ;s:pch
.16db	8d f8 0f	         sta pc  ; -- sauve pcl
.16de	68		         pla     ;s:
.16df	8d f9 0f	         sta pc+1; -- sauve pch
.16e2	ad fe 0f	         lda rp  ; -- sauve rp
.16e5	48		         pha     ;s:rp
.16e6	ad fd 0f	         lda ra  ; -- sauve ra
.16e9	48		         pha     ;s:ra,rp
.16ea	8a		         txa     ; -- tfr rx
.16eb	48		         pha     ;s:rx,ra,rp
.16ec	98		         tya     ; -- tfr ry
.16ed	48		         pha     ;s:ry,rx,ra,rp
.16ee	ad f9 0f	         lda pc+1; -- replace l'adresse
.16f1	48		         pha     ;s:pch,ry,rx,ra,rp
.16f2	ad f8 0f	         lda pc  ; -- de retour.
.16f5	48		         pha     ;s:pcl,pch,ru,rx,ra,rp
.16f6	ad fe 0f	         lda rp  ; -- place les flags
.16f9	48		         pha     ;    sur le stack.
.16fa	ad fd 0f	         lda ra  ; -- recupere ra
.16fd	28		         plp     ; -- recupere flags.
.16fe	60		         rts     ;s:pcl,pch,ru,rx,ra,rp
.16ff			popregs
.16ff	08		         php
.1700	8d fd 0f	         sta ra
.1703	68		         pla
.1704	8d fe 0f	         sta rp
.1707	68		         pla     ;s:pch,ry,rx,ra,rp
.1708	8d f8 0f	         sta pc  ; -- sauve pcl
.170b	68		         pla     ;s:ry,rx,ra,rp
.170c	8d f9 0f	         sta pc+1; -- sauve pch
.170f	68		         pla     ;s:rx,ra,rp
.1710	a8		         tay     ;recupere ry
.1711	68		         pla     ;s:ra,rp
.1712	aa		         tax     ;recupere rx
.1713	68		         pla     ;s:rp
.1714	8d fd 0f	         sta ra  ;recupere ra
.1717	68		         pla     ;s:
.1718	8d fe 0f	         sta rp  ;recupere les flags.
.171b	ad f9 0f	         lda pc+1;replace l'adresse de
.171e	48		         pha     ;s:pch
.171f	ad f8 0f	         lda pc  ;retour sur la pile
.1722	48		         pha     ;s:pcl,pch
.1723	ad fe 0f	         lda rp  ;recupere les flags
.1726	48		         pha     ;s:rp,pcl,pch
.1727	ad fd 0f	         lda ra  ;recupere ra
.172a	28		         plp     ;s:pcl,pch
.172b	60		         rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-string.asm

.172c			puts
.172c	20 60 16	          jsr pushall
.172f	a0 00		          ldy #$00   ; y = offset
.1731	b1 fb		nextc     lda ($fb),y;lit un caractere
.1733	f0 09		          beq out    ;si 0 on sort
.1735	20 7a f2	          jsr chrout ;on l'affiche
.1738	20 79 18	          jsr inczp1 ;pointe le prochain
.173b	4c 31 17	          jmp nextc  ; et l'affiche
.173e	20 99 16	out       jsr popall
.1741	60		          rts
.1742			putsyx
.1742	20 60 16	          jsr pushall;sauve reg + zps
.1745	86 fb		          stx $fb    ;$yyxx dans
.1747	84 fc		          sty $fb+1  ; zp1
.1749	20 2c 17	          jsr puts
.174c	20 99 16	          jsr popall ;recup reg + zps
.174f	60		          rts
.1750			putsxy
.1750	20 60 16	        jsr pushall;sauve reg + zps
.1753	86 fb		        stx $fb    ;$yyxx dans
.1755	84 fc		        sty $fb+1  ; zp1
.1757	a0 00		        ldy #$00
.1759	b1 fb		        lda ($fb),y
.175b	aa		        tax
.175c	20 79 18	        jsr inczp1
.175f	b1 fb		        lda ($fb),y
.1761	20 79 18	        jsr inczp1
.1764	a8		        tay
.1765	20 ba 17	        jsr gotoxy
.1768	20 2c 17	        jsr puts
.176b	20 99 16	        jsr popall ;recup reg + zps
.176e	60		        rts
.176f			putsc
.176f	08		          php       ;flag sur stack
.1770	48		          pha       ;acc sur stack
.1771	48		          pha       ;sauvegarde acc
.1772	ad 86 02	          lda kcol  ;recup coul. carac.
.1775	8d f7 0f	          sta curcol; et la sauvegarde
.1778	68		          pla       ;recup. acc
.1779	8d 86 02	          sta kcol  ;place coul. voulue
.177c	20 2c 17	          jsr puts  ;affiche la chaine
.177f	ad f7 0f	          lda curcol;recup coul. carac.
.1782	8d 86 02	          sta kcol  ; et la replace
.1785	68		          pla       ;recup acc
.1786	28		          plp       ;recup flag
.1787	60		          rts
.1788			putscyx
.1788	08		          php       ;sauve registres
.1789	48		          pha       ; ...
.178a	48		          pha       ;sauve acc
.178b	ad 86 02	          lda kcol  ;recup couleur carac.
.178e	8d f7 0f	          sta curcol; et sauvegarde
.1791	68		          pla       ;recup acc
.1792	8d 86 02	          sta kcol  ;place couleur carac.
.1795	20 42 17	          jsr putsyx;affiche la chaine
.1798	ad f7 0f	          lda curcol
.179b	8d 86 02	          sta kcol
.179e	68		          pla
.179f	28		          plp
.17a0	60		          rts
.17a1			putscxy
.17a1	08		          php       ;sauve registres
.17a2	48		          pha       ; ...
.17a3	48		          pha       ;sauve acc
.17a4	ad 86 02	          lda kcol  ;recup couleur carac.
.17a7	8d f7 0f	          sta curcol; et sauvegarde
.17aa	68		          pla       ;recup acc
.17ab	8d 86 02	          sta kcol   ;place couleur carac.
.17ae	20 42 17	          jsr putsyx ;affiche la chaine
.17b1	ad f7 0f	          lda curcol
.17b4	8d 86 02	          sta kcol
.17b7	68		          pla
.17b8	28		          plp
.17b9	60		          rts
.17ba			gotoxy
.17ba	20 d2 16	          jsr pushregs
.17bd	8a		          txa ; interchange x et y
.17be	48		          pha ; ...
.17bf	98		          tya ; ...
.17c0	aa		          tax ; ...
.17c1	68		          pla ; ...
.17c2	a8		          tay ; ...
.17c3	c0 00		txlow     cpy #0
.17c5	10 02		          bpl txhigh
.17c7	a2 00		          ldx #0
.17c9	e0 19		txhigh    cpx #25
.17cb	30 02		          bmi tylow
.17cd	a2 18		          ldx #24
.17cf	c0 00		tylow     cpy #0
.17d1	10 02		          bpl tyhigh
.17d3	a0 00		          ldy #0
.17d5	c0 28		tyhigh    cpy #40
.17d7	30 02		          bmi allok
.17d9	a0 27		          ldy #39
.17db	18		allok     clc
.17dc	20 0a e5	          jsr plot
.17df	20 ff 16	          jsr popregs
.17e2	60		          rts
.17e3			putnch
.17e3	20 d2 16	        jsr pushregs
.17e6	20 7a f2	again   jsr chrout
.17e9	ca		        dex
.17ea	d0 fa		        bne again
.17ec	20 ff 16	        jsr popregs
.17ef	60		        rts
.17f0			strlen
.17f0	20 60 16	        jsr pushall
.17f3	84 fc		        sty zp1+1
.17f5	86 fb		        stx zp1
.17f7	a0 00		        ldy #$00
.17f9	8c 88 0f	        sty len
.17fc	b1 fb		next    lda (zp1),y
.17fe	f0 07		        beq out
.1800	ee 88 0f	        inc len
.1803	c8		        iny
.1804	4c fc 17	        jmp next
.1807	20 99 16	out     jsr popall
.180a	ad 88 0f	        lda len
.180d	60		        rts
.180e			cursor
.180e	20 d2 16	          jsr  pushregs
.1811	90 12		          bcc  get    ;C=0 récupération.
.1813	20 0a e5	          jsr  plot  ;récupère position
.1816	8c 87 0f	          sty  cx     ;curseur et sauve
.1819	8e 86 0f	          stx  cy     ;dans vars locales.
.181c	ad 86 02	          lda  kcol   ;Sauve couleur
.181f	8d 85 0f	          sta  bcol   ; BASIC du texte.
.1822	4c 34 18	          jmp  out    ;Fini on sort.
.1825	ae 86 0f	get       ldx  cy     ;C=1, charge x
.1828	ac 87 0f	          ldy  cx     ; ligne, y col.
.182b	20 0a e5	          jsr  plot  ;Position curseur.
.182e	ad 85 0f	          lda  bcol   ;replace couleur
.1831	8d 86 02	          sta  kcol ; basic sauvegardé.
.1834	20 ff 16	out       jsr  popregs
.1837	60		          rts
.1838			curget
.1838			cursave
.1838	08		          php
.1839	38		          sec
.183a	20 0e 18	          jsr  cursor
.183d	28		          plp
.183e	60		          rts
.183f			curput
.183f			currest
.183f	08		          php
.1840	18		          clc
.1841	20 0e 18	          jsr  cursor
.1844	28		          plp
.1845	60		          rts
.1846			isprnable
.1846	08		          php
.1847	c9 a0		          cmp  #160
.1849	b0 0b		          bcs  yes
.184b	c5 85		          cmp  133
.184d	b0 04		          bcs  no
.184f	c9 20		          cmp  #32
.1851	b0 03		          bcs  yes
.1853	28		no        plp
.1854	18		          clc
.1855	60		          rts
.1856	28		yes       plp
.1857	38		          sec
.1858	60		          rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-mem.asm

.1859			blkfill
.1859	20 60 16	bf0     jsr pushall
.185c	84 fc		        sty zp1+1
.185e	a0 00		        ldy #$00
.1860	84 fb		        sty zp1
.1862	91 fb		bf1     sta (zp1),y
.1864	c8		        iny
.1865	d0 fb		        bne bf1
.1867	20 99 16	        jsr popall
.186a	60		        rts
.186b			memfill
.186b	20 d2 16	        jsr pushregs
.186e	20 59 18	mf1     jsr blkfill
.1871	c8		        iny
.1872	ca		        dex
.1873	d0 f9		        bne mf1
.1875	20 ff 16	        jsr popregs
.1878	60		        rts
.1879			inczp1
.1879	08		         php
.187a	e6 fb		         inc zp1
.187c	d0 02		         bne repzp1
.187e	e6 fc		         inc zp1+1
.1880	28		repzp1   plp
.1881	60		         rts
.1882			inczp2
.1882	08		         php
.1883	e6 fd		         inc zp2
.1885	d0 02		         bne repzp2
.1887	e6 fe		         inc zp2+1
.1889	28		repzp2   plp
.188a	60		         rts
.188b			deczp1
.188b	08		         php
.188c	48		         pha
.188d	a5 fb		         lda zp1
.188f	d0 02		         bne noemp
.1891	c6 fc		         dec zp1+1
.1893	c6 fb		noemp    dec zp1
.1895	68		         pla
.1896	28		         plp
.1897	60		         rts
.1898			deczp2
.1898	08		         php
.1899	48		         pha
.189a	a5 fd		         lda zp2
.189c	d0 02		         bne noemp
.189e	c6 fe		         dec zp2+1
.18a0	c6 fd		noemp    dec zp2
.18a2	68		         pla
.18a3	28		         plp
.18a4	60		         rts
.18a5			rolzp1
.18a5	08		        php
.18a6	48		        pha
.18a7	18		        clc
.18a8	a5 fb		        lda zp1
.18aa	2a		        rol
.18ab	85 fb		        sta zp1
.18ad	a5 fc		        lda zp1+1
.18af	2a		        rol
.18b0	85 fc		        sta zp1+1
.18b2	68		        pla
.18b3	28		        plp
.18b4			rorzp1
.18b4	08		        php
.18b5	48		        pha
.18b6	18		        clc
.18b7	a5 fc		        lda zp1+1
.18b9	6a		        ror
.18ba	85 fc		        sta zp1+1
.18bc	a5 fb		        lda zp1
.18be	6a		        ror
.18bf	85 fb		        sta zp1
.18c1	68		        pla
.18c2	28		        plp
.18c3			rolzp2
.18c3	08		        php
.18c4	48		        pha
.18c5	18		        clc
.18c6	a5 fd		        lda zp2
.18c8	2a		        rol
.18c9	85 fd		        sta zp2
.18cb	a5 fe		        lda zp2+1
.18cd	2a		        rol
.18ce	85 fe		        sta zp2+1
.18d0	68		        pla
.18d1	28		        plp
.18d2			rorzp2
.18d2	08		        php
.18d3	48		        pha
.18d4	18		        clc
.18d5	a5 fe		        lda zp2+1
.18d7	6a		        ror
.18d8	85 fe		        sta zp2+1
.18da	a5 fd		        lda zp2
.18dc	6a		        ror
.18dd	85 fd		        sta zp2
.18df	68		        pla
.18e0	28		        plp
.18e1			yxtoptr
.18e1	8c f6 0f	        sty memptr+1
.18e4	8e f5 0f	        stx memptr
.18e7	60		        rts
.18e8			ptrtoyx
.18e8	08		        php
.18e9	ac f6 0f	        ldy memptr+1
.18ec	ae f5 0f	        ldx memptr
.18ef	28		        plp
.18f0	60		        rts
.18f1			incptr
.18f1	08		        php
.18f2	ee f5 0f	        inc memptr
.18f5	d0 03		        bne norep
.18f7	ee f6 0f	        inc memptr+1
.18fa	28		norep   plp
.18fb	60		        rts
.18fc			decptr
.18fc	08		        php
.18fd	48		        pha
.18fe	ad f5 0f	        lda memptr
.1901	d0 03		        bne noemp
.1903	ee f6 0f	        inc memptr+1
.1906	ee f5 0f	noemp   inc memptr
.1909	68		        pla
.190a	28		        plp
.190b	60		        rts
.190c			incptr8
.190c	08		        php
.190d	48		        pha
.190e	98		        tya
.190f	48		        pha
.1910	a0 08		        ldy #8
.1912	20 f1 18	again   jsr incptr
.1915	88		        dey
.1916	d0 fa		        bne again
.1918	68		        pla
.1919	a8		        tay
.191a	68		        pla
.191b	28		        plp
.191c	60		        rts
.191d			loop
.191d	ce ef 0f	               dec  loopcount
.1920	d0 03		               bne  norep
.1922	ce f0 0f	               dec  loopcount+1
.1925	ad ef 0f	norep          lda  loopcount
.1928	c9 00		               cmp  #$00
.192a	d0 05		               bne  out
.192c	4d f0 0f	               eor  loopcount+1
.192f	c9 ff		               cmp  #$ff
.1931	60		out            rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-math.asm

.1932			addtoword
.1932			addatoyx
.1932	08		        php
.1933	48		        pha
.1934	8c 96 0f	        sty reponse+1
.1937	8e 95 0f	        stx reponse
.193a	18		        clc
.193b	6d 95 0f	        adc reponse
.193e	90 03		        bcc norep
.1940	ee 96 0f	        inc reponse+1
.1943	8d 95 0f	norep   sta reponse
.1946	ac 96 0f	        ldy reponse+1
.1949	ae 95 0f	        ldx reponse
.194c	68		        pla
.194d	28		        plp
.194e	60		        rts
.194f			subtoword
.194f			subatoyx
.194f	08		        php
.1950	48		        pha
.1951	8d 6e 0b	        sta freevar
.1954	8c 96 0f	        sty reponse+1
.1957	8e 95 0f	        stx reponse
.195a	38		        sec
.195b	ad 95 0f	        lda reponse
.195e	ed 6e 0b	        sbc freevar
.1961	8d 95 0f	        sta reponse
.1964	ad 96 0f	        lda reponse+1
.1967	e9 00		        sbc #$00
.1969	8d 96 0f	        sta reponse+1
.196c	ac 96 0f	        ldy reponse+1
.196f	ae 95 0f	        ldx reponse
.1972	68		        pla
.1973	28		        plp
.1974	60		        rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-conv.asm

.1975			putyxhex
.1975	20 60 16	        jsr pushall
.1978	98		        tya
.1979	48		        pha
.197a	20 f8 19	        jsr lsr4bits
.197d	20 0b 1a	        jsr nibtohex
.1980	8d ea 0f	        sta hexstr+0
.1983	68		        pla
.1984	20 0b 1a	        jsr nibtohex
.1987	8d eb 0f	        sta hexstr+1
.198a	8a		        txa
.198b	20 aa 19	        jsr atohex
.198e	a2 ea		        ldx #<hexstr+0
.1990	a0 0f		        ldy #>hexstr+0
.1992	20 42 17	        jsr putsyx
.1995	20 99 16	        jsr popall
.1998	60		        rts
.1999			putahex
.1999	20 d2 16	        jsr pushregs
.199c	20 aa 19	        jsr atohex
.199f	a2 ec		        ldx #<hexstr+2
.19a1	a0 0f		        ldy #>hexstr+2
.19a3	20 42 17	        jsr putsyx
.19a6	20 ff 16	        jsr popregs
.19a9	60		        rts
.19aa			atohex
.19aa	08		        php
.19ab	48		        pha
.19ac	48		        pha
.19ad	20 f8 19	        jsr lsr4bits
.19b0	20 0b 1a	        jsr nibtohex
.19b3	8d ec 0f	        sta hexstr+2
.19b6	68		        pla
.19b7	20 0b 1a	        jsr nibtohex
.19ba	8d ed 0f	        sta hexstr+3
.19bd	a9 00		        lda #$00
.19bf	8d ee 0f	        sta hexstr+4
.19c2	68		        pla
.19c3	28		        plp
.19c4	60		        rts
.19c5			putabin
.19c5	20 d2 16	          jsr     pushregs
.19c8	20 d6 19	          jsr     atobin
.19cb	a2 dd		          ldx     #<binstr
.19cd	a0 0f		          ldy     #>binstr
.19cf	20 42 17	          jsr     putsyx
.19d2	20 ff 16	          jsr     popregs
.19d5	60		          rts
.19d6			atobin
.19d6	20 d2 16	          jsr  pushregs
.19d9	a2 08		          ldx  #8
.19db	a0 00		          ldy  #0
.19dd	18		          clc
.19de	2a		nextbit   rol
.19df	48		          pha
.19e0	69 00		          adc  #$00
.19e2	29 01		          and  #$01
.19e4	20 0b 1a	          jsr  nibtohex
.19e7	99 dd 0f	          sta  binstr,y
.19ea	68		          pla
.19eb	c8		          iny
.19ec	ca		          dex
.19ed	d0 ef		          bne  nextbit
.19ef	a9 00		          lda  #0
.19f1	99 dd 0f	          sta  binstr,y
.19f4	20 ff 16	          jsr  popregs
.19f7	60		          rts
.19f8			lsr4bits
.19f8	08		          php
.19f9	4a		          lsr a
.19fa	4a		          lsr a
.19fb	4a		          lsr a
.19fc	4a		          lsr a
.19fd	28		          plp
.19fe	60		          rts
.19ff			nibtohexb
.19ff	08		        php
.1a00	29 0f		        and #$0f
.1a02	f8		        sed
.1a03	18		        clc
.1a04	69 90		        adc #$90
.1a06	69 40		        adc #$40
.1a08	d8		        cld
.1a09	28		        plp
.1a0a	60		        rts
.1a0b			nibtohex
.1a0b	08		        php
.1a0c	8c 2a 1a	        sty myy
.1a0f	29 0f		        and #$0f
.1a11	a8		        tay
.1a12	b9 1a 1a	        lda hextbl,y
.1a15	ac 2a 1a	        ldy myy
.1a18	28		        plp
.1a19	60		        rts
>1a1a	30 31 32 33	hextbl  .byte $30,$31,$32,$33,$34
>1a1e	34
>1a1f	35 36 37 38	        .byte $35,$36,$37,$38,$39
>1a23	39
>1a24	41 42 43 44	        .byte $41,$42,$43,$44,$45
>1a28	45
>1a29	46		        .byte $46
>1a2a	00		myy     .byte $00
.1a2b			bytestohex
.1a2b	20 60 16	        jsr pushall
.1a2e	84 fc		        sty zp1+1
.1a30	86 fb		        stx zp1
.1a32	08		            php
.1a33	48		            pha
.1a34	a9 20		            lda #32
.1a36	20 7a f2	            jsr chrout
.1a39	68		            pla
.1a3a	28		            plp
.1a3b	08		            php
.1a3c	48		            pha
.1a3d	a9 05		            lda #5
.1a3f	20 7a f2	            jsr chrout
.1a42	68		            pla
.1a43	28		            plp
.1a44	08		            php
.1a45	48		            pha
.1a46	a9 24		            lda #36
.1a48	20 7a f2	            jsr chrout
.1a4b	68		            pla
.1a4c	28		            plp
.1a4d	20 75 19	        jsr putyxhex   ; prn adreponsese
.1a50	08		            php
.1a51	48		            pha
.1a52	a9 20		            lda #$20
.1a54	20 7a f2	            jsr chrout
.1a57	68		            pla
.1a58	28		            plp
.1a59	08		            php
.1a5a	48		            pha
.1a5b	a9 9f		            lda #159
.1a5d	20 7a f2	            jsr chrout
.1a60	68		            pla
.1a61	28		            plp
.1a62	a0 00		        ldy #$00
.1a64	aa		        tax
.1a65	8c ce 0f	another sty offset
.1a68	b1 fb		        lda (zp1),y
.1a6a	20 99 19	        jsr putahex
.1a6d	48		        pha
.1a6e	20 8d 1a	        jsr petsciiaddr
.1a71	68		        pla
.1a72	8d 00 04	petscii sta $0400
.1a75	48		        pha
.1a76	a9 0d		        lda #$0d
.1a78	8d 00 d8	petcol  sta $d800
.1a7b	68		        pla
.1a7c	08		            php
.1a7d	48		            pha
.1a7e	a9 20		            lda #$20
.1a80	20 7a f2	            jsr chrout
.1a83	68		            pla
.1a84	28		            plp
.1a85	c8		        iny
.1a86	ca		        dex
.1a87	d0 dc		        bne another
.1a89	20 99 16	        jsr popall
.1a8c	60		        rts
.1a8d			petsciiaddr
.1a8d	20 d2 16	        jsr pushregs
.1a90	a9 1f		        lda #31
.1a92	18		        clc
.1a93	6d ce 0f	        adc offset
.1a96	20 32 19	        jsr addatoyx
.1a99	8c 74 1a	        sty petscii+2
.1a9c	8e 73 1a	        stx petscii+1
.1a9f	8e 79 1a	        stx petcol+1
.1aa2	98		        tya
.1aa3	29 fb		        and #%11111011 ;#%00000100
.1aa5	09 d8		        ora #$d8
.1aa7	8d 7a 1a	        sta petcol+2
.1aaa	a8		        tay
.1aab	20 ff 16	        jsr popregs
.1aae	60		        rts
.1aaf			strhexval
.1aaf	20 60 16	        jsr pushall ; sauve registre
.1ab2	84 fc		        sty zp1+1   ; ptr dans zp1
.1ab4	86 fb		        stx zp1
.1ab6	20 f0 17	        jsr strlen  ;len de $(yyxx)->a
.1ab9	f0 3d		        beq oute    ; si 0 erreur C=1
.1abb	a0 00		        ldy #$00    ; offset a 0
.1abd	8c 96 0f	        sty reponse+1; reponse a zero
.1ac0	8c 95 0f	        sty reponse ;    ...
.1ac3	b1 fb		nextc   lda (zp1),y ;charge un caractere
.1ac5	f0 26		        beq out     ;On  a fini
.1ac7	c0 00		        cpy #$00    ;si c'est le premier
.1ac9	f0 07		        beq norol   ; pas de rol
.1acb	48		        pha         ;
.1acc	a9 04		        lda #$04    ;rol de 4 pos
.1ace	20 b8 1b	        jsr rolword ;
.1ad1	68		        pla         ;
.1ad2	09 20		norol   ora #%00100000
.1ad4	38		        sec
.1ad5	e9 30		        sbc #$30
.1ad7	c9 0a		        cmp #$0a
.1ad9	90 07		        bcc lt10
.1adb	38		        sec
.1adc	e9 27		        sbc #$27
.1ade	c9 10		        cmp #$10
.1ae0	b0 16		        bcs oute
.1ae2	0d 95 0f	lt10    ora reponse
.1ae5	8d 95 0f	        sta reponse
.1ae8	c8		        iny
.1ae9	c0 04		        cpy #$04
.1aeb	d0 d6		        bne nextc
.1aed	20 99 16	out     jsr popall
.1af0	18		        clc          ;Carry 0 = good
.1af1	ac 96 0f	        ldy reponse+1
.1af4	ae 95 0f	        ldx reponse
.1af7	60		        rts
.1af8	20 99 16	oute    jsr popall
.1afb	38		        sec
.1afc	60		        rts
.1afd			showra
.1afd	20 d2 16	          jsr  pushregs
.1b00	ac 86 02	          ldy  kcol
.1b03	08		            php
.1b04	48		            pha
.1b05	a9 90		            lda #snoir
.1b07	20 7a f2	            jsr chrout
.1b0a	68		            pla
.1b0b	28		            plp
.1b0c	20 46 18	          jsr  isprnable
.1b0f	b0 13		          bcs  okprn
.1b11	48		          pha
.1b12	08		            php
.1b13	48		            pha
.1b14	a9 1c		            lda #srouge
.1b16	20 7a f2	            jsr chrout
.1b19	68		            pla
.1b1a	28		            plp
.1b1b	a9 2e		          lda  #'.'
.1b1d	20 7a f2	          jsr  chrout
.1b20	68		          pla
.1b21	4c 27 1b	          jmp  noprn
.1b24	20 7a f2	okprn     jsr  chrout
.1b27			noprn
.1b27	08		            php
.1b28	48		            pha
.1b29	a9 20		            lda #32
.1b2b	20 7a f2	            jsr chrout
.1b2e	68		            pla
.1b2f	28		            plp
.1b30	08		            php
.1b31	48		            pha
.1b32	a9 1f		            lda #sbleu
.1b34	20 7a f2	            jsr chrout
.1b37	68		            pla
.1b38	28		            plp
.1b39	08		            php
.1b3a	48		            pha
.1b3b	a9 24		            lda #36
.1b3d	20 7a f2	            jsr chrout
.1b40	68		            pla
.1b41	28		            plp
.1b42	20 99 19	          jsr putahex
.1b45	08		            php
.1b46	48		            pha
.1b47	a9 20		            lda #32
.1b49	20 7a f2	            jsr chrout
.1b4c	68		            pla
.1b4d	28		            plp
.1b4e	08		            php
.1b4f	48		            pha
.1b50	a9 1c		            lda #srouge
.1b52	20 7a f2	            jsr chrout
.1b55	68		            pla
.1b56	28		            plp
.1b57	08		            php
.1b58	48		            pha
.1b59	a9 25		            lda #37
.1b5b	20 7a f2	            jsr chrout
.1b5e	68		            pla
.1b5f	28		            plp
.1b60	20 c5 19	          jsr putabin
.1b63	08		            php
.1b64	48		            pha
.1b65	a9 20		            lda #32
.1b67	20 7a f2	            jsr chrout
.1b6a	68		            pla
.1b6b	28		            plp
.1b6c	08		            php
.1b6d	48		            pha
.1b6e	a9 9c		            lda #smauve
.1b70	20 7a f2	            jsr chrout
.1b73	68		            pla
.1b74	28		            plp
.1b75	48		          pha
.1b76	aa		          tax
.1b77	a9 00		          lda #$00
.1b79	20 cd dd	          jsr fiaxtf1
.1b7c	68		          pla
.1b7d	8c 86 02	          sty kcol
.1b80	20 ff 16	          jsr popregs
.1b83	60		          rts
.1b84			putahexdec
.1b84	20 d2 16	          jsr pushregs
.1b87	20 38 18	          jsr  curget    ; Sauvegarde la position du curseur.
.1b8a	20 d2 16	        jsr pushregs
.1b8d	a0 00		        ldy #0
.1b8f	a2 16		        ldx #22
.1b91	18		        clc
.1b92	20 0a e5	        jsr plot
.1b95	20 ff 16	        jsr popregs
.1b98	08		            php
.1b99	48		            pha
.1b9a	a9 20		            lda #32
.1b9c	20 7a f2	            jsr chrout
.1b9f	68		            pla
.1ba0	28		            plp
.1ba1	20 fd 1a	          jsr  showra    ; Affiche .a en ascii, hexa, bin et dec.
.1ba4	c9 63		          cmp  #99       ; Estce que le code ascii est > 99 dec.
.1ba6	10 09		          bpl  nospc     ; Non, on saute.
.1ba8	08		            php
.1ba9	48		            pha
.1baa	a9 20		            lda #32
.1bac	20 7a f2	            jsr chrout
.1baf	68		            pla
.1bb0	28		            plp
.1bb1	20 3f 18	nospc     jsr  curput    ; Replkace le curseur à sa position initiale.
.1bb4	20 ff 16	          jsr popregs
.1bb7	60		          rts
.1bb8			rolword
.1bb8	20 d2 16	        jsr pushregs
.1bbb	a8		        tay
.1bbc	18		again   clc
.1bbd	2e 95 0f	        rol reponse
.1bc0	2e 96 0f	        rol reponse+1
.1bc3	88		        dey
.1bc4	d0 f6		        bne again
.1bc6	20 ff 16	        jsr popregs
.1bc9	60		        rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-keyb.asm

.1bca			clrkbbuf
.1bca	08		          php
.1bcb	48		          pha
.1bcc	a9 00		          lda #0
.1bce	85 c6		          sta 198
.1bd0	20 e1 ff	          jsr $ffe1
.1bd3	68		          pla
.1bd4	28		          plp
.1bd5	60		          rts
.1bd6			waitstop
.1bd6	08		          php    ;\ sauve les flags
.1bd7	48		          pha    ;/  et l'acc.
.1bd8	20 ca 1b	          jsr clrkbbuf
.1bdb	20 70 f7	wait      jsr stop ; Veri [run/stop]
.1bde	d0 fb		          bne wait ;loop pas pesee.
.1be0	68		          pla    ;\ recup. acc et
.1be1	28		          plp    ;/  les flags.
.1be2	60		          rts
.1be3			anykey
.1be3	08		          php
.1be4	48		          pha
.1be5	20 ca 1b	          jsr clrkbbuf
.1be8	a5 cb		wait      lda 203    ;lit la matrice de
.1bea	c9 40		          cmp #64    ; 64 = aucune clef
.1bec	f0 fa		          beq wait   ; on en attend une.
.1bee	20 f7 1b	          jsr kbfree ; Clavier relache.
.1bf1	20 ca 1b	          jsr clrkbbuf
.1bf4	68		          pla
.1bf5	28		          plp
.1bf6	60		          rts
.1bf7			kbfree
.1bf7	08		        php
.1bf8	48		        pha
.1bf9	a5 cb		wait    lda 203    ; lit la matrice
.1bfb	c9 40		        cmp #64    ; 64 = aucune clef
.1bfd	d0 fa		        bne wait   ; attend la relache
.1bff	68		        pla
.1c00	28		        plp
.1c01	60		        rts
.1c02			getkey
.1c02	08		        php
.1c03	20 e1 ff	        jsr $ffe1
.1c06	20 f5 f1	try     jsr getin  ;tente de lire
.1c09	c9 00		        cmp #0     ; 0 si aucune.
.1c0b	f0 f9		        beq try    ; on reessaye
.1c0d	28		        plp
.1c0e	60		        rts
.1c0f			waitkey
.1c0f	08		        php
.1c10	48		        pha
.1c11	8d 89 0f	        sta clef   ;Sauve clef voulue
.1c14	20 ca 1b	        jsr clrkbbuf
.1c17	20 f5 f1	wait    jsr getin  ;Sonde le clavier
.1c1a	cd 89 0f	        cmp clef   ;Compare avec clef
.1c1d	d0 f8		        bne wait   ;Pas la bonne.
.1c1f	68		        pla
.1c20	28		        plp
.1c21	60		        rts
.1c22			waitspace
.1c22	a9 20		          lda #$20
.1c24	20 0f 1c	          jsr waitkey
.1c27	20 ca 1b	          jsr clrkbbuf
.1c2a	60		          rts
.1c2b			showkey
.1c2b	20 d2 16	        jsr pushregs
.1c2e	38		        sec
.1c2f	20 0a e5	        jsr plot
.1c32	8e 8b 0f	        stx curx
.1c35	8c 8a 0f	        sty cury
.1c38	20 d2 16	        jsr pushregs
.1c3b	a0 00		        ldy #0
.1c3d	a2 16		        ldx #22
.1c3f	18		        clc
.1c40	20 0a e5	        jsr plot
.1c43	20 ff 16	        jsr popregs
.1c46	20 7a f2	        jsr chrout
.1c49	20 fd 1a	        jsr showra
.1c4c	18		        clc
.1c4d	ac 8a 0f	        ldy cury
.1c50	ae 8b 0f	        ldx curx
.1c53	20 0a e5	        jsr plot
.1c56	20 ff 16	        jsr popregs
.1c59	60		        rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-screen.asm

.1c5a			scrnsave
.1c5a	20 60 16	        jsr pushall
.1c5d	20 b2 1c	        jsr setcarptr
.1c60	20 80 1c	        jsr zp1tozp2
.1c63	20 c9 1c	        jsr setcolptr
.1c66	20 80 1c	        jsr zp1tozp2
.1c69	20 99 16	        jsr popall
.1c6c	60		        rts
.1c6d			scrnrest
.1c6d	20 60 16	        jsr pushall
.1c70	20 b2 1c	        jsr setcarptr
.1c73	20 99 1c	        jsr zp2tozp1
.1c76	20 c9 1c	        jsr setcolptr
.1c79	20 99 1c	        jsr zp2tozp1
.1c7c	20 99 16	        jsr popall
.1c7f	60		        rts
.1c80			zp1tozp2
.1c80	20 60 16	        jsr pushall
.1c83	a2 02		        ldx #>scrlen
.1c85	a0 00		        ldy #<scrlen
.1c87	b1 fb		nextcar lda (zp1),y
.1c89	91 fd		        sta (zp2),y
.1c8b	c8		        iny
.1c8c	d0 f9		        bne nextcar
.1c8e	e6 fc		        inc zp1+1
.1c90	e6 fe		        inc zp2+1
.1c92	ca		        dex
.1c93	d0 f2		        bne nextcar
.1c95	20 99 16	        jsr popall
.1c98	60		        rts
.1c99			zp2tozp1
.1c99	20 60 16	        jsr pushall
.1c9c	a2 02		        ldx #>scrlen
.1c9e	a0 00		        ldy #<scrlen
.1ca0	b1 fd		nextcar lda (zp2),y
.1ca2	91 fb		        sta (zp1),y
.1ca4	c8		        iny
.1ca5	d0 f9		        bne nextcar
.1ca7	e6 fc		        inc zp1+1
.1ca9	e6 fe		        inc zp2+1
.1cab	ca		        dex
.1cac	d0 f2		        bne nextcar
.1cae	20 99 16	        jsr popall
.1cb1	60		        rts
.1cb2			setcarptr
.1cb2	20 d2 16	        jsr pushregs
.1cb5	a9 00		        lda #<scrtxt
.1cb7	85 fb		        sta zp1
.1cb9	a9 10		        lda #>scrtxt
.1cbb	85 fc		        sta zp1+1
.1cbd	a9 82		        lda #<scrncar
.1cbf	85 fd		        sta zp2
.1cc1	a9 0d		        lda #>scrncar
.1cc3	85 fe		        sta zp2+1
.1cc5	20 ff 16	        jsr popregs
.1cc8	60		        rts
.1cc9			setcolptr
.1cc9	20 d2 16	        jsr pushregs
.1ccc	a9 00		        lda #<scrcol
.1cce	85 fb		        sta zp1
.1cd0	a9 94		        lda #>scrcol
.1cd2	85 fc		        sta zp1+1
.1cd4	a9 82		        lda #<scrncol
.1cd6	85 fd		        sta zp2
.1cd8	a9 0b		        lda #>scrncol
.1cda	85 fe		        sta zp2+1
.1cdc	20 ff 16	        jsr popregs
.1cdf	60		        rts
.1ce0			fillscreen
.1ce0	20 60 16	          jsr pushall
.1ce3	a2 02		          ldx #$02
.1ce5	a0 00		          ldy #$00
.1ce7	99 00 10	again     sta scrtxt,y
.1cea	99 00 11	          sta scrtxt+256,y
.1ced	48		          pha
.1cee	8a		          txa
.1cef	99 00 94	          sta scrcol,y
.1cf2	99 00 95	          sta scrcol+256,y
.1cf5	68		          pla
.1cf6	c8		          iny
.1cf7	d0 ee		          bne again
.1cf9	20 99 16	          jsr popall
.1cfc	60		          rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-showregs.asm

.1cfd			showregs
.1cfd	20 5a 1c	          jsr scrnsave
.1d00	08		          php
.1d01	8d 78 0b	          sta  acc
.1d04	68		          pla       ;acc<-sr
.1d05	8d 75 0b	          sta  sr
.1d08	8e 77 0b	          stx  xr
.1d0b	8c 76 0b	          sty  yr
.1d0e	ba		          tsx       ; x<-sp
.1d0f	8e 74 0b	          stx  sp
.1d12	68		          pla
.1d13	8d 73 0b	          sta  pcl
.1d16	68		          pla
.1d17	8d 72 0b	          sta  pch
.1d1a	48		          pha
.1d1b	ad 73 0b	          lda  pcl
.1d1e	48		          pha
.1d1f	a9 00		          lda #$00
.1d21	a2 11		          ldx #regline   ; No. de ligne
.1d23	a8		          tay
.1d24	18		          clc
.1d25	20 0a e5	          jsr plot       ; pos. curseur.
.1d28	08		            php
.1d29	48		            pha
.1d2a	a9 90		            lda #snoir
.1d2c	20 7a f2	            jsr chrout
.1d2f	68		            pla
.1d30	28		            plp
.1d31	20 60 16	            jsr  pushall
.1d34	a2 37		            ldx  #<rtitle
.1d36	86 fb		            stx  $fb
.1d38	a0 13		            ldy  #>rtitle
.1d3a	84 fc		            sty  $fc
.1d3c	20 2c 17	            jsr  puts
.1d3f	20 99 16	            jsr  popall
.1d42	20 60 16	            jsr  pushall
.1d45	a2 53		            ldx  #<rlable
.1d47	86 fb		            stx  $fb
.1d49	a0 13		            ldy  #>rlable
.1d4b	84 fc		            sty  $fc
.1d4d	20 2c 17	            jsr  puts
.1d50	20 99 16	            jsr  popall
.1d53	20 60 16	            jsr  pushall
.1d56	a2 6e		            ldx  #<rvalues
.1d58	86 fb		            stx  $fb
.1d5a	a0 13		            ldy  #>rvalues
.1d5c	84 fc		            sty  $fc
.1d5e	20 2c 17	            jsr  puts
.1d61	20 99 16	            jsr  popall
.1d64	20 60 16	            jsr  pushall
.1d67	a2 89		            ldx  #<rbline
.1d69	86 fb		            stx  $fb
.1d6b	a0 13		            ldy  #>rbline
.1d6d	84 fc		            sty  $fc
.1d6f	20 2c 17	            jsr  puts
.1d72	20 99 16	            jsr  popall
.1d75	ac 72 0b	          ldy  pch
.1d78	ae 73 0b	          ldx  pcl
.1d7b	e8		          inx       ; Aj. LSB adresse
.1d7c	90 01		          bcc  go   ; Report? Non Go!
.1d7e	c8		          iny       ; Oui, Aj. MSB
.1d7f			go
.1d7f	20 d2 16	        jsr pushregs
.1d82	a0 01		        ldy #1
.1d84	a2 13		        ldx #regline+2
.1d86	18		        clc
.1d87	20 0a e5	        jsr plot
.1d8a	20 ff 16	        jsr popregs
.1d8d	20 75 19	          jsr putyxhex   ; pc
.1d90	ad 78 0b	          lda  acc
.1d93	20 d2 16	        jsr pushregs
.1d96	a0 06		        ldy #6
.1d98	a2 13		        ldx #regline+2
.1d9a	18		        clc
.1d9b	20 0a e5	        jsr plot
.1d9e	20 ff 16	        jsr popregs
.1da1	20 99 19	          jsr putahex    ; reg x
.1da4	ad 77 0b	          lda  xr
.1da7	20 d2 16	        jsr pushregs
.1daa	a0 09		        ldy #9
.1dac	a2 13		        ldx #regline+2
.1dae	18		        clc
.1daf	20 0a e5	        jsr plot
.1db2	20 ff 16	        jsr popregs
.1db5	20 99 19	          jsr  putahex    ; reg x
.1db8	ad 76 0b	          lda  yr
.1dbb	20 d2 16	        jsr pushregs
.1dbe	a0 0c		        ldy #12
.1dc0	a2 13		        ldx #regline+2
.1dc2	18		        clc
.1dc3	20 0a e5	        jsr plot
.1dc6	20 ff 16	        jsr popregs
.1dc9	20 99 19	          jsr  putahex    ; reg y
.1dcc	ad 75 0b	          lda  sr
.1dcf	20 d2 16	        jsr pushregs
.1dd2	a0 0f		        ldy #15
.1dd4	a2 13		        ldx #regline+2
.1dd6	18		        clc
.1dd7	20 0a e5	        jsr plot
.1dda	20 ff 16	        jsr popregs
.1ddd	20 99 19	          jsr putahex    ; status reg
.1de0	ad 74 0b	          lda  sp
.1de3	8a		          txa
.1de4	20 d2 16	        jsr pushregs
.1de7	a0 12		        ldy #18
.1de9	a2 13		        ldx #regline+2
.1deb	18		        clc
.1dec	20 0a e5	        jsr plot
.1def	20 ff 16	        jsr popregs
.1df2	20 99 19	          jsr putahex    ; sp
.1df5	20 ca 1b	          jsr  clrkbbuf
.1df8	20 e3 1b	          jsr  anykey
.1dfb	20 6d 1c	          jsr scrnrest
.1dfe	ad 78 0b	          lda  acc
.1e01	ae 77 0b	          ldx  xr
.1e04	ac 76 0b	          ldy  yr
.1e07	ad 75 0b	          lda  sr
.1e0a	48		          pha
.1e0b	28		          plp
.1e0c	60		          rts
=17			regline   = 17
.1e0d			showstack
.1e0d	8d 78 0b	          sta acc
.1e10	08		          php
.1e11	68		          pla
.1e12	8d 75 0b	          sta sr
.1e15	8e 77 0b	          stx xr
.1e18	8c 76 0b	          sty yr
.1e1b	38		          sec
.1e1c	a0 10		          ldy  #$10
.1e1e	ba		          tsx
.1e1f	e8		          inx
.1e20	8a		          txa
.1e21	20 fd 1a	          jsr showra
.1e24	08		            php
.1e25	48		            pha
.1e26	a9 0d		            lda #13
.1e28	20 7a f2	            jsr chrout
.1e2b	68		            pla
.1e2c	28		            plp
.1e2d	08		            php
.1e2e	48		            pha
.1e2f	a9 0d		            lda #13
.1e31	20 7a f2	            jsr chrout
.1e34	68		            pla
.1e35	28		            plp
.1e36	bd 00 01	morey     lda $0100,x
.1e39	20 fd 1a	          jsr showra
.1e3c	08		            php
.1e3d	48		            pha
.1e3e	a9 0d		            lda #13
.1e40	20 7a f2	            jsr chrout
.1e43	68		            pla
.1e44	28		            plp
.1e45	e8		          inx
.1e46	88		          dey
.1e47	d0 ed		          bne morey
.1e49	ad 75 0b	          lda sr
.1e4c	48		          pha
.1e4d	ad 78 0b	          lda acc
.1e50	ae 77 0b	          ldx xr
.1e53	ac 76 0b	          ldy yr
.1e56	28		          plp
.1e57	60		          rts

;******  Return to file: dlbug20.asm

>1e58	34 12		prgend    .word $1234

;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/e-v20-page0.asm

=$01			kvar1     = $01
=$02			kvar2     = $02
=$13			channl    = $13
=$37			memsiz    = $37     ; WORD: Pointeur vers la fin de la mémoire BASIC.
=$57			tmpfp3    = $57     ; 10 octets i.e. 2 fp $57-$5b et $5c-$60
=$61			fac1      = $61     ;  5 octets i.e.      $61-$66
=$69			fac2      = $69     ;  5 octets i.e.      $69-$6e
=$73			chrget    = $73     ; Recup Basic car texte 24 octets i.e. $73-$8a
=$79			chrgot    = $79     ;  ...une seconde fois.
=$7c			chrtst    = $7c
=$90			kiostatus = $90     ; Kernal I/O status word (st) (byte)
=$93			verck     = $93     ; 0=LOAD, 1=VERIFY
=$99			dfltn     = $99     ; Numéro du périphérique d'entrée actuel.
=$9d			msgflg    = $9d     ; Indicateur de contrôle des messages du noyau.
=$a0			time      = $a0     ; 3 octets i.e. HR:$a0, MN:$a1, SC:$a2
=$b7			curfnlen  = $b7     ; Longueur actuelle du nom de fichier (octets).
=$b8			la        = $b8     ; Numéro de fichier logique actuel utilisé.
=$b9			sa        = $b9     ; Adresse secondaire actuellement utilisée.
=$b9			cursecadd = $b9     ; Adresse secondaire actuellement utilisée. (octet).
=$ba			fa        = $ba     ; Numéro de périphérique actuel (octet).
=$ba			curdevno  = $ba     ; Numéro de périphérique actuel (octet).
=$bb			fnadr     = $bb     ; Pointeur de fichier actuel (mot).
=$bb			curfptr   = $bb     ; Pointeur de fichier actuel (mot).
=$c1			stal      = $c1     ;
=$c3			memuss    = $c3     ; Pointeur vers la zone de RAM en cours de chargement.(mot)
=$c6			ndx       = $c6     ; Nombre de caractères (0-10) dans le tampon du clavier.
=$c7			rvs       = $c7     ; Indicateur pour caractères d'écran inversés.
=$d1			scrnlin   = $d1     ; ptr cur-scrn-line
=$d6			tblx      = $d6     ; Curseur : numéro de la ligne physique actuelle sur
=$fb			zp1       = $fb     ; 1er Zpage prog. usager address (word)
=$fb			zpage1    = $fb     ; zero page 1
=$fd			zp2       = $fd     ; 2em Zpage prog. usager address (word)
=$fd			zpage2    = $fd     ; zero page 2 address (word)

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/e-v20-float.asm

=$cfe6			ffpor   =   $cfe6   ; f1=f1 or f2.
=$cfe9			ffpand  =   $cfe9   ; f1=f1 and f2.
=$d1aa			ff1wrday=   $d1aa   ; f1=word->$aayy
=$d1bf			ff1swd64=   $d1bf   ; f1=sw(f1)->64
=$d1d2			ff1wrd64=   $d1d2   ; f1=uw(f1)->64
=$d391			fwrdayf1=   $d391   ; $aayy->f1
=$d3a2			fiyytf1 =   $d3a2   ; f1=float(y)
=$d79e			ff1evalx=   $d79e   ; eval. expr. f1 to x.
=$d7a1			ff1bytxx=   $d7a1   ; f1 to byte in x
=$d7f7			ff1to20 =   $d7f7   ; f1 -> int($14,$15)
=$d849			ff1p05  =   $d849   ; f1=f1+0,5.
=$d850			ffvsf1  =   $d850   ; f1=fv-f1 ($yyaa)
=$d853			ff2sf1  =   $d853   ; f1=f2-f1.
=$d867			ffvpf1  =   $d867   ; f1=fv+f1 ($yyaa)
=$d86a			ff2pf1  =   $d86a   ; f1=f2+f1
=$d8f7			fzerof1 =   $d8f7   ; f1=0.0
=$d947			ff1com2 =   $d947   ; f1=two's compl f1
=$da28			ff1xfv  =   $da28   ; f1=f1*fv ($yyaa)
=$da2b			ff1xf2  =   $da2b   ; f1=f1*f2
=$da59			ff1maa  =   $da59   ; f1=f1*.A
=$da8c			ffvtf2  =   $da8c   ; fv $(yyaa) -> f2
=$dae2			ff1x10  =   $dae2   ; f1=f1*10
=$dafe			ff1d10  =   $dafe   ; f1=f1/10
=$db0f			ffvdf1  =   $db0f   ; f1=fv/f1 ($yyaa)
=$db12			ff2df1  =   $db12   ; f1=f2/f1
=$dbc7			ff1t5c  =   $dbc7   ; Copie f1 vers $5c-$60.
=$dbca			ff1t57  =   $dbca   ; copie f1 vers $57-$5b.
=$dbd0			ff1t49  =   $dbd0   ; copie f1 vers $49-$4a.
=$dbd4			ff1tyx  =   $dbd4   ; Copie f1 mem $yyxx.
=$dbfc			ff2tf1  =   $dbfc   ; copie f2 to f1.
=$dc0c			ff1tf2r =   $dc0c   ; Copie f1 to f2 avec arrondissement.
=$dc0f			ff1tf2  =   $dc0f   ; Copie f1 to f2 sans arrondissement.
=$dc1b			ff1rnd  =   $dc1b   ; f1=round(f1).
=$dc2b			fsngf1  =   $dc2b   ; Tester le signe de FAC1.
=$dc39			ff1sign =   $dc39   ; f1=sgn(f1).
=$dc3c			fiaatf1 =   $dc3c   ; Conv. .A->F1.
=$dc44			fi62tf1 =   $dc44   ; Conv. mot 16 bits $62,$63 a f1.
=$dc58			ff1abs  =   $dc58   ; f1=abs(f1).
=$dc5b			ffvcmp  =   $dc5b   ; f1=f1 comp fv ($yyaa)
=$dc9b			ff1tudw =   $dc9b   ; f1-> 32 octets signé ($62-$65)
=$dccc			ff1int  =   $dccc   ; f1=int(f1).
=$dcf3			fasctf1 =   $dcf3   ; f1=float(ascii)
=$dd7e			ff1pac  =   $dd7e   ; f1=f1+ra val ra=0-9
=$ddcd			fiaxtf1 =   $ddcd   ; f1=float($aaxx)+print
=$dddd			ff1tasc =   $dddd   ; f1 to ascii ($yyaa)
=$df71			ff1sqr  =   $df71   ; f1=sqrt(f1).
=$df7b			ff1ef2  =   $df7b   ; f1=f1^f2
=$dfb4			ff1nf1  =   $dfb4   ; f1=-f1.
=$e261			ffac1cos=   $e261   ; f1=sin(f1+(pi/2)).. FAC1 copié en ram.
=$e264			ff1cos  =   $e264   ; f1=sin(f1+(pi/2)).
=$e26b			ffac1sin=   $e26b   ; f1=sin(f1). FAC1 copié en ram.
=$e26b			ff1sin  =   $e26b   ; f1=sin(f1)
=$e2b1			ffac1tan=   $e2b1   ; f1=sin(f1)/cos(f1). FAC1 copié en ram.
=$e2b4			ff1tan  =   $e2b4   ; f1=sin(f1)/cos(f1)
=$e30e			ffac1atn=   $e30e   ; f1=atn(f1). FAC1 copié en ram.
=$e30e			ff1atn  =   $e30e   ; f1=atn(f1).

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/e-v20-basic-map.asm

=$c000			bcoldst =   $c000   ; Vecteur vers la routine de démarrage à froid BASIC $e378.
=$c002			bwarmst =   $c002   ; Vecteur vers la routine de démarrage à chaud BASIC $e467.
=$c004			cbmBASIC=   $c004   ; Les caractères "CBMBASIC".
=$c00c			bstmdsp =   $c00c   ; Tableau vectoriel de répartition des mots clés, dans
=$c052			bfundsp =   $c052   ; Tableau des vecteurs de répartition des fonctions dans
=$c080			boptab  =   $c080   ; Tableau vectoriel de répartition des opérations
=$c09e			breslst =   $c09e   ; Tableau des mots-clés BASIC dans l'ordre des jetons.
=$c19e			berrtab =   $c19e   ; Tableau des messages d'erreur BASIC.
=$c328			bbmsgs  =   $c328   ; Tableau de Vecteurs de messages d'erreur BASIC.
=$c364			bmiscmsg=   $c364   ; Messages divers.
=$c38a			bscntk  =   $c38a   ; Trouvez les entrées FOR et GOSUB sur la pile.
=$c3b8			bmakspc =   $c3b8   ; Libérer de l'espace en mémoire pour une nouvelle ligne
=$c3bf			bmovebl =   $c3bf   ; Déplacer un bloc de mémoire.
=$c3fb			bstkspc =   $c3fb   ; Vérifiez si l'espace demandée est disponible sur la pile.
=$c408			bramspc =   $c408   ; Vérifiez que l'espace demandé dans la zone dynamique est
=$c435			bmemerr =   $c435   ; Définir le code du message d'erreur OUT OF MEMORY.
=$c437			berror  =   $c437   ; Routine de message d'erreur BASIC.
=$c469			bprdy   =   $c469   ; Afficher ERREUR, ou un autre message indiqué.
=$c474			bready  =   $c474   ; Afficher le message READY.
=$c480			bmain   =   $c480   ; Boucle principale BASIC, recevoir et exécuter ou stocker
=$c49c			bnewlin =   $c49c   ; Stocker/remplacer une ligne de programme BASIC.
=$c533			blnkprg =   $c533   ; Rechaîner les lignes du programme BASIC.
=$c560			bgetlin =   $c560   ; Recevoir les données du périphérique et remplir la
=$c579			bcrnch  =   $c579   ; Tokenisez la ligne BASIC dans le tampon de texte BASIC.
=$c613			bfinlin =   $c613   ; Trouvez la ligne BASIC à partir de son numéro de ligne.
=$c69c			bstxtpt =   $c69c   ; Ramener TXTPTR au début du programme.
=$c71a			bqplop  =   $c71a   ; Liste des mots-clés BASIC détokenisés.
=$c7ae			bnewstt =   $c7ae   ; Recherche (pour exécution) l'instruction BASIC suivante.
=$c7e4			bgone   =   $c7e4   ; Exécutez l'instruction BASIC actuelle.
=$c82c			btststop=   $c82c   ; Testez la touche STOP.
=$c8fb			bbumptp =   $c8fb   ; Incrémenter TXTPTR du montant en .Y.
=$c906			bfind2  =   $c906   ; Scannez le tampon de texte BASIC à 512 ($200) pour les
=$c96b			bdecbin =   $c96b   ; Convertir un numéro de ligne décimal au format LSB/MSB.
=$c9c2			blet2   =   $c9c2   ; LET : Affecter une variable entière.
=$c9da			blet5   =   $c9da   ; LET : Affecter TI$.
=$ca2c			blet8   =   $ca2c   ; LET : Affecter une variable de type chaîne de caractères.
=$ca9a			bprti   =   $ca9a   ; Partie de la routine PRINT.
=$cae8			bprt6   =   $cae8   ; Partie de la routine PRINT.
=$cb1e			bprtstr =   $cb1e   ; Imprimez $YYAA jusqu'à $0d ou jusqu'à ce que le nombre
=$cb3b			bprtos  =   $cb3b   ; Format d'impression des caractères d'espace, de curseur
=$cb4d			bigrerr =   $cb4d   ; Routine de formatage des messages d'erreur pour GET,
=$ccfc			bextra  =   $ccfc   ; Messages d'erreur de INPUT.
=$cd8a			btypchk =   $cd8a   ; Vérification du type de variable.
=$cd9e			bfrmevl =   $cd9e   ; Évaluation de formules/expressions.
=$ce83			beval   =   $ce83   ; Évaluer un seul terme d'une expression.
=$ce8a			bpival  =   $ce8a   ; Le NVF. PI = $82 $49 $0f $da $a1.
=$cef1			bparexp =   $cef1   ; L'évaluation entre parenthèses est effectuée.
=$cef7			brpachk =   $cef7   ; Vérification syntaxique pour ")".
=$cefa			blpachk =   $cefa   ; Vérification syntaxique pour "(".
=$cefd			bcomchk =   $cefd   ; Vérification syntaxique pour ",".
=$ceff			bsynchr =   $ceff   ; Vérification syntaxique d'un caractère spécifique dans
=$cf08			bsynerr =   $cf08   ; Provoquez un message d'ERREUR DE SYNTAXE via un saut
=$cf0d			bfactio =   $cf0d   ; Configurer l'index pour "-" (moins monadique).
=$cf14			bvarrange=  $cf14   ; Vérifier la plage de la variable ?
=$cf28			bfacti2 =   $cf28   ; Obtenir le nom et le type de la variable à partir de
=$cfa7			bfacti7 =   $cfa7   ; Appel une fonction.
=$d016			bcompar =   $d016   ; Comparer des nombres ou des chaînes de caractères.
=$d02e			bcmpst  =   $d02e   ; Comparez les chaînes de caractères.
=$d08b			bevlvar =   $d08b   ; Localiser ou créer une variable.
=$d0e7			bfndvar =   $d0e7   ; Localiser la variable.
=$d113			bchrtst =   $d113   ; Vérifie si le caractère ASCII est alphabétique.
=$d11d			bmakvar =   $d11d   ; Créez une nouvelle variable.
=$d185			bretvp  =   $d185   ; Renvoie l'adresse de la variable trouvée ou créée.
=$d194			baryhed =   $d194   ; Calculer la longueur d'un descripteur de tableau.
=$d1a5			bmaxint =   $d1a5   ; Valeur entière maximale de 32768 en Fonction NVF.:
=$d1aa			bintidx =   $d1aa   ; Convertir les nombres à virgule flottante en nombres à
=$d1b2			bgetsub =   $d1b2   ; Convertir une expression en nombre entier.
=$d1bf			bmakint =   $d1bf   ; Convertir un NVF. en entier signé.
=$d1d1			bary    =   $d1d1   ; Trouver un élément d'un tableau ou créer un tableau.
=$d245			bbadsub =   $d245   ; Affiche le message "BAD SUBSCRIPT".
=$d248			bilquan =   $d248   ; Afficher le message "ILLEGAL QUANTITY".
=$d24d			bary2   =   $d24d   ; Tableau trouvé, vérifiez la plage d'indices.
=$d261			bary6   =   $d261   ; Créer un tableau.
=$d2ea			bary14  =   $d2ea   ; Localiser un élément particulier du tableau.
=$d34c			bmi6    =   $d34c   ; Calculer la taille du tableau multidimensionnel.
=$d391			bmkfp   =   $d391   ; Convertir l'entier .AAYY .Y (LSB) et .A (MSB) en virgule
=$d3a6			bnidirm =   $d3a6   ; Vérifiez si l'instruction est saisie en mode direct.
=$d3ae			bundef  =   $d3ae   ; Émet un message « UNDEF'D FUNCTION » pour EVALFN ($d3f4).
=$d3e1			bfn     =   $d3e1   ; Vérifie la syntaxe de DEF FN et FN.
=$d44f			bevfn3  =   $d44f   ; Stocker les valeurs DEF FN dans le descripteur de
=$d475			balci   =   $d475   ; Calcul le vecteur et la longueur de la nouvelle chaine.
=$d487			bmakstr =   $d487   ; Analyse et configure la chaîne.
=$d4f4			balcspc =   $d4f4   ; Alloue de l'espace mémoire pour une chaîne de caractères.
=$d526			bgrbcol =   $d526   ; Collecteur de dechets.
=$d5b5			bgcoli3 =   $d5b5   ; Vérifiez si la chaîne la plus éligible est à collecter.
=$d606			bcolect =   $d606   ; Collecte en déchets une chaine.
=$d67a			bxferstr=   $d67a   ; Déplacer la chaîne de caractères en mémoire.
=$d6a3			bdelst  =   $d6a3   ; Supprimez une chaîne temporaire.
=$d6db			bdeltsd =   $d6db   ; Nettoyez la pile de descripteurs de chaînes temporaires.
=$d761			bfinlmr =   $d761   ; Obtenir les paramètres de chaîne pour LEFT$, MID$ et
=$d782			bgsinfo =   $d782   ; Obtenez des informations sur la chaîne.
=$d79b			bgetbyt =   $d79b   ; Obtenir un nombre compris entre 0 et 255.
=$d7eb			bgetad  =   $d7eb   ; Récupération de deux paramètres pour POKE et WAIT.
=$d7f7			bmakadr =   $d7f7   ; Convertir le NVF. FAC en un entier
=$d849			badd05  =   $d849   ; Additionner 0,5 à f1.
=$d850			blamin  =   $d850   ; Soustraction du contenu de la mémoire de f1.
=$d862			bplus1  =   $d862   ; Effectuer un prédécalage d'exposant (?) et continue
=$d867			blaplus =   $d867   ; Ajoute FV à f1.
=$d8a7			bplus6  =   $d8a7   ; Rendre le résultat négatif si un emprunt a été effectué.
=$d8f7			bzerfac =   $d8f7   ; Met f1 à zéro et rend le signe positif puisque le
=$d8fe			bnormlz =   $d8fe   ; Renormaliser le résultat f1.
=$d947			bcomfac =   $d947   ; Complément à 2 de f1 entièrement.
=$d97e			boverfl =   $d97e   ; Affiche le message OVERFLOW et quitte.
=$d983			basrres =   $d983   ; Effectuer un prédécalage d'exposant (?) et continue
=$d9bc			bfpci   =   $d9bc   ; Constante de un pour un accumulateur à Fonction NVF.:
=$d9c1			bloggon =   $d9c1   ; Constantes de la fonction LOG.
=$da59			btimes3 =   $da59   ; Sous-programme de multiplication de .A.
=$da8c			blodarg =   $da8c   ; Déplacer la mémoire à virgule flottante vers FAC2.
=$dab7			bmuldiv =   $dab7   ; Additionne les exposants de f1 et f2
=$dae2			bmulten =   $dae2   ; Multiplie f1 par 10.
=$daf9			bfpcten =   $daf9   ; +10 constante à virgule flottante : $84,$20,$00,$00,$00.
=$dafe			bdivten =   $dafe   ; Divise F1 par 10.
=$db0f			bladiv  =   $db0f   ; Déplace le NVF. en mémoire vers f2.
=$dba2			blodfac =   $dba2   ; Déplace le NVF. en mémoire dans f1.
=$dba2			ffvtf1  =   $dba2   ; copie fv $(yyaa) to f1
=$dbc7			bfactf2 =   $dbc7   ; Déplace f1 en mémoire.
=$dbca			bfactf1 =   $dbca   ; Déplace f1 en mémoire.
=$dbd0			bfactfp =   $dbd0   ; Déplace f1 en mémoire.
=$dbd4			bstorfac=   $dbd4   ; Déplace FAC1 en mémoire.
=$dbfc			batof   =   $dbfc   ; Transférer FAC2 vers FAC1.
=$dc0c			brftoa  =   $dc0c   ; Déplace FAC1 vers FAC2, avec arrondissement.
=$dc0f			bftoa   =   $dc0f   ; Déplace FAC1 vers FAC2, sans arrondissement.
=$dc1b			bround  =   $dc1b   ; Arrondir FAC1 en ajustant l'octet d'arrondi.
=$dc2b			bshgfac =   $dc2b   ; Tester le signe de FAC1.
=$dc3c			bintfp  =   $dc3c   ; Convertie .A en NVF. dans FAC1.
=$dc44			bintfp1 =   $dc44   ; Convertir un entier 16 bits ($62,$63) en NVF. dans FAC1.
=$dc5b			bcmpfac =   $dc5b   ; Comparez FAC1 à la mémoire ($YYAA).
=$dc9b			bfpint  =   $dc9b   ; Convertir FAC1 en entier signé. dans $62-$65 Double-mot
=$dce9			bfilfac =   $dce9   ; Stockez le contenu de .A dans les emplacements ($62-$65).
=$dcf3			bascflt =   $dcf3   ; Convertir une chaîne ASCII en un NVF. dans FAC1.
=$dd7e			basc18  =   $dd7e   ; Aditionne .A à FAC1.
=$ddb3			bfpc12  =   $ddb3   ; Constante de conversion de chaîne de caractères en NVF.
=$ddc2			bprtin  =   $ddc2   ; Émet le message IN.
=$ddcd			bprtfix =   $ddcd   ; Routine d'affichage des nombres décimaux.
=$dddd			bfltasc =   $dddd   ; Convertir FAC en TI$ ou en chaîne ASCII.
=$df11			bflp05  =   $df11   ; 0,5 constante pour l'arrondi et SQR.
=$df16			bfltcon =   $df16   ; Table des puissances de 10, au format entier fixe de
=$df3a			bhmscon =   $df3a   ; Constantes pour la conversion de division TI$, au format
=$dfbf			bexpcon =   $dfbf   ; Tableau pour EXP, au format à virgule flottante.
=$e040			bserevl =   $e040   ; Routine d’évaluation des séries.
=$e056			bser2   =   $e056   ; Routine d'évaluation des séries mathématiques.
=$e08a			brndc1  =   $e08a   ; Tableau des constantes pour RND.
=$e0f6			bpatchbas=  $e0f6   ; Routines de patch BASIC.
=$e1d1			bparsl  =   $e1d1   ; Définie les paramètres LOAD, VERIFY et SAVE.
=$e203			bifchrg =   $e203   ; Vérifiez si la commande actuelle contient d'autres
=$e20b			bskpcom =   $e20b   ; Ignorer toute virgule dans les paramètres analysés.
=$e20e			bchrerr =   $e20e   ; S'assurez qu'un paramètre soit présent après une virgule.
=$e216			bparoc  =   $e216   ; Gérer les paramètres de OPEN et CLOSE.
=$e2dd			bfpc20  =   $e2dd   ; Valeurs des constantes d'évaluation trigonométriques
=$e33b			batncon =   $e33b   ; Tableau des valeurs constantes pour l'évaluation ATN.
=$e378			bcoldba =   $e378   ; Effectue un démarrage à froid de BASIC.
=$e387			bcgimag =   $e387   ; La routine CHRGET et la graine RND doivent être copiées
=$e3a4			binitba =   $e3a4   ; Initialisation de BASIC : Restauration de CHRGET et des
=$e404			bfremsg =   $e404   ; Afficher le message de démarrage à froid de BASIC.
=$e429			bcbmmsg =   $e429   ; Message de démarrage à froid de BASIC.
=$e44f			bbasvctrs=  $e44f   ; Six vecteurs BASIC à copier à l'emplacement 768 ($300).
=$e45b			binitvctrs= $e45b   ; Copie des vecteurs BASIC de la ROM vers la RAM.
=$e467			bwarmbas=   $e467   ; Effectue un démarrage à chaud de BASIC.
=$e476			bpatcher=   $e476   ; Zone de "patch" programme.

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/e-v20-kernal-map.asm

=$0100			fascii    = $0100   ;region conv FP a ascii
=$0286			kcol      = $0286   ;Couleur car affiche.
=$a000			basicrom  = $a000
=$d000			chargen   = $d000
=$9000			vic       = $9000
=$9110			via1      = $9110   ;cia1 base address
=$dd00			via2      = $dd00   ;cia2 base address
=$e000			kernalrom = $e000
=0			eot       =    0
=8			discase   =    8
=9			enacase   =    9
=14			locase    =    14
=17			crsdown   =    17
=18			revson    =    18
=19			gohome    =    19
=20			delete    =    20
=29			crsright  =    29
=142			upcase    =    142
=145			crsup     =    145
=157			crsleft   =    157
=146			revsoff   =    146
=147			clrhome   =    147
=$03			bstop     =   $03      ;stop
=$05			bwhite    =   $05      ;set colour white
=$08			block     =   $08      ;lock the charset
=$09			bunlock   =   $09      ;unlock the charset
=$0d			bcarret   =   $0d
=$0e			btext     =   $0e
=$11			bcrsdn    =   $11      ;cursor down 1 line
=$12			brevcol   =   $12
=$13			bhome     =   $13
=$14			bdelete   =   $14
=$1c			bred      =   $1c
=$1d			bcuright  =   $1d
=$1e			bgreen    =   $1e
=$1f			bblue     =   $1f
=$81			borange   =   $81
=$83			blrun     =   $83
=$85			bfkey1    =   $85
=$86			bfkey2    =   $86
=$87			bfkey3    =   $87
=$88			bfkey4    =   $88
=$89			bfkey5    =   $89
=$8a			bfkey6    =   $8a
=$8b			bfkey7    =   $8b
=$8c			bfkey8    =   $8c
=$8d			bcarret1  =   $8d
=$8e			bgraph    =   $8e
=$90			bblack    =   $90
=$91			bcuup     =   $91
=$92			brevoff   =   $92
=$93			bclear    =   $93
=$94			binsert   =   $94
=$95			bbrown    =   $95
=$96			bltred    =   $96
=$97			bdkgrey   =   $97
=$98			bmdgrey   =   $98
=$99			bltgreen  =   $99
=$9a			bltblue   =   $9a
=$9b			bltgrey   =   $9b
=$9c			bmagenta  =   $9c
=$9d			bculeft   =   $9d
=$9e			byellow   =   $9e
=$9f			bcyan     =   $9f
=$0286			carcol  = $0286
=$030a			ieval   = $030a
=$0			enoir       = $0
=$1			eblanc      = $1
=$2			erouge      = $2
=$3			eocean      = $3
=$4			emauve      = $4
=$5			evert       = $5
=$6			ebleu       = $6
=$7			ejaune      = $7
=$8			eorange     = $8
=$9			ebrun       = $9
=$a			erose       = $a
=$b			egrisfonce  = $b
=$c			egrismoyen  = $c
=$d			evertpale   = $d
=$e			ebleupale   = $e
=$f			egrispale   = $f
=144			snoir       = 144
=5			sblanc      = 5
=28			srouge      = 28
=159			socean      = 159
=156			smauve      = 156
=30			svert       = 30
=31			sbleu       = 31
=158			sjaune      = 158
=$e4a0			serout1 = $e4a0 ; Serial: Output a 1 on the serial data line.
=$e4a9			serout0 = $e4a9 ; Serial: Output a 0 on the serial data line.
=$e4b2			serget  = $e4b2 ; Serial: Get an input bit from VIA1 and stabilize.
=$e4bc			patches = $e4bc ; Program patch area.
=$e500			iobase  = $e500 ; ($e500) Define i/o memory page
=$e505			screen  = $e505 ; Return screen format
=$e50a			plot    = $e50a ; Set or retrieve cursor location x=column, y=line
=$e518			initsk  = $e518 ; Initialize 6550 Vic Chip, screen and related pointers.
=$e55f			clsr    = $e55f ; Clear the screen.
=$e55f			home    = $e55f ; Move the cursor to the screen home position.
=$e587			setslink= $e587 ; Reset the screen line link table pointers.
=$e5b5			unusdnmi= $e5b5 ; NMI entry for restore key (No entry for this routine found.)
=$e5bb			setiodef= $e5bb ; Reset the default device number.
=$e5c3			initvic = $e5c3 ; Reset the vic chip registers.
=$e5cf			lp2     = $e5cf ; Get a character from the keyboard queue and shift it down.
=$e5e5			getque  = $e5e5 ; Wait for character to appear in the keyboard buffer.
=$e619			get2rtn = $e619 ; Empty the keyboard buffer up to a carriage return.
=$e64f			getscrn = $e64f ; Optain input from screen.
=$e6b8			quoteck = $e6b8 ; Test for quote and set flag.
=$e6c5			setchar = $e6c5 ; Set up diaplay of a character on the screen.
=$e6ea			scroll  = $e6ea ; advance the cursor on the screen, adds lines, and scroll.
=$e72d			retreat = $e72d ; Backup the cursor into the previous ligical screen line from
=$e742			scrnout = $e742 ; Handle characters going to the screen.
=$e8c3			nxtline = $e8c3 ; Advance cursor to the next logical line.
=$e8d8			rtrn    = $e8d8 ; Handle the carriage return key.
=$e8e8			backup  = $e8e8 ; Move the corsor to the end of the previoud physical screen
=$e8fa			forward = $e8fa ; Move the cursor to the start of the next screen line if the
=$e912			colourset=$e912 ; Set the current foreground colour code.
=$e921			colourtbl=$e921 ; Colour code key table.
=$e929			cnvrtcd = $e929 ; Code conversion table.
=$e975			scrl    = $e975 ; Scroll the screen.
=$e9ee			openlin = $e9ee ; Open up a blank physical line on the screen for inserts.
=$ea56			movline = $ea56 ; Move screen line.
=$ea6e			setaddr = $ea6e ; The address of the screen line + color line is set in memory.
=$ea7e			linptr  = $ea7e ; Set a pointer to the address of the start of the screen line.
=$ea8d			clraline= $ea8d ; Blank out a physical screen line.
=$eaa1			synptr  = $eaa1 ; Synchronize color to byte and store character on screen.
=$eaaa			putscrn = $eaaa ; store a character on the screen.
=$eab2			colorsyn= $eab2 ; The address of the color map byte for screen map byte is
=$eabf			irq     = $eabf ; IRQ interupt handler.
=$eb1e			scnkey  = $eb1e ; Scan the keyboard
=$ebdc			setkeys = $ebdc ; Set keyboard decode table address in 245-246 ($f6-$f6).
=$ec46			keyvctrs= $ec46 ; Keyboard decode table addresses.
=$ec5e			normkeys= $ec5e ; Table used for decoding unshifted keys into ascii.
=$ec9f			shftkeys= $ec9f ; Table used for decoding SHIFTed keys into ascii.
=$ece0			logokeys= $ece0 ; Table used for decoding Commodore SHIFTed keys into ascii.
=$ed21			charset = $ed21 ; Used to set uppercase/graphics character set.
=$ed30			graphmode=$ed30 ; Set the environment specified by graphics control characters.
=$ed5b			wrapline= $ed5b ;
=$ed69			whatkeys= $ed69 ; Apparently unused keyboard decoding table.
=$eda3			ctrlkeys= $eda3 ; Table used for decoding CTRL SHIFT keys into ascii.
=$ede4			vicinit = $ede4 ; Initial values for VIC chip registers.
=$edf4			runtb   = $edf4 ; LOAD and RUN words for the SHIFT and RUN keys.
=$edfd			ldtb2   = $edfd ; Screen line link table LSB of line in screen map.
=$ee14			talk    = $ee14 ; Send Talk command to serial bus.
=$ee17			listen  = $ee17 ; Command a device on the serial bus to listen.
=$ee1c			listi   = $ee1c ; Serial: Prepare to send serial command with attention.
=$ee49			srsend  = $ee49 ; Serial: Send command or data to serial device.
=$eeb4			srbad   = $eeb4 ; Serial: Set ST for timeout or DEVICE NOT PRESENT.
=$eec0			second  = $eec0 ; Send secondary address after listen
=$eec5			scatn   = $eec5 ; Serial: Clear attention.
=$eece			tksa    = $eece ; Send a secondary address to a device commanded to talk
=$eee4			ciout   = $eee4 ; Transmit a byte over the serial bus
=$eef6			untlk   = $eef6 ; Send an untalk command
=$ef04			unlsn   = $ef04 ; Send an unlisten command
=$ef19			acptr   = $ef19 ; Recoit un caractere provenant du port serie
=$ef84			srclkhi = $ef84 ; Serial: Set clock line high.
=$ef8d			srclklo = $ef8d ; Serial: Set clock line low.
=$ef96			waitabit= $ef96 ; Serial: Delay one millisecond.
=$efa3			rsnxtbit= $efa3 ; RS-232: Send the next bin (NMI continuation routine).
=$efbf			rsprty  = $efbf ; RS-232: Calculate barity and stop bits value.
=$efe8			rsstops = $efe8 ; RS-232: Transmit stop bits.
=$efee			rsnxtbyt= $efee ; RS-232: Prepare the next byte to be send from send buffer.
=$f016			rsmissing=$f016 ; RS-232: Set Clear To Send or Data Set Ready Missing status.
=$f027			rscptbit= $f027 ; RS-232: Compute desire word lenght bit count.
=$f036			rsinbit = $f036 ; RS-232: Recieve an input bit (NMI driven).
=$f04b			rsstpbit= $f04b ; RS-232: Determine if all the stop bits have been recieved yet.
=$f05b			rsprepin= $f05b ; RS-232: Prepare to recieve the next input byte.
=$f068			rsstrbit= $f068 ; RS-232: Check for start bit in recieve mode.
=$f06f			rsinbyte= $f06f ; RS-232: Put constructed byte into reciebe buffer.
=$f08b			rsinprty= $f08b ; RS-232: Parity checking of the input byte.
=$f09d			rsprtyer= $f09d ; RS-232: Parity error on input byte.
=$f0a2			rsoverun= $f0a2 ; RS-232: Buffer overrun on input byte.
=$f0a5			rsbreak = $f0a5 ; RS-232: Break detected on input.
=$f0a8			rsframer= $f0a8 ; RS-232: Framing error on input.
=$f0aa			rsinerr = $f0aa ; RS-232: Set input error status and continue.
=$f0b9			rsdvcerr= $f0b9 ; RS-232: ILLEGAL DEVICE message for LOAD or SAVE.
=$f0bc			rsopnout= $f0bc ; RS-232: Open an RS-232 channel for output.
=$f0ed			rsoutsav= $f0ed ; RS-232: Store a character in the transmit buffer.
=$f102			rsprepot= $f102 ; RS-232: Set up NMI for transmission.
=$f116			rsopnin = $f116 ; RS-232: Open an RS-232 channel for input.
=$f14f			rsnxtin = $f14f ; RS-232: Retrieve the next character from the recieve buffer.
=$f160			rspause = $f160 ; RS-232: Check if serial and tape are idle, protect from RS232.
=$f174			kmsgtbl = $f174 ; Table of KERNAL messages.
=$f1e2			spmsg   = $F1e2 ; Display LOADING or VERIFYING if control messages wanted.
=$f1e6			kmsgshow= $f1e6 ; Print KERNAL control messages.
=$f1f5			getin   = $f1f5 ; Get a character.
=$f20e			ibasin  = $f20e ; Get a character from the input channel
=$f20e			chrin   = $f20e ; Description:
=$f230			chrintp = $f230 ; Obtain a byte from the tape buffer.
=$f250			chrintp2= $f250 ; Load .A with next tape character, getting block when needed.
=$f264			chrinsr = $f264 ; Obtain a byte from the serial line.
=$f26f			chrinrs = $f26f ; RS-232: Obtain a byte from the rs-232 device.
=$f27a			chrout  = $f27a ; Output character to current output device.
=$f290			chrouttp= $f290 ; Output a character to tape.
=$f2c7			chkin   = $f2c7 ; Define an input channel.
=$f309			chkout  = $f309 ; Define an output channel.
=$f34a			close   = $f34a ; (Close a logical file
=$f3cf			fndflno = $f3cf ; Find file number (.x) in file table at 601 ($0259).
=$f3df			setflch = $f3df ; Set file characteristics of file (.x) into 184-186 ($b8-$ba).
=$f3ef			clall   = $f3ef ; Close all open files
=$f3f3			clrchn  = $f3f3 ; Clear all i/o channels.
=$f40a			open    = $f40a ; Open a logical file
=$f495			sername = $f495 ; Send secondary address and filename to serial device.
=$f4c7			openrs  = $f4c7 ; RS-232: open RS-232 device.
=$f542			load    = $f542 ; Load device to RAM.
=$f55c			loadser = $f55c ; Load or Verify from serial device.
=$f5d1			loadtp  = $f5d1 ; Load or Verify from tape.
=$f647			srching = $f647 ; Display SEARCHING message for tape device.
=$f659			filename= $f659 ; Display the filename.
=$f66a			ldvrmsg = $f66a ; Display LOADING or VERIFYING message.
=$f675			save    = $f675 ; Save memory to a device.
=$f692			saveser = $f692 ; Save RAM to serial device (except: RS-232,screen or keyboard).
=$f6f1			savetp  = $f6f1 ; Save RAM to tape.
=$f728			saving  = $f728 ; Display SAVING message.
=$f734			udtim   = $f734 ; Update the system clock
=$f760			rdtim   = $f760 ; Read system clock
=$f767			settim  = $f767 ; Set the system clock.
=$f770			stop    = $f770 ; Check if stop key is pressed.
=$f77e			filemsg = $f77e ; I/O error file error message handler.
=$f7af			fah     = $f7af ; Tape: find next tape header, .X back contains header ID#.
=$f7e7			tapeh   = $f7e7 ; Tape: Build an output tape header in the tape buffer area.
=$f84d			tpbufa  = $f84d ; Tape: Load tape buffer address from 178-179($b2-$b3) in .X .Y.
=$f854			ldad1   = $f854 ; Tape: Set Load/Save starting and ending pointers to the tape.
=$f867			fndhrd  = $f867 ; Tape: Find the tape header for a specified filename (or next).
=$f88a			jtp20   = $f88a ; Tape: Increment the tape buffer character counter.
=$f894			cstel   = $f894 ; Tape: Display PRESS PLAY ON TAPE message.
=$f8ab			csio    = $f8ab ; Tape: Check Tape's play/rewind/forward button status.
=$f8b7			cste2   = $f8b7 ; Tape: Display PRESS RECORD & PLAY ON TAPE message.
=$f8c0			rdtpblks= $f8c0 ; Tape: Initiate tape header read.
=$f8c9			rblk    = $f8c9 ; Tape: Read blocks from tape.
=$f8e3			wblk    = $f8e3 ; Tape: Write blocks to tape.
=$f8f4			tape    = $f8f4 ; Tape: Common tape read/write, start tape operations,
=$f94b			tstop   = $f94b ; Tape: Check for the STOP key.
=$f95d			stti    = $f95d ; Tape: Set time limit for tape dispole.
=$f98e			readt   = $f98e ; Tape: Read tape data bits into location 191 ($bf) (IRQ driven)
=$faad			tpstore = $faad ; Tape: Determin if to store the input character from tape.
=$fbd2			rd300   = $fbd2 ; Tape: Called to reset the tape read pointer.
=$fbdb			newch   = $fbdb ; Tape: New tape character setup.
=$fbea			tptogle = $fbea ; Tape: Toggle the tape write line to invert the output signal.
=$fc06			blkend  = $fc06 ; Tape: End of block write processing.
=$fc0b			write   = $fc0b ; Tape: Data write (IRQ driven).
=$fc95			wrtni   = $fc95 ; Tape: Block leader write (IRQ driven).
=$fca8			wrtz    = $fca8 ; Tape: Leader write (IRQ driven).
=$fccf			tnif    = $fccf ; Tape: Restore IRQ vector.
=$fcf6			bsiv    = $fcf6 ; Tape: Reset the current IRQ vector.
=$fd08			tnoff   = $fd08 ; Tape: Kill motor.
=$fd11			vrpty   = $fd11 ; Comnpare current to end of load/save pointers (tape & serial).
=$fd1b			wrt62   = $fd1b ; Increment current load/save pointer (tape & serial).
=$fd22			start   = $fd22 ; Power-on/reset routine (check for autostart cartridge).
=$fd3f			chkauto = $fd3f ; Check for an autostarting program at $a000. if equ a0cbm
=$fd4d			a0cbm   = $fd4d ; A0CBM characters with the high order bit on in the last 3
=$fd52			restor  = $fd52 ; Restore default I/O vectors.
=$fd57			vector  = $fd57 ; ($fd1a) Read/set I/O vectors.
=$fd6d			vectors = $fd6d ; Default system vector address storage table.
=$fd8d			initmem = $fd8d ; Initialize system memory.
=$fdf1			irqvctrs= $fdf1 ; IRQ vectors table.
=$fdf9			initvis = $fdf9 ; Initialize the 6522 VIA registers.
=$fe49			setnam  = $fe49 ; Set up file name
=$fe50			setlfs  = $fe50 ; Set up a logical file
=$fe57			readst  = $fe57 ; Read i/o status word
=$fe66			setmsg  = $fe66 ; Set kernal message output flag
=$fe68			readiost= $fe68 ; Load .A with the non-RE-232 I/O status ST.
=$fe6f			settmo  = $fe6f ; Set ieee bus card timeout flag
=$fe73			memtop  = $fe73 ; Get/Set top of ram
=$fe82			membot  = $fe82 ; Get/set bottom of memory.
=$fe91			tstmem  = $fe91 ; Test a memory location.
=$fea9			nmi     = $fea9 ; NMI handler routine.
=$fed2			break   = $fed2 ; BREAK interupt entry.
=$fede			rsnmi   = $fede ; RS-232: nmi sequence.
=$ff56			krti    = $ff56 ; Restore 6502 registers frm the stack and return frm interrupt.
=$ff5c			baudtbl = $ff5c ; RS-232: VIA timer 2 values for baud rate table.
=$ff72			irqrout = $ff72 ; irq routine initial 6502 entry point.
=$ff85			c4ffs   = $ff85 ; five unused bytes of 255 ($ff).
=$ff8a			crestor = $ff8a ; Jump to 64850 ($fd52) RESTOR.
=$ff8d			cvector = $ff8d ; Jump to 64855 ($fd57) VECTOR.
=$ff90			csetmsg = $ff90 ; Jump to 65126 ($fe66) SETMSG.
=$ff93			csecond = $ff93 ; Jump to 61120 ($eec0) SECOND.
=$ff96			ctksa   = $ff96 ; Jump to 61134 ($eece) TKSA.
=$ff99			cmemtop = $ff99 ; Jump to 65139 ($fe73) MEMTOP.
=$ff9c			cmembot = $ff9c ; Jump to 65154 ($fe82) MEMBOT.
=$ff9f			cscnkey = $ff9f ; Jump to 60190 ($eb1e) SCNKEY.
=$ffa2			csettmo = $ffa2 ; Jump to 65135 ($fe6f) SETTMO.
=$ffa5			cacptr  = $ffa5 ; Jump to 61209 ($ef19) ACPTR.
=$ffa8			cciout  = $ffa8 ; Jump to 61156 ($eee4) CIOUT.
=$ffab			cuntlk  = $ffab ; Jump to 61174 ($eef6) UNTLK.
=$ffae			cunlsn  = $ffae ; Jump to 61188 ($ef04) UNLSN.
=$ffb1			clisten = $ffb1 ; Jump to 60951 ($ee17) LISTEN.
=$ffb4			ctalk   = $ffb4 ; Jump to 60948 ($ee14) TALK.
=$ffb7			crdst   = $ffb7 ; Jump to 65111 ($fe57) READST.
=$ffba			csetlfs = $ffba ; Jump to 65104 ($fe50) SETLFS.
=$ffbd			csetnam = $ffbd ; Jump to 65097 ($fe49) SETNAM.
=$ffc0			copen   = $ffc0 ; Jump off 794-795 ($031a-$031b) IOPEN.
=$ffc3			cclos   = $ffc3 ; Jump off 796-797 ($031c-$031d) ICLOSE.
=$ffc6			inpchn  = $ffc6 ; Jump off 798-799 ($031e-$031f) ICHKIN.
=$ffc9			outchn  = $ffc9 ; Jump off 800-801 ($0320-$0321) ICKOUT.
=$ffcc			cclrchn = $ffcc ; Jump off 802-803 ($0322-$0323) ICLRCH.
=$ffcf			cinch   = $ffcf ; Jump off 804-805 ($0324-$0325) IBASIN.
=$ffd2			cchrout = $ffd2 ; Jump to 62074 ($f27a) CHROUT.
=$ffd5			cload   = $ffd5 ; Jump to 67286 ($f542) LOAD.
=$ffd8			csave   = $ffd8 ; Jump to 63093 ($f675) SAVE.
=$ffdb			csettim = $ffdb ; Jump to 63335 ($f767) SETTIM.
=$ffde			crdtim  = $ffde ; Jump to 63328 ($f760) RDTIM.
=$ffe1			iscntc  = $ffe1 ; Jump off 808-809 ($0328-$0329) ISTOP.
=$ffe4			cgetl   = $ffe4 ; Jump off 810-811 ($032a-$032b) IGETIN.
=$ffe7			ccall   = $ffe7 ; Jump off 812-813 ($032c-$032d) ICALL.
=$ffea			cudtim  = $ffea ; Jump to 63284 ($f734) UDTIM.
=$ffed			cscreen = $ffed ; Jump to 58629 ($e505) SCRN.
=$fff0			cplot   = $fff0 ; Jump to 58634 ($e50a) PLOT.
=$fff3			ciobase = $fff3 ; Jump to 58624 ($e500) IOBASE.
=$fffa			vctrnmi = $fffa ; 6502 vector to 65193 ($fea9) NMI.
=$fffc			vctrrst = $fffc ; 6502 vector to 64802 ($fd22) START.
=$fffe			vctrirq = $fffe ; 6502 vector to 65394 ($ff72) BREAK.
=$e043			kd_poly1     =   $e043
=$e059			kd_poly2     =   $e059
=$e08d			kd_rmulc     =   $e08d       ;
=$e092			kd_raddc     =   $e092       ;
=$e097			kd_rnd       =   $e097
=$e12a			kd_sys       =   $e12a
=$e156			kd_save      =   $e156
=$e165			kd_verify    =   $e165
=$e168			kd_load      =   $e168
=error			kcint       =   cint        ;   , init vic + ecran.
=error			kioinit     =   ioinit      ;   , init i/o dev.
=error			kramtas     =   ramtas      ;   , test de memoire.
=$eee4			kciout      =   ciout       ;a  ,tx byte  acia
=$fd52			krestor     =   restor      ;   , set ram plafond
=$fd57			kvector     =   vector      ;
=$fe66			ksetmsg     =   setmsg      ;a  , set sys. msg. out
=$eec0			ksecond     =   second      ;a  , tx adresse sec.
=$eece			ktksa       =   tksa        ;a  , talk adresse sec.
=$fe73			kmemtop     =   memtop      ; yx, (c) get mem high
=$fe82			kmembot     =   membot      ; yx, (c) get mem low
=error			kscankey    =   scankey     ;   , scan clavier
=$fe6f			ksettmo     =   settmo      ;a  , set ieee timeout
=$ef19			kacptr      =   acptr       ;a  ,rx serie.
=$eef6			kuntlk      =   untlk       ;   , iec-cmc stop talk
=$ef04			kunlsn      =   unlsn       ;   , iec-cmd stop lsn
=$ee17			klisten     =   listen      ;a  , iec-cmd dev ecout
=$ee14			ktalk       =   talk        ;a  , iec-cmd dev parle
=$fe57			kreadst     =   readst      ;a  , lecture i/o stats
=$fe50			ksetlfs     =   setlfs      ;ayx, init fich logi.
=$fe49			ksetnam     =   setnam      ;ayx, init num.nom.fich
=$f40a			kopen       =   open        ;axy, ouvre fich-nom
=$f34a			kclose      =   close       ;a  , ferme fichier #a.
=$f2c7			kchkin      =   chkin       ;  x,open canal in.
=$f309			kchkout     =   chkout      ;  x,open canal out
=$f3f3			kclrchn     =   clrchn      ;   , ferme canaux i/o.
=$f20e			kchrin      =   chrin       ;a  ,recup. un car.
=$f27a			kchrout     =   chrout      ;a  ,sort un car.
=$f1ca			kd_chrout    =   $f1ca
=$f542			kload       =   load        ;ayx, dev->ram
=$f675			ksave       =   save        ;   , sauve mem->dev
=$f767			ksettim     =   settim      ;axy, init sysclock
=$f760			krdtim      =   rdtim       ;axy, lecture sysclock
=$f770			kstop       =   stop        ;a  , ret. stopkey stat
=$f1f5			kgetin      =   getin       ;a  , recup. car. #dev.
=$f3ef			kclall      =   clall       ;   , ferme fichiers.
=$f734			kudtim      =   udtim       ;   , maj sysclock
=$e505			kscreen     =   screen      ; yx, get format ecran
=$e50a			kplot       =   plot        ; yx, (c) get csr pos.
=$e500			kiobase     =   iobase      ; yx, def. i/o mem page
=$e39a			k_echostartup = $e39a
=$e716			k_putch       = $e716 ; 52) Print a character.          ;a--;---; a = char
=$e7a0			k_cls         = $e7a0
=$e87c			k_cursordown  = $e87c
=$e8ea			k_scrollup    = $e8ea
=$e94e			k_home        = $e94e
=$e965			k_insertline  = $e965
=$e9c8			k_screlldown  = $e9c8
=$ed0c			k_devsndlstn  = $ed0c ; 55) Send 'LISTEN'>IEEE/Serial.  ;a--;---; a = dev #
=$ee13			k_ieeein      = $ee13 ; 60) Input from IEEE/Serial.     ;---;a--; a = Data byte
=$eef6			k_devsndutalk = $eef6 ; 58) Send 'UNTALK'>IEEE/Serial.  ;---;---;
=$ef04			k_devsndulstn = $ef04 ; 59) Send 'UNLISTEN'>IEEE/Serial.;---;---;
=$f12f			k_putsysmsg   = $f12f ; 53) Print system message.       ;--y;---; y = msg offset
=$f291			k_cloself     = $f291 ; 61) Close logical file .        ;a--;---; a = file #
=$f49e			k_loadsub     = $f49e ; 63) LOAD subroutine.            ;axy;---; a = # start=yyxx
=$f5af			k_prnsrch     = $f5af ; 64) Print SEARCHING if imm mode.;---;---;
=$f5b3			k_echosearch  = $f5b3 ; 64b) Skipping test part of 64.  ;---;---;
=$f5c1			k_prnfnam     = $f5c1 ; 65) Print filename.             ;---;---;
=$f6ed			k_stop        = $f6ed ; 62) Check for STOP key.         ;---;---; z = 1 pressed
=$f7ea			k_gettaphdblk = $f7ea ; 66) Find a tape hdr blk.        ;a--;---; a = len
=$f7ea			k_fndtaphdblk = $f7ea ; 67) Find any tape hdr blk.      ;---;---;
=$f817			k_waittapplay = $f817 ; 68) Press PLAY... (wait)        ;---;---;
=$f841			k_rdtape2buff = $f841 ; 69) Read tape to buffer.        ;---;---;
=$f847			k_readtape    = $f847 ; 70) Read tape.                  ;---;---;
=$f864			k_wrbuff2tape = $f864 ; 71) write buffer to tape.       ;---;---;
=$f869			k_wrtape      = $f869 ; 72) write tape.                 ;a--;---; a = ldr len
=$fb8e			k_resettapeio = $fb8e ; 73) Reset tape I/O.             ;---;---;
=$fcbd			k_setintvect  = $fcbd ; 74) set interupt vector.        ;---;---;
=$fce2			k_coldreset   = $fce2 ; 75) Power on reset.             ;---;---;
=$fce2			k_coldstart   = $fce2 ; 75) Power on reset.             ;---;---;
=$fce2			k_coldboot    = $fce2 ; 75) Power on reset.             ;---;---;
=$fe66			k_warmreset   = $fe66 ;     Warm resetstart
=$fe66			k_warmboot    = $fe66 ;     Warm resetstart
=$ff93			k_devsndaddr2 = $ff93 ; 56) Send second address.        ;a--;---; a = SA or #$60
=0			kerr00 = 0      ; routine ended by the stop key.
=1			kerr01 = 1      ; too many files open.
=2			kerr02 = 2      ; file already open.
=3			kerr03 = 3      ; file not open.
=4			kerr04 = 4      ; file not found.
=5			kerr05 = 5      ; device not present.
=6			kerr06 = 6      ; file is not an input file.
=7			kerr07 = 7      ; file is not an output file.
=8			kerr08 = 8      ; file name is missing.
=9			kerr09 = 9      ; illegal device number.
=240			kerrf0 = 240    ; top-of-memory change rs-232 buffer allocation.
.1e5a	4c 56 12	pgmstart        jmp      main  ; le programme principale doit s'appeler "main"

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/e-v20-vic.asm

=$9000			vic0      = $9000;ABBBBBBB
=$9001			vic1      = $9001;CCCCCCCC
=$9002			vic2      = $9002;HDDDDDDD
=$9003			vic3      = $9003;GEEEEEEF
=$9004			vic4      = $9004;GGGGGGGG
=$9005			vic5      = $9005;HHHHIIII
=$9006			vic6      = $9006;JJJJJJJJ
=$9007			vic7      = $9007;KKKKKKKK
=$9008			vic8      = $9008;LLLLLLLL
=$9009			vic9      = $9009;MMMMMMMM
=$900a			vicbas    = $900a;NRRRRRRR
=$900a			vic10     = $900a;NRRRRRRR
=$900b			vicalt    = $900b;OSSSSSSS
=$900b			vic11     = $900b;OSSSSSSS
=$900c			vicsop    = $900c;PTTTTTTT
=$900c			vic12     = $900c;PTTTTTTT
=$900d			vicnoi    = $900d;QUUUUUUU
=$900d			vic13     = $900d;QUUUUUUU
=$900e			vicvol    = $900e;WWWWVVVV
=$900e			vic14     = $900e;WWWWVVVV
=$900f			vic15     = $900f;XXXXYZZZ
=$00			vnoir    =   %00000000
=$01			vblanc   =   %00000001
=$02			vrouge   =   %00000010
=$03			vocean   =   %00000011
=$04			vmauve   =   %00000100
=$05			vvert    =   %00000101
=$06			vbleu    =   %00000110
=$07			vjaune   =   %00000111
=$08			vorange  =   %00001000
=$09			vorangep =   %00001001
=$0a			vrose    =   %00001010
=$0b			voceanp  =   %00001011
=$0c			vmauvep  =   %00001100
=$0d			vvert2   =   %00001101
=$0d			vvertp   =   %00001101
=$0e			vbleu1   =   %00001110
=$0e			vbleup   =   %00001110
=$0f			vjaunep   =   %00001111
=$08			vinv      = vorange
=133			v1do1     =    133  ; 32.703-  32.746- 0.131 %
=140			v1dod1    =    140  ; 34.648-  34.739- 0.264 %
=146			v1re1     =    146  ; 36.708-  36.651- 0.155 %
=152			v1red1    =    152  ; 38.891-  38.786- 0.269 %
=158			v1mi1     =    158  ; 41.203-  41.186- 0.043 %
=163			v1fa1     =    163  ; 43.654-  43.424- 0.526 %
=169			v1fad1    =    169  ; 46.249-  46.453- 0.442 %
=173			v1so1     =    173  ; 48.999-  48.720- 0.571 %
=178			v1so1d    =    178  ; 51.913-  51.883- 0.058 %
=182			v1la1     =    182  ; 55.000-  54.726- 0.498 %
=186			v1lad1    =    186  ; 58.270-  57.899- 0.638 %
=190			v1si1     =    190  ; 61.735-  61.462- 0.444 %
=194			v1do2     =    194  ; 65.406-  65.492- 0.131 %
=197			v1dod2    =    197  ; 69.296-  69.478- 0.264 %
=201			v1re2     =    201  ; 73.416-  73.303- 0.155 %
=204			v1red2    =    204  ; 77.782-  77.573- 0.269 %
=207			v1mi2     =    207  ; 82.407-  82.371- 0.043 %
=209			v1fa2     =    209  ; 87.307-  86.848- 0.526 %
=212			v1fad2    =    212  ; 92.499-  92.907- 0.442 %
=214			v1so2     =    214  ; 97.999-  97.439- 0.571 %
=217			v1so2d    =    217  ;103.826- 103.766- 0.058 %
=219			v1la2     =    219  ;110.000- 109.452- 0.498 %
=221			v1lad2    =    221  ;116.541- 115.797- 0.638 %
=223			v1si2     =    223  ;123.471- 122.923- 0.444 %
=224			v1do3     =    224  ;130.813- 130.984- 0.131 %
=226			v1dod3    =    226  ;138.591- 138.957- 0.264 %
=228			v1re3     =    228  ;146.832- 146.606- 0.155 %
=229			v1red3    =    229  ;155.563- 155.146- 0.269 %
=231			v1mi3     =    231  ;164.814- 164.742- 0.043 %
=232			v1fa3     =    232  ;174.614- 173.696- 0.526 %
=233			v1fad3    =    233  ;184.997- 185.814- 0.442 %
=235			v1so3     =    235  ;195.998- 194.878- 0.571 %
=236			v1sod3    =    236  ;207.652- 207.532- 0.058 %
=237			v1la3     =    237  ;220.000- 218.904- 0.498 %
=238			v1lad3    =    238  ;233.082- 231.594- 0.638 %
=239			v1si3     =    239  ;246.942- 245.846- 0.444 %
=240			v1do4     =    240  ;261.626- 261.967- 0.131 %
=0			v1dod4    =      0  ;277.183- 275.517- 0.601 %
=0			v1re4     =      0  ;293.665- 295.926- 0.770 %
=242			v1red4    =    242  ;311.127- 313.333- 0.709 %
=243			v1mi4     =    243  ;329.628- 332.917- 0.998 %
=0			v1fa4     =      0  ;349.228- 347.391- 0.526 %
=244			v1fad4    =    244  ;369.994- 371.628- 0.442 %
=245			v1so4     =    245  ;391.995- 389.756- 0.571 %
=0			v1sod4    =      0  ;415.305- 420.526- 1.257 %
=246			v1la4     =    246  ;440.000- 443.889- 0.884 %
=0			v1lad4    =      0  ;466.164- 470.000- 0.823 %
=247			v1si4     =    247  ;493.883- 499.375- 1.112 %
=0			v1do5     =      0  ;523.251- 515.484- 1.484 %
=0			v1dod5    =      0  ;554.365- 551.034- 0.601 %
=0			v1re5     =      0  ;587.329- 591.852- 0.770 %
=0			v1red5    =      0  ;622.254- 614.615- 1.228 %
=249			v1mi5     =    249  ;659.255- 665.833- 0.998 %
=0			v1fa5     =      0  ;698.456- 694.783- 0.526 %
=0			v1fad5    =      0  ;739.989- 726.364- 1.841 %
=250			v1so5     =    250  ;783.991- 799.000- 1.914 %
=0			v1sod5    =      0  ;830.609- 841.053- 1.257 %
=0			v1la5     =      0  ;880.000- 887.778- 0.884 %
=0			v1lad5    =      0  ;932.327- 940.000- 0.823 %
=133			v2do2     =    133  ; 65.406-  65.492- 0.131 %
=140			v2dod2    =    140  ; 69.296-  69.478- 0.264 %
=146			v2re2     =    146  ; 73.416-  73.303- 0.155 %
=152			v2red2    =    152  ; 77.782-  77.573- 0.269 %
=158			v2mi2     =    158  ; 82.407-  82.371- 0.043 %
=163			v2fa2     =    163  ; 87.307-  86.848- 0.526 %
=169			v2fad2    =    169  ; 92.499-  92.907- 0.442 %
=173			v2so2     =    173  ; 97.999-  97.439- 0.571 %
=178			v2sod2    =    178  ;103.826- 103.766- 0.058 %
=182			v2la2     =    182  ;110.000- 109.452- 0.498 %
=186			v2lad2    =    186  ;116.541- 115.797- 0.638 %
=190			v2si2     =    190  ;123.471- 122.923- 0.444 %
=194			v2do3     =    194  ;130.813- 130.984- 0.131 %
=197			v2dod3    =    197  ;138.591- 138.957- 0.264 %
=201			v2re3     =    201  ;146.832- 146.606- 0.155 %
=204			v2red3    =    204  ;155.563- 155.146- 0.269 %
=207			v2mi3     =    207  ;164.814- 164.742- 0.043 %
=209			v2fa3     =    209  ;174.614- 173.696- 0.526 %
=212			v2fad3    =    212  ;184.997- 185.814- 0.442 %
=214			v2so3     =    214  ;195.998- 194.878- 0.571 %
=217			v2sod3    =    217  ;207.652- 207.532- 0.058 %
=219			v2la3     =    219  ;220.000- 218.904- 0.498 %
=221			v2lad3    =    221  ;233.082- 231.594- 0.638 %
=223			v2si3     =    223  ;246.942- 245.846- 0.444 %
=225			v2do4     =    225  ;261.626- 261.967- 0.131 %
=226			v2dod4    =    226  ;277.183- 275.517- 0.601 %
=228			v2re4     =    228  ;293.665- 295.926- 0.770 %
=229			v2red4    =    229  ;311.127- 313.333- 0.709 %
=231			v2mi4     =    231  ;329.628- 332.917- 0.998 %
=232			v2fa4     =    232  ;349.228- 347.391- 0.526 %
=233			v2fad4    =    233  ;369.994- 371.628- 0.442 %
=235			v2so4     =    235  ;391.995- 389.756- 0.571 %
=236			v2sod4    =    236  ;415.305- 420.526- 1.257 %
=237			v2la4     =    237  ;440.000- 443.889- 0.884 %
=238			v2lad4    =    238  ;466.164- 470.000- 0.823 %
=239			v2si4     =    239  ;493.883- 499.375- 1.112 %
=240			v2do5     =    240  ;523.251- 515.484- 1.484 %
=0			v2dod5    =      0  ;554.365- 551.034- 0.601 %
=0			v2re5     =      0  ;587.329- 591.852- 0.770 %
=242			v2red5    =    242  ;622.254- 614.615- 1.228 %
=243			v2mi5     =    243  ;659.255- 665.833- 0.998 %
=0			v2fa5     =      0  ;698.456- 694.783- 0.526 %
=244			v2fad5    =    244  ;739.989- 726.364- 1.841 %
=245			v2so5     =    245  ;783.991- 799.000- 1.914 %
=0			v2sod5    =      0  ;830.609- 841.053- 1.257 %
=246			v2la5     =    246  ;880.000- 887.778- 0.884 %
=0			v2lad5    =      0  ;932.327- 940.000- 0.823 %
=133			v3do3     =    133  ;130.813- 130.984- 0.131 %
=140			v3dod3    =    140  ;138.591- 138.957- 0.264 %
=146			v3re3     =    146  ;146.832- 146.606- 0.155 %
=152			v3red3    =    152  ;155.563- 155.146- 0.269 %
=158			v3mi3     =    158  ;164.814- 164.742- 0.043 %
=163			v3fa3     =    163  ;174.614- 173.696- 0.526 %
=169			v3fad3    =    169  ;184.997- 185.814- 0.442 %
=173			v3so3     =    173  ;195.998- 194.878- 0.571 %
=178			v3sod3    =    178  ;207.652- 207.532- 0.058 %
=182			v3la3     =    182  ;220.000- 218.904- 0.498 %
=186			v3lad3    =    186  ;233.082- 231.594- 0.638 %
=190			v3si3     =    190  ;246.942- 245.846- 0.444 %
=194			v3do4     =    194  ;261.626- 261.967- 0.131 %
=197			v3dod4    =    197  ;277.183- 275.517- 0.601 %
=201			v3re4     =    201  ;293.665- 295.926- 0.770 %
=204			v3red4    =    204  ;311.127- 313.333- 0.709 %
=207			v3mi4     =    207  ;329.628- 332.917- 0.998 %
=209			v3fa4     =    209  ;349.228- 347.391- 0.526 %
=212			v3fad4    =    212  ;369.994- 371.628- 0.442 %
=214			v3so4     =    214  ;391.995- 389.756- 0.571 %
=217			v3sod4    =    217  ;415.305- 420.526- 1.257 %
=219			v3la4     =    219  ;440.000- 443.889- 0.884 %
=221			v3lad4    =    221  ;466.164- 470.000- 0.823 %
=223			v3si4     =    223  ;493.883- 499.375- 1.112 %
=224			v3do5     =    224  ;523.251- 515.484- 1.484 %
=226			v3dod5    =    226  ;554.365- 551.034- 0.601 %
=228			v3re5     =    228  ;587.329- 591.852- 0.770 %
=229			v3red5    =    229  ;622.254- 614.615- 1.228 %
=231			v3mi5     =    231  ;659.255- 665.833- 0.998 %
=232			v3fa5     =    232  ;698.456- 694.783- 0.526 %
=233			v3fad5    =    233  ;739.989- 726.364- 1.841 %
=235			v3so5     =    235  ;783.991- 799.000- 1.914 %
=236			v3sod5    =    236  ;830.609- 841.053- 1.257 %
=237			v3la5     =    237  ;880.000- 887.778- 0.884 %
=238			v3lad5    =    238  ;932.327- 940.000- 0.823 %

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/e-v20-vars.asm

=$0400			blk0s   = $0400
=$0fff			blk0e   = $0fff
=$2000			blk1s   = $2000
=$3fff			blk1e   = $3fff
=$4000			blk2s   = $4000
=$5fff			blk2e   = $5fff
=$6400			blk3s   = $6400
=$7fff			blk3e   = $7fff
=$a000			blk5s   = $a000
=$bfff			blk5e   = $bfff
=$0fff			libre    = blk0e   ; *+3085
=4094			rp       = libre-$01     ;    1 byte
=4093			ra       = rp-1          ;    1 byte
=4092			rx       = ra-1          ;    1 byte
=4091			ry       = rx-1          ;    1 byte
=4090			rs       = ry-1          ;    1 byte
=4088			pc       = rs-2          ;    2 bytes
=4087			curcol   = pc-1          ;    1 byte
=4085			memptr   = curcol-2      ;    2 bytes
=4083			src      = memptr-2      ;    2 bytes
=4081			dst      = src-2         ;    2 bytes
=4079			loopcount = dst-2        ;    2 bytes
=4079			hexv     = loopcount
=4074			hexstr   = hexv-$05      ;    5 bytes
=4073			a2hexpfx = hexv-$06      ;    1 byte
=4072			a2hexpy  = hexv-$07      ;    1 byte
=4071			a2hexpx  = hexv-$08      ;    1 byte
=4071			a2hexpos = hexv-$08      ;    0 byte
=4070			a2hexcol = hexv-$09      ;    1 byte
=4070			binv     = a2hexcol
=4061			binstr   = binv-$09      ;    9 bytes
=4060			a2binpfx = binv-$0a      ;    1 byte
=4059			a2binpy  = binv-$0b      ;    1 byte
=4058			a2binpx  = binv-$0c      ;    1 byte
=4058			a2binpos = binv-$0c      ;    0 byte
=4057			a2bincol = binv-$0d      ;    1 byte
=4057			decv     = a2bincol
=4051			decstr   = decv-$06      ;    6 bytes
=4050			a2decpfx = decv-$07      ;    1 byte
=4049			a2decpy  = decv-$08      ;    1 byte
=4048			a2decpx  = decv-$09      ;    1 byte
=4048			a2decpos = decv-$09      ;    0 byte
=4047			a2deccol = decv-$0a      ;    1 byte
=4046			offset   = decv-$0b      ;    1 byte
=4046			fltv     = offset        ;
=4040			fvar1    = fltv-6        ;    6 bytes
=4034			fvar2    = fltv-12       ;    6 bytes
=4014			float1   = fltv-32       ;   20 bytes
=3994			float2   = fltv-52       ;   20 bytes
=3993			tval1    = fltv-53       ;    1 byte
=3991			tval2    = fltv-55       ;    2 bytes
=3989			reponse  = tval2-2       ;    2 byte
=3989			edbox    = reponse
=3988			cleft    = edbox-1       ;    1 byte
=3987			cright   = edbox-2       ;    1 byte
=3986			cmid     = edbox-3       ;    1 byte
=3985			dbtop    = edbox-4       ;    1 byte
=3984			dbleft   = edbox-5       ;    1 byte
=3983			dbwdth   = edbox-6       ;    1 byte
=3982			dbhght   = edbox-7       ;    1 byte
=3981			dbcoul   = edbox-8       ;    1 byte
=3980			dbclin   = edbox-9       ;    1 byte
=3979			curx     = dbclin-1      ;    1 byte
=3978			cury     = dbclin-2      ;    1 byte
=3977			clef     = dbclin-3      ;    1 byte
=3976			len      = clef-1        ;    1 byte
=3975			cx       = clef-2        ;    1 byte
=3974			cy       = clef-3        ;    1 byte
=3973			bcol     = clef-4        ;    1 byte
=3973			escr     = bcol          ; 2051 bytes
=3972			loops    = escr-1        ;    1 byte
=3970			loop16   = loops-2       ;    2 byte
=3458			scrncar  = loop16-$200   ;  512 byte
=2946			scrncol  = scrncar-$200  ;  512 byte
=2946			diskvar  = scrncol
=2944			ddatas   = diskvar-2 ;2 byte
=2942			ddatae   = diskvar-4 ;2 byte
=2941			ddev     = diskvar-5 ;1 byte
=2940			dlfsno   = diskvar-6 ;1 byte
=2938			dfnptr   = diskvar-8 ;2 byte
=2937			dfnlen   = diskvar-9 ;1 byte
=2937			vshowregs = dfnlen
=2936			acc       = vshowregs-1
=2935			xr        = vshowregs-2
=2934			yr        = vshowregs-3
=2933			sr        = vshowregs-4
=2932			sp        = vshowregs-5
=2931			pcl       = vshowregs-6
=2930			pch       = vshowregs-7
=2929			genbyte1 = pch-1 ; 1 byte
=2927			genword1 = pch-3 ; 2 byte
=2926			freevar  = pch-4 ;1 byte

;******  Return to file: dlbug20.asm


;******  Processing file: e-local-vars.asm

=2924			adrptr  = freevar-2
=2922			scraddr = freevar-4
=2920			coladdr = freevar-6

;******  Return to file: dlbug20.asm


;******  End of listing
