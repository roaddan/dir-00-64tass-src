
; 64tass Turbo Assembler Macro V1.59.3120 listing file
; 64tass -C -m -a -I /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib -i -L dlbug20.txt -o dlbug20.prg dlbug20.asm
; Fri Feb 20 21:08:00 2026

;Offset	;Hex		;Source

;******  Processing input file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-bashead-ex.asm

=$1000			scrtxt    = $1000
=$9400			scrcol    = $9400
=$0200			scrlen    = $0200
=$1200			basstart  = $1200
>1201	0c 12		bcmd1    .word $120c ;adresse de la pro-
>1203	0a 00		         .word $0a   ;no. ligne basic.
>1205	9e		         .byte $9e   ;jeton pour la
>1206	20 34 36 32	         .text format("%5d", bhstart)
>120a	32
>120b	00		         .byte $00   ;fin de cmd basic.
>120c	00 00		bcmd2    .word $00   ;adresse de la pro-
.120e	20 1a 12	bhstart   jsr bhscrini
.1211	ea		          nop
.1212	ea		          nop
.1213	ea		          nop
.1214	ea		          nop
.1215	ea		          nop
.1216	20 56 12	basnold   jsr main
.1219	60		          rts
.121a			bhscrini
.121a	08		        php
.121b	48		        pha
.121c	a9 84		        lda #(128+4)
.121e	8d 00 90	        sta vic0
.1221	ad 0f 90	bord    lda $900f    ;place la couleur
.1224	29 08		        and #%00001000
.1226	09 e3		        ora #%11100011
.1228	8d 0f 90	        sta $900f
.122b	a9 00		text    lda #$00    ;place la couleur
.122d	8d 86 02	        sta $0286   ; du texte.
.1230	a9 93		        lda #$93    ;efface l'ecran par
.1232	20 d2 ff	        jsr $ffd2   ; chrout du kernal.
.1235	68		        pla
.1236	28		        plp
.1237	60		        rts
.1238			bhprint
.1238	a0 00		        ldy #$00
.123a	b1 fb		nextc   lda ($fb),y
.123c	f0 07		        beq end
.123e	c8		        iny
.123f	20 d2 ff	        jsr $ffd2
.1242	4c 3a 12	        jmp nextc
.1245	60		end     rts

;******  Return to file: dlbug20.asm

>1246	32 30 32 36	     Version .null "20260221-003227"
>124a	30 32 32 31 2d 30 30 33 32 32 37 00

;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/m-v20-utils.asm

.1256			R

;******  Return to file: dlbug20.asm

.1256			main
.1256	08		            php
.1257	48		            pha
.1258	a9 1d		            lda #(vblanc*16+(vvert|8))
.125a	8d 0f 90	            sta vic15
.125d	a9 00		            lda #vnoir
.125f	8d 86 02	            sta kcol
.1262	a9 93		            lda #147
.1264	20 d2 ff	            jsr $ffd2
.1267	68		            pla
.1268	28		            plp
.1269	08		            php
.126a	48		            pha
.126b	a9 0e		            lda #locase
.126d	20 7a f2	            jsr chrout
.1270	68		            pla
.1271	28		            plp
.1272	a9 20		          lda  #' '
.1274	20 49 1e	          jsr fillscreen
.1277	08		            php
.1278	a0 e0		            ldy #>$e000
.127a	a2 00		            ldx #<$e000
.127c	28		            plp
.127d	08		            php
.127e	8c 6d 0b	            sty adrptr+1
.1281	8e 6c 0b	            stx adrptr
.1284	28		            plp
.1285	20 9e 12	          jsr kmenu
.1288			outmain
.1288	08		            php
.1289	48		            pha
.128a	a9 1f		            lda #sbleu
.128c	20 7a f2	            jsr chrout
.128f	68		            pla
.1290	28		            plp
.1291	08		            php
.1292	48		            pha
.1293	a9 93		            lda #147
.1295	20 7a f2	            jsr chrout
.1298	68		            pla
.1299	28		            plp
.129a	20 f9 12	          jsr  putstats
.129d	60		          rts
.129e			kmenu
.129e	20 3b 18	          jsr  pushregs                 ; Sauvegarde les registres.
.12a1			uneclef
.12a1	20 ed 1c	          jsr  putahexdec               ; Affiche .a en
.12a4	20 cf 12	          jsr  prompt
.12a7	20 6b 1d	          jsr  getkey                   ; Attend une clef.
.12aa	20 7a f2	          jsr  chrout
.12ad	c9 5f		keyesc    cmp  #$5f ;[ESC] Quitter      ; Est-ce la touche 'ESC'?
.12af	d0 03		          bne  keyr                     ; Non on verifie une autre.
.12b1	4c cb 12	          jmp  out                      ; Oui, on quitte la fonction
.12b4	c9 52		keyr      cmp  #$52 ;[R] View registers ; Est-ce la lettre 'R'?
.12b6	d0 06		          bne  keym                     ; Non on verifie une autre.
.12b8	20 66 1e	          jsr  showregs                 ; Oui, affiche les registres.
.12bb	4c a1 12	          jmp  uneclef
.12be	c9 4d		keym      cmp  #$4d ;[M] Memory dump
.12c0	d0 06		          bne  nextkey
.12c2	20 8a 15	          jsr  mvmenu
.12c5	4c a1 12	          jmp  uneclef
.12c8	4c a1 12	nextkey   jmp  uneclef
.12cb	20 68 18	out       jsr  popregs
.12ce	60		          rts
.12cf			prompt
.12cf	20 3b 18	          jsr  pushregs
.12d2	a2 16		          ldx  #22
.12d4	a0 00		          ldy  #0
.12d6	18		          clc
.12d7	20 0a e5	          jsr  plot
.12da	08		            php
.12db	48		            pha
.12dc	a9 9c		            lda #smauve
.12de	20 7a f2	            jsr chrout
.12e1	68		            pla
.12e2	28		            plp
.12e3	08		            php
.12e4	48		            pha
.12e5	a9 3e		            lda #'>'
.12e7	20 7a f2	            jsr chrout
.12ea	68		            pla
.12eb	28		            plp
.12ec	08		            php
.12ed	48		            pha
.12ee	a9 90		            lda #snoir
.12f0	20 7a f2	            jsr chrout
.12f3	68		            pla
.12f4	28		            plp
.12f5	20 68 18	          jsr  popregs
.12f8	60		          rts
.12f9			putstats
.12f9	20 3b 18	          jsr  pushregs
.12fc	20 3b 18	            jsr  pushregs
.12ff	a2 b0		            ldx  #<stattitle
.1301	86 fb		            stx  $fb
.1303	a0 13		            ldy  #>stattitle
.1305	84 fc		            sty  $fc
.1307	20 95 18	            jsr  puts
.130a	a9 0d		            lda  #$0d
.130c	20 7a f2	            jsr  chrout
.130f	20 68 18	            jsr  popregs
.1312	20 3b 18	            jsr  pushregs
.1315	a2 c9		            ldx  #<startaddr
.1317	86 fb		            stx  $fb
.1319	a0 13		            ldy  #>startaddr
.131b	84 fc		            sty  $fc
.131d	20 95 18	            jsr  puts
.1320	a9 0d		            lda  #$0d
.1322	20 7a f2	            jsr  chrout
.1325	20 68 18	            jsr  popregs
.1328	20 3b 18	            jsr  pushregs
.132b	a2 e1		            ldx  #<endaddr
.132d	86 fb		            stx  $fb
.132f	a0 13		            ldy  #>endaddr
.1331	84 fc		            sty  $fc
.1333	20 95 18	            jsr  puts
.1336	a9 0d		            lda  #$0d
.1338	20 7a f2	            jsr  chrout
.133b	20 68 18	            jsr  popregs
.133e	20 3b 18	            jsr  pushregs
.1341	a2 f7		            ldx  #<sizeprg
.1343	86 fb		            stx  $fb
.1345	a0 13		            ldy  #>sizeprg
.1347	84 fc		            sty  $fc
.1349	20 95 18	            jsr  puts
.134c	a9 0d		            lda  #$0d
.134e	20 7a f2	            jsr  chrout
.1351	20 68 18	            jsr  popregs
.1354	20 3b 18	            jsr  pushregs
.1357	a2 0d		            ldx  #<mainaddr
.1359	86 fb		            stx  $fb
.135b	a0 14		            ldy  #>mainaddr
.135d	84 fc		            sty  $fc
.135f	20 95 18	            jsr  puts
.1362	a9 0d		            lda  #$0d
.1364	20 7a f2	            jsr  chrout
.1367	20 68 18	            jsr  popregs
.136a	20 3b 18	            jsr  pushregs
.136d	a2 25		            ldx  #<varsstart
.136f	86 fb		            stx  $fb
.1371	a0 14		            ldy  #>varsstart
.1373	84 fc		            sty  $fc
.1375	20 95 18	            jsr  puts
.1378	a9 0d		            lda  #$0d
.137a	20 7a f2	            jsr  chrout
.137d	20 68 18	            jsr  popregs
.1380	20 3b 18	            jsr  pushregs
.1383	a2 3d		            ldx  #<varsend
.1385	86 fb		            stx  $fb
.1387	a0 14		            ldy  #>varsend
.1389	84 fc		            sty  $fc
.138b	20 95 18	            jsr  puts
.138e	a9 0d		            lda  #$0d
.1390	20 7a f2	            jsr  chrout
.1393	20 68 18	            jsr  popregs
.1396	20 3b 18	            jsr  pushregs
.1399	a2 53		            ldx  #<sizevars
.139b	86 fb		            stx  $fb
.139d	a0 14		            ldy  #>sizevars
.139f	84 fc		            sty  $fc
.13a1	20 95 18	            jsr  puts
.13a4	a9 0d		            lda  #$0d
.13a6	20 7a f2	            jsr  chrout
.13a9	20 68 18	            jsr  popregs
.13ac	20 68 18	          jsr popregs
.13af	60		          rts

;******  Processing file: string-fr.asm

>13b0	1f 12		stattitle      .byte sbleu, revson
>13b2	d3 54 41 54	               .text "Statistiques programme"
>13b6	49 53 54 49 51 55 45 53 20 50 52 4f 47 52 41 4d
>13c6	4d 45
>13c8	00		               .byte eot
>13c9	91 90		startaddr      .byte 145, snoir
>13cb	44 45 42 55	               .null format("debut prog----->%5d",bcmd1)
>13cf	54 20 50 52 4f 47 2d 2d 2d 2d 2d 3e 20 34 36 30
>13df	39 00
>13e1	46 49 4e 20	endaddr        .null format("fin prog------->%5d",prgend)
>13e5	50 52 4f 47 2d 2d 2d 2d 2d 2d 2d 3e 20 38 31 32
>13f5	39 00
>13f7	54 41 49 4c	sizeprg        .null format("taille prog---->%5d",(prgend-bcmd1+1))
>13fb	4c 45 20 50 52 4f 47 2d 2d 2d 2d 3e 20 33 35 32
>140b	31 00
>140d	0d 1f		mainaddr       .byte $0d, sbleu
>140f	41 44 52 45	               .null format("adresse main--->%5d",main)
>1413	53 53 45 20 4d 41 49 4e 2d 2d 2d 3e 20 34 36 39
>1423	34 00
>1425	0d 1c		varsstart      .byte $0d, srouge
>1427	44 45 42 55	               .null format("debut vars----->%5d",mybyte)
>142b	54 20 56 41 52 53 2d 2d 2d 2d 2d 3e 20 32 39 31
>143b	38 00
>143d	46 49 4e 20	varsend        .null format("fin vars------->%5d",libre)
>1441	56 41 52 53 2d 2d 2d 2d 2d 2d 2d 3e 20 34 30 39
>1451	35 00
>1453	54 41 49 4c	sizevars       .text format("taille vars---->%5d",libre-mybyte+1)
>1457	4c 45 20 56 41 52 53 2d 2d 2d 2d 3e 20 31 31 37
>1467	38
>1468	92 90 00	               .byte revsoff, snoir,eot
>146b	92 b0 90 12	rtitle         .byte revsoff,176,snoir,revson
>146f	20 43 50 55	               .text " cpu registers hex "
>1473	20 52 45 47 49 53 54 45 52 53 20 48 45 58 20
>1482	90 92 ae 0d	               .byte snoir,revsoff,174,$0d
>1486	00		               .byte eot
>1487	dd 1f 92	rlable         .byte 221,sbleu,revsoff
>148a	20 50 43 20	               .text " pc  ra rx ry sr sp"
>148e	20 52 41 20 52 58 20 52 59 20 53 52 20 53 50
>149d	90 92 dd 0d	               .byte snoir,revsoff,221,$0d
>14a1	00		               .byte eot
>14a2	dd 1c 92	rvalues        .byte 221,srouge,revsoff
>14a5	30 30 30 30	               .text "0000 00 00 00 00 00"
>14a9	20 30 30 20 30 30 20 30 30 20 30 30 20 30 30
>14b8	90 92 dd 0d	               .byte snoir,revsoff,221,$0d
>14bc	00		               .byte eot
>14bd	ad 90 92	rbline         .byte 173,snoir,revsoff        ;0-2
>14c0	c0		               .byte 192    ;9-13
>14c1	53 4f 52 54	               .text "sortir=[une-clef]"
>14c5	49 52 3d 5b 55 4e 45 2d 43 4c 45 46 5d
>14d2	c0		               .byte 192         ;19-23
>14d3	90 92 bd 0d	               .byte snoir,revsoff,189,$0d    ;24-27
>14d7	00		               .byte eot
>14d8	92 b0 90 12	mvaide1        .byte revsoff,176,snoir,revson
>14dc	20 41 46 46	               .text " affichage  memoire "
>14e0	49 43 48 41 47 45 20 20 4d 45 4d 4f 49 52 45 20
>14f0	90 92 ae	               .byte snoir,revsoff,174
>14f3	00		               .byte eot
>14f4	dd 90		mvaide2        .byte 221,snoir
>14f6	20 43 52 53	               .text " crs up/dn -/+ 64   "
>14fa	20 55 50 2f 44 4e 20 2d 2f 2b 20 36 34 20 20 20
>150a	90 dd		               .byte snoir,221
>150c	00		               .byte eot
>150d	dd 90		mvaide3        .byte 221,snoir
>150f	20 43 52 53	               .text " crs lf/rt -/+ 128  "
>1513	20 4c 46 2f 52 54 20 2d 2f 2b 20 31 32 38 20 20
>1523	90 dd		               .byte snoir,221
>1525	00		               .byte eot
>1526	dd 90		mvaide4        .byte 221,snoir
>1528	20 46 31 2f	               .text " f1/f3     -/+ 4096 "
>152c	46 33 20 20 20 20 20 2d 2f 2b 20 34 30 39 36 20
>153c	90 dd		               .byte snoir,221
>153e	00		               .byte eot
>153f	dd 90		mvaide5        .byte  221,snoir
>1541	20 45 53 43	               .text " esc = main memu    "
>1545	20 3d 20 4d 41 49 4e 20 4d 45 4d 55 20 20 20 20
>1555	90 dd		               .byte snoir,221
>1557	00		               .byte eot
>1558	ad 90		mvaide6        .byte 173,snoir
>155a	c0 c0 c0 c0	               .byte 192,192,192,192,192
>155e	c0
>155f	c0 c0 c0 c0	               .byte 192,192,192,192,192
>1563	c0
>1564	c0 c0 c0 c0	               .byte 192,192,192,192,192
>1568	c0
>1569	c0 c0 c0 c0	               .byte 192,192,192,192,192
>156d	c0
>156e	90 bd		               .byte snoir,189
>1570	00		               .byte eot
>1571	42 49 54 20	biton          .text "bit is on."
>1575	49 53 20 4f 4e 2e
>157b	0d 00		               .byte 13,eot
>157d	42 49 54 20	bitoff         .text "bit is off."
>1581	49 53 20 4f 46 46 2e
>1588	0d 00		               .byte 13,eot

;******  Return to file: dlbug20.asm


;******  Processing file: memview.asm

.158a			mvmenu
.158a	20 3b 18	          jsr  pushregs
.158d	20 6e 16	          jsr  mvaide
.1590	20 e3 16	another   jsr  memdump
.1593	20 6b 1d	          jsr  getkey
.1596	c9 5f		          cmp  #$5f
.1598	d0 03		          bne  keyr
.159a	4c 61 16	          jmp  out
.159d	c9 52		keyr      cmp  #$52      ; [R] refresh
.159f	d0 18		          bne  upar      ; -64
.15a1	a9 40		          lda  #64
.15a3	08		            php
.15a4	ac 6d 0b	            ldy adrptr+1
.15a7	ae 6c 0b	            ldx adrptr
.15aa	28		            plp
.15ab	20 b8 1a	          jsr  subatoyx
.15ae	08		            php
.15af	8c 6d 0b	            sty adrptr+1
.15b2	8e 6c 0b	            stx adrptr
.15b5	28		            plp
.15b6	4c 90 15	          jmp  another
.15b9	c9 91		upar      cmp  #$91      ; crsr-up
.15bb	d0 18		          bne  dnar      ; -128
.15bd	a9 80		          lda  #128
.15bf	08		            php
.15c0	ac 6d 0b	            ldy adrptr+1
.15c3	ae 6c 0b	            ldx adrptr
.15c6	28		            plp
.15c7	20 b8 1a	          jsr  subatoyx
.15ca	08		            php
.15cb	8c 6d 0b	            sty adrptr+1
.15ce	8e 6c 0b	            stx adrptr
.15d1	28		            plp
.15d2	4c 90 15	          jmp  another
.15d5	c9 11		dnar      cmp  #$11      ; crsr-down
.15d7	d0 03		          bne  lfar      ; asis
.15d9	4c 90 15	          jmp  another
.15dc	c9 9d		lfar      cmp  #$9d      ; crsr-left
.15de	d0 18		          bne  rtar      ; -192
.15e0	a9 c0		          lda  #192
.15e2	08		            php
.15e3	ac 6d 0b	            ldy adrptr+1
.15e6	ae 6c 0b	            ldx adrptr
.15e9	28		            plp
.15ea	20 b8 1a	          jsr  subatoyx
.15ed	08		            php
.15ee	8c 6d 0b	            sty adrptr+1
.15f1	8e 6c 0b	            stx adrptr
.15f4	28		            plp
.15f5	4c 90 15	          jmp  another
.15f8	c9 1d		rtar      cmp  #$1d      ; crsr-right
.15fa	d0 18		          bne  kf1        ; +64
.15fc	a9 40		          lda  #64
.15fe	08		            php
.15ff	ac 6d 0b	            ldy adrptr+1
.1602	ae 6c 0b	            ldx adrptr
.1605	28		            plp
.1606	20 9b 1a	          jsr  addatoyx
.1609	08		            php
.160a	8c 6d 0b	            sty adrptr+1
.160d	8e 6c 0b	            stx adrptr
.1610	28		            plp
.1611	4c 90 15	          jmp  another
.1614	c9 85		kf1       cmp  #$85       ; f1
.1616	d0 21		          bne  kf3        ; +1024
.1618	a9 40		          lda  #64
.161a	08		            php
.161b	ac 6d 0b	            ldy adrptr+1
.161e	ae 6c 0b	            ldx adrptr
.1621	28		            plp
.1622	20 b8 1a	          jsr  subatoyx
.1625	08		            php
.1626	8c 6d 0b	            sty adrptr+1
.1629	8e 6c 0b	            stx adrptr
.162c	28		            plp
.162d	ad 6d 0b	          lda  adrptr+1
.1630	38		          sec
.1631	e9 10		          sbc  #$10
.1633	8d 6d 0b	          sta  adrptr+1
.1636	4c 90 15	          jmp  another
.1639	c9 86		kf3       cmp  #$86      ; crsr-right
.163b	d0 21		          bne  chkkey    ; +64
.163d	a9 40		          lda  #64
.163f	08		            php
.1640	ac 6d 0b	            ldy adrptr+1
.1643	ae 6c 0b	            ldx adrptr
.1646	28		            plp
.1647	20 b8 1a	          jsr  subatoyx
.164a	08		            php
.164b	8c 6d 0b	            sty adrptr+1
.164e	8e 6c 0b	            stx adrptr
.1651	28		            plp
.1652	ad 6d 0b	          lda  adrptr+1
.1655	18		          clc
.1656	69 10		          adc  #$10
.1658	8d 6d 0b	          sta  adrptr+1
.165b	4c 90 15	          jmp  another
.165e	4c 90 15	chkkey    jmp  another
.1661			out
.1661	08		            php
.1662	48		            pha
.1663	a9 93		            lda #147
.1665	20 7a f2	            jsr chrout
.1668	68		            pla
.1669	28		            plp
.166a	20 68 18	          jsr  popregs
.166d	60		          rts
.166e			mvaide
.166e	20 3b 18	          jsr  pushregs
.1671	a2 10		          ldx  #16
.1673	a0 00		          ldy  #00
.1675	18		          clc
.1676	20 0a e5	          jsr  plot
.1679	20 c9 17	            jsr  pushall
.167c	a2 d8		            ldx  #<mvaide1
.167e	86 fb		            stx  $fb
.1680	a0 14		            ldy  #>mvaide1
.1682	84 fc		            sty  $fc
.1684	20 95 18	            jsr  puts
.1687	20 02 18	            jsr  popall
.168a	20 c9 17	            jsr  pushall
.168d	a2 f4		            ldx  #<mvaide2
.168f	86 fb		            stx  $fb
.1691	a0 14		            ldy  #>mvaide2
.1693	84 fc		            sty  $fc
.1695	20 95 18	            jsr  puts
.1698	20 02 18	            jsr  popall
.169b	20 c9 17	            jsr  pushall
.169e	a2 0d		            ldx  #<mvaide3
.16a0	86 fb		            stx  $fb
.16a2	a0 15		            ldy  #>mvaide3
.16a4	84 fc		            sty  $fc
.16a6	20 95 18	            jsr  puts
.16a9	20 02 18	            jsr  popall
.16ac	20 c9 17	            jsr  pushall
.16af	a2 26		            ldx  #<mvaide4
.16b1	86 fb		            stx  $fb
.16b3	a0 15		            ldy  #>mvaide4
.16b5	84 fc		            sty  $fc
.16b7	20 95 18	            jsr  puts
.16ba	20 02 18	            jsr  popall
.16bd	20 c9 17	            jsr  pushall
.16c0	a2 3f		            ldx  #<mvaide5
.16c2	86 fb		            stx  $fb
.16c4	a0 15		            ldy  #>mvaide5
.16c6	84 fc		            sty  $fc
.16c8	20 95 18	            jsr  puts
.16cb	20 02 18	            jsr  popall
.16ce	20 c9 17	            jsr  pushall
.16d1	a2 58		            ldx  #<mvaide6
.16d3	86 fb		            stx  $fb
.16d5	a0 15		            ldy  #>mvaide6
.16d7	84 fc		            sty  $fc
.16d9	20 95 18	            jsr  puts
.16dc	20 02 18	            jsr  popall
.16df	20 68 18	          jsr  popregs
.16e2	60		          rts
.16e3			memdump
.16e3	08		            php
.16e4	48		            pha
.16e5	a9 13		            lda #19
.16e7	20 7a f2	            jsr chrout
.16ea	68		            pla
.16eb	28		            plp
.16ec	20 3b 18	          jsr  pushregs
.16ef	a0 10		          ldy  #16
.16f1	20 fb 16	another   jsr  put4mem
.16f4	88		          dey
.16f5	d0 fa		          bne  another
.16f7	20 68 18	          jsr  popregs
.16fa	60		          rts
.16fb			put4mem
.16fb	20 c9 17	          jsr  pushall
.16fe	ad 86 02	          lda  kcol
.1701	48		          pha
.1702	08		            php
.1703	48		            pha
.1704	a9 90		            lda #snoir
.1706	20 7a f2	            jsr chrout
.1709	68		            pla
.170a	28		            plp
.170b	08		            php
.170c	ac 6d 0b	            ldy adrptr+1
.170f	ae 6c 0b	            ldx adrptr
.1712	28		            plp
.1713	08		            php
.1714	48		            pha
.1715	a9 24		            lda #'$'
.1717	20 7a f2	            jsr chrout
.171a	68		            pla
.171b	28		            plp
.171c	20 de 1a	          jsr  putyxhex
.171f	20 3b 18	        jsr pushregs
.1722	84 fc		        sty zp1+1
.1724	86 fb		        stx zp1
.1726	20 68 18	        jsr popregs
.1729	08		            php
.172a	a4 d2		            ldy scrnlin+1
.172c	a6 d1		            ldx scrnlin
.172e	28		            plp
.172f	a9 12		          lda  #$12                     ; On y aditionne 18 pour la position
.1731	20 9b 1a	          jsr  addatoyx
.1734	08		            php
.1735	8c 6b 0b	            sty scraddr+1
.1738	8e 6a 0b	            stx scraddr
.173b	28		            plp
.173c	08		            php
.173d	8c 69 0b	            sty coladdr+1
.1740	8e 68 0b	            stx coladdr
.1743	28		            plp
.1744	ad 69 0b	          lda  coladdr+1                ; On ajuste l'adresse couleur en
.1747	09 94		          ora  #%10010100               ; sur le MSB seulement.
.1749	8d 69 0b	          sta  coladdr+1
.174c	08		            php
.174d	ac 6d 0b	            ldy adrptr+1
.1750	ae 6c 0b	            ldx adrptr
.1753	28		            plp
.1754	20 3b 18	        jsr pushregs
.1757	84 fc		        sty zp1+1
.1759	86 fb		        stx zp1
.175b	20 68 18	        jsr popregs
.175e	a0 00		          ldy  #$00
.1760			nxtbyte
.1760	08		            php
.1761	48		            pha
.1762	a9 1c		            lda #srouge
.1764	20 7a f2	            jsr chrout
.1767	68		            pla
.1768	28		            plp
.1769	08		            php
.176a	48		            pha
.176b	a9 1d		            lda #29
.176d	20 7a f2	            jsr chrout
.1770	68		            pla
.1771	28		            plp
.1772	b1 fb		          lda  (zp1),y
.1774	20 02 1b	          jsr  putahex
.1777	20 3b 18	        jsr pushregs
.177a	ac 6b 0b	        ldy scraddr+1
.177d	ae 6a 0b	        ldx scraddr
.1780	84 fe		        sty zp2+1
.1782	86 fd		        stx zp2
.1784	20 68 18	        jsr popregs
.1787	91 fd		          sta  (zp2),y
.1789	20 3b 18	        jsr pushregs
.178c	ac 69 0b	        ldy coladdr+1
.178f	ae 68 0b	        ldx coladdr
.1792	84 fe		        sty zp2+1
.1794	86 fd		        stx zp2
.1796	20 68 18	        jsr popregs
.1799	98		          tya
.179a	18		          clc
.179b	2a		          rol
.179c	91 fd		          sta  (zp2),y
.179e	c8		          iny
.179f	c0 04		          cpy  #$04
.17a1	d0 bd		          bne  nxtbyte
.17a3	08		            php
.17a4	ac 6d 0b	            ldy adrptr+1
.17a7	ae 6c 0b	            ldx adrptr
.17aa	28		            plp
.17ab	a9 04		          lda  #$4                      ;   pour afficher
.17ad	20 9b 1a	          jsr  addatoyx                 ;   les quatres
.17b0	08		            php
.17b1	8c 6d 0b	            sty adrptr+1
.17b4	8e 6c 0b	            stx adrptr
.17b7	28		            plp
.17b8	08		            php
.17b9	48		            pha
.17ba	a9 0d		            lda #13
.17bc	20 7a f2	            jsr chrout
.17bf	68		            pla
.17c0	28		            plp
.17c1	68		          pla
.17c2	8d 86 02	          sta  kcol
.17c5	20 02 18	          jsr  popall
.17c8	60		          rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-push.asm

.17c9			pushall
.17c9	08		         php     ;s;rp,pcl,pch
.17ca	8d fd 0f	         sta ra  ;sauve a
.17cd	68		         pla     ;s:pcl,pch
.17ce	8d fe 0f	         sta rp  ;sauve rp
.17d1	68		         pla     ;s:pch
.17d2	8d f8 0f	         sta pc  ;sauve pcl
.17d5	68		         pla     ;s:
.17d6	8d f9 0f	         sta pc+1;sauve pch
.17d9	a5 fb		         lda $fb ;sauve fb
.17db	48		         pha     ;s:fb
.17dc	a5 fc		         lda $fc ;sauve fc
.17de	48		         pha     ;s:fc,fb
.17df	a5 fd		         lda $fd ;sauve fd
.17e1	48		         pha     ;s:fd,fc,fb
.17e2	a5 fe		         lda $fe ;sauve fe
.17e4	48		         pha     ;s:fe,fd,fc,fb
.17e5	ad fe 0f	         lda rp  ;sauve rp
.17e8	48		         pha     ;s:rp,fe,fd,fc,fb
.17e9	ad fd 0f	         lda ra  ;sauve ra
.17ec	48		         pha     ;s:ra,rp,fe,fd,fc,fb
.17ed	8a		         txa     ;sauve rx
.17ee	48		         pha     ;s:rx,ra,rp,fe-fb
.17ef	98		         tya     ;sauve y
.17f0	48		         pha     ;s:ry,rx,ra,rp,fe-fb
.17f1	ad f9 0f	         lda pc+1;replace l'adresse
.17f4	48		         pha     ;s:pch,ry,rx,ra,...
.17f5	ad f8 0f	         lda pc  ; de retour.
.17f8	48		         pha     ;s:pcl,pch,ru,rx,ra,...
.17f9	ad fe 0f	         lda rp  ;place les flags
.17fc	48		         pha     ; sur le stack.
.17fd	ad fd 0f	         lda ra  ;recupere ra
.1800	28		         plp     ;recupere les flags.
.1801	60		         rts
.1802			popall
.1802	08		         php     ;s:rp,pcl,pch,ry,rx,...
.1803	8d fd 0f	         sta ra
.1806	68		         pla     ;s:pcl,pch,ry,rx,...
.1807	8d fe 0f	         sta rp  ;s:pch,ry,rx,ra,rp,...
.180a	68		         pla
.180b	8d f8 0f	         sta pc  ;sauve pcl
.180e	68		         pla     ;s:ry,rx,ra,rp,fe...fb
.180f	8d f9 0f	         sta pc+1;sauve pch
.1812	68		         pla     ;s:rx,ra,rp,fe,fd,fc,fb
.1813	a8		         tay     ;recupere ry
.1814	68		         pla     ;s:ra,rp,fe,fd,fc,fb
.1815	aa		         tax     ;recupere rx
.1816	68		         pla     ;s:rp,fe,fd,fc,fb
.1817	8d fd 0f	         sta ra  ;recupere ra
.181a	68		         pla     ;s:fe,fd,fc,fb
.181b	8d fe 0f	         sta rp  ;recupere les flags.
.181e	68		         pla     ;s:fd,fc,fb
.181f	85 fe		         sta $fe ;reccupere fe
.1821	68		         pla     ;s:fc,fb
.1822	85 fd		         sta $fd ;recupere fd
.1824	68		         pla     ;s:fb
.1825	85 fc		         sta $fc ;recupere fc
.1827	68		         pla     ;s:
.1828	85 fb		         sta $fb ;recupere fb
.182a	ad f9 0f	         lda pc+1;replaace l'adresse de
.182d	48		         pha     ;s:pch
.182e	ad f8 0f	         lda pc  ;retour sur la pile
.1831	48		         pha     ;s:pcl,pch
.1832	ad fe 0f	         lda rp  ;recupere les flags
.1835	48		         pha     ;s:rp,pcl,pch
.1836	ad fd 0f	         lda ra  ;recupere ra
.1839	28		         plp     ;s:pcl,pch
.183a	60		         rts
.183b			pushregs
.183b	08		         php     ;s;rp,pcl,pch
.183c	8d fd 0f	         sta ra  ; -- sauve a
.183f	68		         pla     ;s:pcl,pch
.1840	8d fe 0f	         sta rp  ; -- sauve rp
.1843	68		         pla     ;s:pch
.1844	8d f8 0f	         sta pc  ; -- sauve pcl
.1847	68		         pla     ;s:
.1848	8d f9 0f	         sta pc+1; -- sauve pch
.184b	ad fe 0f	         lda rp  ; -- sauve rp
.184e	48		         pha     ;s:rp
.184f	ad fd 0f	         lda ra  ; -- sauve ra
.1852	48		         pha     ;s:ra,rp
.1853	8a		         txa     ; -- tfr rx
.1854	48		         pha     ;s:rx,ra,rp
.1855	98		         tya     ; -- tfr ry
.1856	48		         pha     ;s:ry,rx,ra,rp
.1857	ad f9 0f	         lda pc+1; -- replace l'adresse
.185a	48		         pha     ;s:pch,ry,rx,ra,rp
.185b	ad f8 0f	         lda pc  ; -- de retour.
.185e	48		         pha     ;s:pcl,pch,ru,rx,ra,rp
.185f	ad fe 0f	         lda rp  ; -- place les flags
.1862	48		         pha     ;    sur le stack.
.1863	ad fd 0f	         lda ra  ; -- recupere ra
.1866	28		         plp     ; -- recupere flags.
.1867	60		         rts     ;s:pcl,pch,ru,rx,ra,rp
.1868			popregs
.1868	08		         php
.1869	8d fd 0f	         sta ra
.186c	68		         pla
.186d	8d fe 0f	         sta rp
.1870	68		         pla     ;s:pch,ry,rx,ra,rp
.1871	8d f8 0f	         sta pc  ; -- sauve pcl
.1874	68		         pla     ;s:ry,rx,ra,rp
.1875	8d f9 0f	         sta pc+1; -- sauve pch
.1878	68		         pla     ;s:rx,ra,rp
.1879	a8		         tay     ;recupere ry
.187a	68		         pla     ;s:ra,rp
.187b	aa		         tax     ;recupere rx
.187c	68		         pla     ;s:rp
.187d	8d fd 0f	         sta ra  ;recupere ra
.1880	68		         pla     ;s:
.1881	8d fe 0f	         sta rp  ;recupere les flags.
.1884	ad f9 0f	         lda pc+1;replace l'adresse de
.1887	48		         pha     ;s:pch
.1888	ad f8 0f	         lda pc  ;retour sur la pile
.188b	48		         pha     ;s:pcl,pch
.188c	ad fe 0f	         lda rp  ;recupere les flags
.188f	48		         pha     ;s:rp,pcl,pch
.1890	ad fd 0f	         lda ra  ;recupere ra
.1893	28		         plp     ;s:pcl,pch
.1894	60		         rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-string.asm

.1895			puts
.1895	20 c9 17	          jsr pushall
.1898	a0 00		          ldy #$00   ; y = offset
.189a	b1 fb		nextc     lda ($fb),y;lit un caractere
.189c	f0 09		          beq out    ;si 0 on sort
.189e	20 7a f2	          jsr chrout ;on l'affiche
.18a1	20 e2 19	          jsr inczp1 ;pointe le prochain
.18a4	4c 9a 18	          jmp nextc  ; et l'affiche
.18a7	20 02 18	out       jsr popall
.18aa	60		          rts
.18ab			putsyx
.18ab	20 c9 17	          jsr pushall;sauve reg + zps
.18ae	86 fb		          stx $fb    ;$yyxx dans
.18b0	84 fc		          sty $fb+1  ; zp1
.18b2	20 95 18	          jsr puts
.18b5	20 02 18	          jsr popall ;recup reg + zps
.18b8	60		          rts
.18b9			putsxy
.18b9	20 c9 17	        jsr pushall;sauve reg + zps
.18bc	86 fb		        stx $fb    ;$yyxx dans
.18be	84 fc		        sty $fb+1  ; zp1
.18c0	a0 00		        ldy #$00
.18c2	b1 fb		        lda ($fb),y
.18c4	aa		        tax
.18c5	20 e2 19	        jsr inczp1
.18c8	b1 fb		        lda ($fb),y
.18ca	20 e2 19	        jsr inczp1
.18cd	a8		        tay
.18ce	20 23 19	        jsr gotoxy
.18d1	20 95 18	        jsr puts
.18d4	20 02 18	        jsr popall ;recup reg + zps
.18d7	60		        rts
.18d8			putsc
.18d8	08		          php       ;flag sur stack
.18d9	48		          pha       ;acc sur stack
.18da	48		          pha       ;sauvegarde acc
.18db	ad 86 02	          lda kcol  ;recup coul. carac.
.18de	8d f7 0f	          sta curcol; et la sauvegarde
.18e1	68		          pla       ;recup. acc
.18e2	8d 86 02	          sta kcol  ;place coul. voulue
.18e5	20 95 18	          jsr puts  ;affiche la chaine
.18e8	ad f7 0f	          lda curcol;recup coul. carac.
.18eb	8d 86 02	          sta kcol  ; et la replace
.18ee	68		          pla       ;recup acc
.18ef	28		          plp       ;recup flag
.18f0	60		          rts
.18f1			putscyx
.18f1	08		          php       ;sauve registres
.18f2	48		          pha       ; ...
.18f3	48		          pha       ;sauve acc
.18f4	ad 86 02	          lda kcol  ;recup couleur carac.
.18f7	8d f7 0f	          sta curcol; et sauvegarde
.18fa	68		          pla       ;recup acc
.18fb	8d 86 02	          sta kcol  ;place couleur carac.
.18fe	20 ab 18	          jsr putsyx;affiche la chaine
.1901	ad f7 0f	          lda curcol
.1904	8d 86 02	          sta kcol
.1907	68		          pla
.1908	28		          plp
.1909	60		          rts
.190a			putscxy
.190a	08		          php       ;sauve registres
.190b	48		          pha       ; ...
.190c	48		          pha       ;sauve acc
.190d	ad 86 02	          lda kcol  ;recup couleur carac.
.1910	8d f7 0f	          sta curcol; et sauvegarde
.1913	68		          pla       ;recup acc
.1914	8d 86 02	          sta kcol   ;place couleur carac.
.1917	20 ab 18	          jsr putsyx ;affiche la chaine
.191a	ad f7 0f	          lda curcol
.191d	8d 86 02	          sta kcol
.1920	68		          pla
.1921	28		          plp
.1922	60		          rts
.1923			gotoxy
.1923	20 3b 18	          jsr pushregs
.1926	8a		          txa ; interchange x et y
.1927	48		          pha ; ...
.1928	98		          tya ; ...
.1929	aa		          tax ; ...
.192a	68		          pla ; ...
.192b	a8		          tay ; ...
.192c	c0 00		txlow     cpy #0
.192e	10 02		          bpl txhigh
.1930	a2 00		          ldx #0
.1932	e0 19		txhigh    cpx #25
.1934	30 02		          bmi tylow
.1936	a2 18		          ldx #24
.1938	c0 00		tylow     cpy #0
.193a	10 02		          bpl tyhigh
.193c	a0 00		          ldy #0
.193e	c0 28		tyhigh    cpy #40
.1940	30 02		          bmi allok
.1942	a0 27		          ldy #39
.1944	18		allok     clc
.1945	20 0a e5	          jsr plot
.1948	20 68 18	          jsr popregs
.194b	60		          rts
.194c			putnch
.194c	20 3b 18	        jsr pushregs
.194f	20 7a f2	again   jsr chrout
.1952	ca		        dex
.1953	d0 fa		        bne again
.1955	20 68 18	        jsr popregs
.1958	60		        rts
.1959			strlen
.1959	20 c9 17	        jsr pushall
.195c	84 fc		        sty zp1+1
.195e	86 fb		        stx zp1
.1960	a0 00		        ldy #$00
.1962	8c 88 0f	        sty len
.1965	b1 fb		next    lda (zp1),y
.1967	f0 07		        beq out
.1969	ee 88 0f	        inc len
.196c	c8		        iny
.196d	4c 65 19	        jmp next
.1970	20 02 18	out     jsr popall
.1973	ad 88 0f	        lda len
.1976	60		        rts
.1977			cursor
.1977	20 3b 18	          jsr  pushregs
.197a	90 12		          bcc  get    ;C=0 récupération.
.197c	20 0a e5	          jsr  plot  ;récupère position
.197f	8c 87 0f	          sty  cx     ;curseur et sauve
.1982	8e 86 0f	          stx  cy     ;dans vars locales.
.1985	ad 86 02	          lda  kcol   ;Sauve couleur
.1988	8d 85 0f	          sta  bcol   ; BASIC du texte.
.198b	4c 9d 19	          jmp  out    ;Fini on sort.
.198e	ae 86 0f	get       ldx  cy     ;C=1, charge x
.1991	ac 87 0f	          ldy  cx     ; ligne, y col.
.1994	20 0a e5	          jsr  plot  ;Position curseur.
.1997	ad 85 0f	          lda  bcol   ;replace couleur
.199a	8d 86 02	          sta  kcol ; basic sauvegardé.
.199d	20 68 18	out       jsr  popregs
.19a0	60		          rts
.19a1			curget
.19a1			cursave
.19a1	08		          php
.19a2	38		          sec
.19a3	20 77 19	          jsr  cursor
.19a6	28		          plp
.19a7	60		          rts
.19a8			curput
.19a8			currest
.19a8	08		          php
.19a9	18		          clc
.19aa	20 77 19	          jsr  cursor
.19ad	28		          plp
.19ae	60		          rts
.19af			isprnable
.19af	08		          php
.19b0	c9 a0		          cmp  #160
.19b2	b0 0b		          bcs  yes
.19b4	c5 85		          cmp  133
.19b6	b0 04		          bcs  no
.19b8	c9 20		          cmp  #32
.19ba	b0 03		          bcs  yes
.19bc	28		no        plp
.19bd	18		          clc
.19be	60		          rts
.19bf	28		yes       plp
.19c0	38		          sec
.19c1	60		          rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-mem.asm

.19c2			blkfill
.19c2	20 c9 17	bf0     jsr pushall
.19c5	84 fc		        sty zp1+1
.19c7	a0 00		        ldy #$00
.19c9	84 fb		        sty zp1
.19cb	91 fb		bf1     sta (zp1),y
.19cd	c8		        iny
.19ce	d0 fb		        bne bf1
.19d0	20 02 18	        jsr popall
.19d3	60		        rts
.19d4			memfill
.19d4	20 3b 18	        jsr pushregs
.19d7	20 c2 19	mf1     jsr blkfill
.19da	c8		        iny
.19db	ca		        dex
.19dc	d0 f9		        bne mf1
.19de	20 68 18	        jsr popregs
.19e1	60		        rts
.19e2			inczp1
.19e2	08		         php
.19e3	e6 fb		         inc zp1
.19e5	d0 02		         bne repzp1
.19e7	e6 fc		         inc zp1+1
.19e9	28		repzp1   plp
.19ea	60		         rts
.19eb			inczp2
.19eb	08		         php
.19ec	e6 fd		         inc zp2
.19ee	d0 02		         bne repzp2
.19f0	e6 fe		         inc zp2+1
.19f2	28		repzp2   plp
.19f3	60		         rts
.19f4			deczp1
.19f4	08		         php
.19f5	48		         pha
.19f6	a5 fb		         lda zp1
.19f8	d0 02		         bne noemp
.19fa	c6 fc		         dec zp1+1
.19fc	c6 fb		noemp    dec zp1
.19fe	68		         pla
.19ff	28		         plp
.1a00	60		         rts
.1a01			deczp2
.1a01	08		         php
.1a02	48		         pha
.1a03	a5 fd		         lda zp2
.1a05	d0 02		         bne noemp
.1a07	c6 fe		         dec zp2+1
.1a09	c6 fd		noemp    dec zp2
.1a0b	68		         pla
.1a0c	28		         plp
.1a0d	60		         rts
.1a0e			rolzp1
.1a0e	08		        php
.1a0f	48		        pha
.1a10	18		        clc
.1a11	a5 fb		        lda zp1
.1a13	2a		        rol
.1a14	85 fb		        sta zp1
.1a16	a5 fc		        lda zp1+1
.1a18	2a		        rol
.1a19	85 fc		        sta zp1+1
.1a1b	68		        pla
.1a1c	28		        plp
.1a1d			rorzp1
.1a1d	08		        php
.1a1e	48		        pha
.1a1f	18		        clc
.1a20	a5 fc		        lda zp1+1
.1a22	6a		        ror
.1a23	85 fc		        sta zp1+1
.1a25	a5 fb		        lda zp1
.1a27	6a		        ror
.1a28	85 fb		        sta zp1
.1a2a	68		        pla
.1a2b	28		        plp
.1a2c			rolzp2
.1a2c	08		        php
.1a2d	48		        pha
.1a2e	18		        clc
.1a2f	a5 fd		        lda zp2
.1a31	2a		        rol
.1a32	85 fd		        sta zp2
.1a34	a5 fe		        lda zp2+1
.1a36	2a		        rol
.1a37	85 fe		        sta zp2+1
.1a39	68		        pla
.1a3a	28		        plp
.1a3b			rorzp2
.1a3b	08		        php
.1a3c	48		        pha
.1a3d	18		        clc
.1a3e	a5 fe		        lda zp2+1
.1a40	6a		        ror
.1a41	85 fe		        sta zp2+1
.1a43	a5 fd		        lda zp2
.1a45	6a		        ror
.1a46	85 fd		        sta zp2
.1a48	68		        pla
.1a49	28		        plp
.1a4a			yxtoptr
.1a4a	8c f6 0f	        sty memptr+1
.1a4d	8e f5 0f	        stx memptr
.1a50	60		        rts
.1a51			ptrtoyx
.1a51	08		        php
.1a52	ac f6 0f	        ldy memptr+1
.1a55	ae f5 0f	        ldx memptr
.1a58	28		        plp
.1a59	60		        rts
.1a5a			incptr
.1a5a	08		        php
.1a5b	ee f5 0f	        inc memptr
.1a5e	d0 03		        bne norep
.1a60	ee f6 0f	        inc memptr+1
.1a63	28		norep   plp
.1a64	60		        rts
.1a65			decptr
.1a65	08		        php
.1a66	48		        pha
.1a67	ad f5 0f	        lda memptr
.1a6a	d0 03		        bne noemp
.1a6c	ee f6 0f	        inc memptr+1
.1a6f	ee f5 0f	noemp   inc memptr
.1a72	68		        pla
.1a73	28		        plp
.1a74	60		        rts
.1a75			incptr8
.1a75	08		        php
.1a76	48		        pha
.1a77	98		        tya
.1a78	48		        pha
.1a79	a0 08		        ldy #8
.1a7b	20 5a 1a	again   jsr incptr
.1a7e	88		        dey
.1a7f	d0 fa		        bne again
.1a81	68		        pla
.1a82	a8		        tay
.1a83	68		        pla
.1a84	28		        plp
.1a85	60		        rts
.1a86			loop
.1a86	ce ef 0f	               dec  loopcount
.1a89	d0 03		               bne  norep
.1a8b	ce f0 0f	               dec  loopcount+1
.1a8e	ad ef 0f	norep          lda  loopcount
.1a91	c9 00		               cmp  #$00
.1a93	d0 05		               bne  out
.1a95	4d f0 0f	               eor  loopcount+1
.1a98	c9 ff		               cmp  #$ff
.1a9a	60		out            rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-math.asm

.1a9b			addtoword
.1a9b			addatoyx
.1a9b	08		        php
.1a9c	48		        pha
.1a9d	8c 96 0f	        sty reponse+1
.1aa0	8e 95 0f	        stx reponse
.1aa3	18		        clc
.1aa4	6d 95 0f	        adc reponse
.1aa7	90 03		        bcc norep
.1aa9	ee 96 0f	        inc reponse+1
.1aac	8d 95 0f	norep   sta reponse
.1aaf	ac 96 0f	        ldy reponse+1
.1ab2	ae 95 0f	        ldx reponse
.1ab5	68		        pla
.1ab6	28		        plp
.1ab7	60		        rts
.1ab8			subtoword
.1ab8			subatoyx
.1ab8	08		        php
.1ab9	48		        pha
.1aba	8d 6e 0b	        sta freevar
.1abd	8c 96 0f	        sty reponse+1
.1ac0	8e 95 0f	        stx reponse
.1ac3	38		        sec
.1ac4	ad 95 0f	        lda reponse
.1ac7	ed 6e 0b	        sbc freevar
.1aca	8d 95 0f	        sta reponse
.1acd	ad 96 0f	        lda reponse+1
.1ad0	e9 00		        sbc #$00
.1ad2	8d 96 0f	        sta reponse+1
.1ad5	ac 96 0f	        ldy reponse+1
.1ad8	ae 95 0f	        ldx reponse
.1adb	68		        pla
.1adc	28		        plp
.1add	60		        rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-conv.asm

.1ade			putyxhex
.1ade	20 c9 17	        jsr pushall
.1ae1	98		        tya
.1ae2	48		        pha
.1ae3	20 61 1b	        jsr lsr4bits
.1ae6	20 74 1b	        jsr nibtohex
.1ae9	8d ea 0f	        sta hexstr+0
.1aec	68		        pla
.1aed	20 74 1b	        jsr nibtohex
.1af0	8d eb 0f	        sta hexstr+1
.1af3	8a		        txa
.1af4	20 13 1b	        jsr atohex
.1af7	a2 ea		        ldx #<hexstr+0
.1af9	a0 0f		        ldy #>hexstr+0
.1afb	20 ab 18	        jsr putsyx
.1afe	20 02 18	        jsr popall
.1b01	60		        rts
.1b02			putahex
.1b02	20 3b 18	        jsr pushregs
.1b05	20 13 1b	        jsr atohex
.1b08	a2 ec		        ldx #<hexstr+2
.1b0a	a0 0f		        ldy #>hexstr+2
.1b0c	20 ab 18	        jsr putsyx
.1b0f	20 68 18	        jsr popregs
.1b12	60		        rts
.1b13			atohex
.1b13	08		        php
.1b14	48		        pha
.1b15	48		        pha
.1b16	20 61 1b	        jsr lsr4bits
.1b19	20 74 1b	        jsr nibtohex
.1b1c	8d ec 0f	        sta hexstr+2
.1b1f	68		        pla
.1b20	20 74 1b	        jsr nibtohex
.1b23	8d ed 0f	        sta hexstr+3
.1b26	a9 00		        lda #$00
.1b28	8d ee 0f	        sta hexstr+4
.1b2b	68		        pla
.1b2c	28		        plp
.1b2d	60		        rts
.1b2e			putabin
.1b2e	20 3b 18	          jsr     pushregs
.1b31	20 3f 1b	          jsr     atobin
.1b34	a2 dd		          ldx     #<binstr
.1b36	a0 0f		          ldy     #>binstr
.1b38	20 ab 18	          jsr     putsyx
.1b3b	20 68 18	          jsr     popregs
.1b3e	60		          rts
.1b3f			atobin
.1b3f	20 3b 18	          jsr  pushregs
.1b42	a2 08		          ldx  #8
.1b44	a0 00		          ldy  #0
.1b46	18		          clc
.1b47	2a		nextbit   rol
.1b48	48		          pha
.1b49	69 00		          adc  #$00
.1b4b	29 01		          and  #$01
.1b4d	20 74 1b	          jsr  nibtohex
.1b50	99 dd 0f	          sta  binstr,y
.1b53	68		          pla
.1b54	c8		          iny
.1b55	ca		          dex
.1b56	d0 ef		          bne  nextbit
.1b58	a9 00		          lda  #0
.1b5a	99 dd 0f	          sta  binstr,y
.1b5d	20 68 18	          jsr  popregs
.1b60	60		          rts
.1b61			lsr4bits
.1b61	08		          php
.1b62	4a		          lsr a
.1b63	4a		          lsr a
.1b64	4a		          lsr a
.1b65	4a		          lsr a
.1b66	28		          plp
.1b67	60		          rts
.1b68			nibtohexb
.1b68	08		        php
.1b69	29 0f		        and #$0f
.1b6b	f8		        sed
.1b6c	18		        clc
.1b6d	69 90		        adc #$90
.1b6f	69 40		        adc #$40
.1b71	d8		        cld
.1b72	28		        plp
.1b73	60		        rts
.1b74			nibtohex
.1b74	08		        php
.1b75	8c 93 1b	        sty myy
.1b78	29 0f		        and #$0f
.1b7a	a8		        tay
.1b7b	b9 83 1b	        lda hextbl,y
.1b7e	ac 93 1b	        ldy myy
.1b81	28		        plp
.1b82	60		        rts
>1b83	30 31 32 33	hextbl  .byte $30,$31,$32,$33,$34
>1b87	34
>1b88	35 36 37 38	        .byte $35,$36,$37,$38,$39
>1b8c	39
>1b8d	41 42 43 44	        .byte $41,$42,$43,$44,$45
>1b91	45
>1b92	46		        .byte $46
>1b93	00		myy     .byte $00
.1b94			bytestohex
.1b94	20 c9 17	        jsr pushall
.1b97	84 fc		        sty zp1+1
.1b99	86 fb		        stx zp1
.1b9b	08		            php
.1b9c	48		            pha
.1b9d	a9 20		            lda #32
.1b9f	20 7a f2	            jsr chrout
.1ba2	68		            pla
.1ba3	28		            plp
.1ba4	08		            php
.1ba5	48		            pha
.1ba6	a9 05		            lda #5
.1ba8	20 7a f2	            jsr chrout
.1bab	68		            pla
.1bac	28		            plp
.1bad	08		            php
.1bae	48		            pha
.1baf	a9 24		            lda #36
.1bb1	20 7a f2	            jsr chrout
.1bb4	68		            pla
.1bb5	28		            plp
.1bb6	20 de 1a	        jsr putyxhex   ; prn adreponsese
.1bb9	08		            php
.1bba	48		            pha
.1bbb	a9 20		            lda #$20
.1bbd	20 7a f2	            jsr chrout
.1bc0	68		            pla
.1bc1	28		            plp
.1bc2	08		            php
.1bc3	48		            pha
.1bc4	a9 9f		            lda #159
.1bc6	20 7a f2	            jsr chrout
.1bc9	68		            pla
.1bca	28		            plp
.1bcb	a0 00		        ldy #$00
.1bcd	aa		        tax
.1bce	8c ce 0f	another sty offset
.1bd1	b1 fb		        lda (zp1),y
.1bd3	20 02 1b	        jsr putahex
.1bd6	48		        pha
.1bd7	20 f6 1b	        jsr petsciiaddr
.1bda	68		        pla
.1bdb	8d 00 04	petscii sta $0400
.1bde	48		        pha
.1bdf	a9 0d		        lda #$0d
.1be1	8d 00 d8	petcol  sta $d800
.1be4	68		        pla
.1be5	08		            php
.1be6	48		            pha
.1be7	a9 20		            lda #$20
.1be9	20 7a f2	            jsr chrout
.1bec	68		            pla
.1bed	28		            plp
.1bee	c8		        iny
.1bef	ca		        dex
.1bf0	d0 dc		        bne another
.1bf2	20 02 18	        jsr popall
.1bf5	60		        rts
.1bf6			petsciiaddr
.1bf6	20 3b 18	        jsr pushregs
.1bf9	a9 1f		        lda #31
.1bfb	18		        clc
.1bfc	6d ce 0f	        adc offset
.1bff	20 9b 1a	        jsr addatoyx
.1c02	8c dd 1b	        sty petscii+2
.1c05	8e dc 1b	        stx petscii+1
.1c08	8e e2 1b	        stx petcol+1
.1c0b	98		        tya
.1c0c	29 fb		        and #%11111011 ;#%00000100
.1c0e	09 d8		        ora #$d8
.1c10	8d e3 1b	        sta petcol+2
.1c13	a8		        tay
.1c14	20 68 18	        jsr popregs
.1c17	60		        rts
.1c18			strhexval
.1c18	20 c9 17	        jsr pushall ; sauve registre
.1c1b	84 fc		        sty zp1+1   ; ptr dans zp1
.1c1d	86 fb		        stx zp1
.1c1f	20 59 19	        jsr strlen  ;len de $(yyxx)->a
.1c22	f0 3d		        beq oute    ; si 0 erreur C=1
.1c24	a0 00		        ldy #$00    ; offset a 0
.1c26	8c 96 0f	        sty reponse+1; reponse a zero
.1c29	8c 95 0f	        sty reponse ;    ...
.1c2c	b1 fb		nextc   lda (zp1),y ;charge un caractere
.1c2e	f0 26		        beq out     ;On  a fini
.1c30	c0 00		        cpy #$00    ;si c'est le premier
.1c32	f0 07		        beq norol   ; pas de rol
.1c34	48		        pha         ;
.1c35	a9 04		        lda #$04    ;rol de 4 pos
.1c37	20 21 1d	        jsr rolword ;
.1c3a	68		        pla         ;
.1c3b	09 20		norol   ora #%00100000
.1c3d	38		        sec
.1c3e	e9 30		        sbc #$30
.1c40	c9 0a		        cmp #$0a
.1c42	90 07		        bcc lt10
.1c44	38		        sec
.1c45	e9 27		        sbc #$27
.1c47	c9 10		        cmp #$10
.1c49	b0 16		        bcs oute
.1c4b	0d 95 0f	lt10    ora reponse
.1c4e	8d 95 0f	        sta reponse
.1c51	c8		        iny
.1c52	c0 04		        cpy #$04
.1c54	d0 d6		        bne nextc
.1c56	20 02 18	out     jsr popall
.1c59	18		        clc          ;Carry 0 = good
.1c5a	ac 96 0f	        ldy reponse+1
.1c5d	ae 95 0f	        ldx reponse
.1c60	60		        rts
.1c61	20 02 18	oute    jsr popall
.1c64	38		        sec
.1c65	60		        rts
.1c66			showra
.1c66	20 3b 18	          jsr  pushregs
.1c69	ac 86 02	          ldy  kcol
.1c6c	08		            php
.1c6d	48		            pha
.1c6e	a9 90		            lda #snoir
.1c70	20 7a f2	            jsr chrout
.1c73	68		            pla
.1c74	28		            plp
.1c75	20 af 19	          jsr  isprnable
.1c78	b0 13		          bcs  okprn
.1c7a	48		          pha
.1c7b	08		            php
.1c7c	48		            pha
.1c7d	a9 1c		            lda #srouge
.1c7f	20 7a f2	            jsr chrout
.1c82	68		            pla
.1c83	28		            plp
.1c84	a9 2e		          lda  #'.'
.1c86	20 7a f2	          jsr  chrout
.1c89	68		          pla
.1c8a	4c 90 1c	          jmp  noprn
.1c8d	20 7a f2	okprn     jsr  chrout
.1c90			noprn
.1c90	08		            php
.1c91	48		            pha
.1c92	a9 20		            lda #32
.1c94	20 7a f2	            jsr chrout
.1c97	68		            pla
.1c98	28		            plp
.1c99	08		            php
.1c9a	48		            pha
.1c9b	a9 1f		            lda #sbleu
.1c9d	20 7a f2	            jsr chrout
.1ca0	68		            pla
.1ca1	28		            plp
.1ca2	08		            php
.1ca3	48		            pha
.1ca4	a9 24		            lda #36
.1ca6	20 7a f2	            jsr chrout
.1ca9	68		            pla
.1caa	28		            plp
.1cab	20 02 1b	          jsr putahex
.1cae	08		            php
.1caf	48		            pha
.1cb0	a9 20		            lda #32
.1cb2	20 7a f2	            jsr chrout
.1cb5	68		            pla
.1cb6	28		            plp
.1cb7	08		            php
.1cb8	48		            pha
.1cb9	a9 1c		            lda #srouge
.1cbb	20 7a f2	            jsr chrout
.1cbe	68		            pla
.1cbf	28		            plp
.1cc0	08		            php
.1cc1	48		            pha
.1cc2	a9 25		            lda #37
.1cc4	20 7a f2	            jsr chrout
.1cc7	68		            pla
.1cc8	28		            plp
.1cc9	20 2e 1b	          jsr putabin
.1ccc	08		            php
.1ccd	48		            pha
.1cce	a9 20		            lda #32
.1cd0	20 7a f2	            jsr chrout
.1cd3	68		            pla
.1cd4	28		            plp
.1cd5	08		            php
.1cd6	48		            pha
.1cd7	a9 9c		            lda #smauve
.1cd9	20 7a f2	            jsr chrout
.1cdc	68		            pla
.1cdd	28		            plp
.1cde	48		          pha
.1cdf	aa		          tax
.1ce0	a9 00		          lda #$00
.1ce2	20 cd dd	          jsr fiaxtf1
.1ce5	68		          pla
.1ce6	8c 86 02	          sty kcol
.1ce9	20 68 18	          jsr popregs
.1cec	60		          rts
.1ced			putahexdec
.1ced	20 3b 18	          jsr pushregs
.1cf0	20 a1 19	          jsr  curget    ; Sauvegarde la position du curseur.
.1cf3	20 3b 18	        jsr pushregs
.1cf6	a0 00		        ldy #0
.1cf8	a2 16		        ldx #22
.1cfa	18		        clc
.1cfb	20 0a e5	        jsr plot
.1cfe	20 68 18	        jsr popregs
.1d01	08		            php
.1d02	48		            pha
.1d03	a9 20		            lda #32
.1d05	20 7a f2	            jsr chrout
.1d08	68		            pla
.1d09	28		            plp
.1d0a	20 66 1c	          jsr  showra    ; Affiche .a en ascii, hexa, bin et dec.
.1d0d	c9 63		          cmp  #99       ; Estce que le code ascii est > 99 dec.
.1d0f	10 09		          bpl  nospc     ; Non, on saute.
.1d11	08		            php
.1d12	48		            pha
.1d13	a9 20		            lda #32
.1d15	20 7a f2	            jsr chrout
.1d18	68		            pla
.1d19	28		            plp
.1d1a	20 a8 19	nospc     jsr  curput    ; Replkace le curseur à sa position initiale.
.1d1d	20 68 18	          jsr popregs
.1d20	60		          rts
.1d21			rolword
.1d21	20 3b 18	        jsr pushregs
.1d24	a8		        tay
.1d25	18		again   clc
.1d26	2e 95 0f	        rol reponse
.1d29	2e 96 0f	        rol reponse+1
.1d2c	88		        dey
.1d2d	d0 f6		        bne again
.1d2f	20 68 18	        jsr popregs
.1d32	60		        rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-keyb.asm

.1d33			clrkbbuf
.1d33	08		          php
.1d34	48		          pha
.1d35	a9 00		          lda #0
.1d37	85 c6		          sta 198
.1d39	20 e1 ff	          jsr $ffe1
.1d3c	68		          pla
.1d3d	28		          plp
.1d3e	60		          rts
.1d3f			waitstop
.1d3f	08		          php    ;\ sauve les flags
.1d40	48		          pha    ;/  et l'acc.
.1d41	20 33 1d	          jsr clrkbbuf
.1d44	20 70 f7	wait      jsr stop ; Veri [run/stop]
.1d47	d0 fb		          bne wait ;loop pas pesee.
.1d49	68		          pla    ;\ recup. acc et
.1d4a	28		          plp    ;/  les flags.
.1d4b	60		          rts
.1d4c			anykey
.1d4c	08		          php
.1d4d	48		          pha
.1d4e	20 33 1d	          jsr clrkbbuf
.1d51	a5 cb		wait      lda 203    ;lit la matrice de
.1d53	c9 40		          cmp #64    ; 64 = aucune clef
.1d55	f0 fa		          beq wait   ; on en attend une.
.1d57	20 60 1d	          jsr kbfree ; Clavier relache.
.1d5a	20 33 1d	          jsr clrkbbuf
.1d5d	68		          pla
.1d5e	28		          plp
.1d5f	60		          rts
.1d60			kbfree
.1d60	08		        php
.1d61	48		        pha
.1d62	a5 cb		wait    lda 203    ; lit la matrice
.1d64	c9 40		        cmp #64    ; 64 = aucune clef
.1d66	d0 fa		        bne wait   ; attend la relache
.1d68	68		        pla
.1d69	28		        plp
.1d6a	60		        rts
.1d6b			getkey
.1d6b	08		        php
.1d6c	20 e1 ff	        jsr $ffe1
.1d6f	20 f5 f1	try     jsr getin  ;tente de lire
.1d72	c9 00		        cmp #0     ; 0 si aucune.
.1d74	f0 f9		        beq try    ; on reessaye
.1d76	28		        plp
.1d77	60		        rts
.1d78			waitkey
.1d78	08		        php
.1d79	48		        pha
.1d7a	8d 89 0f	        sta clef   ;Sauve clef voulue
.1d7d	20 33 1d	        jsr clrkbbuf
.1d80	20 f5 f1	wait    jsr getin  ;Sonde le clavier
.1d83	cd 89 0f	        cmp clef   ;Compare avec clef
.1d86	d0 f8		        bne wait   ;Pas la bonne.
.1d88	68		        pla
.1d89	28		        plp
.1d8a	60		        rts
.1d8b			waitspace
.1d8b	a9 20		          lda #$20
.1d8d	20 78 1d	          jsr waitkey
.1d90	20 33 1d	          jsr clrkbbuf
.1d93	60		          rts
.1d94			showkey
.1d94	20 3b 18	        jsr pushregs
.1d97	38		        sec
.1d98	20 0a e5	        jsr plot
.1d9b	8e 8b 0f	        stx curx
.1d9e	8c 8a 0f	        sty cury
.1da1	20 3b 18	        jsr pushregs
.1da4	a0 00		        ldy #0
.1da6	a2 16		        ldx #22
.1da8	18		        clc
.1da9	20 0a e5	        jsr plot
.1dac	20 68 18	        jsr popregs
.1daf	20 7a f2	        jsr chrout
.1db2	20 66 1c	        jsr showra
.1db5	18		        clc
.1db6	ac 8a 0f	        ldy cury
.1db9	ae 8b 0f	        ldx curx
.1dbc	20 0a e5	        jsr plot
.1dbf	20 68 18	        jsr popregs
.1dc2	60		        rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-screen.asm

.1dc3			scrnsave
.1dc3	20 c9 17	        jsr pushall
.1dc6	20 1b 1e	        jsr setcarptr
.1dc9	20 e9 1d	        jsr zp1tozp2
.1dcc	20 32 1e	        jsr setcolptr
.1dcf	20 e9 1d	        jsr zp1tozp2
.1dd2	20 02 18	        jsr popall
.1dd5	60		        rts
.1dd6			scrnrest
.1dd6	20 c9 17	        jsr pushall
.1dd9	20 1b 1e	        jsr setcarptr
.1ddc	20 02 1e	        jsr zp2tozp1
.1ddf	20 32 1e	        jsr setcolptr
.1de2	20 02 1e	        jsr zp2tozp1
.1de5	20 02 18	        jsr popall
.1de8	60		        rts
.1de9			zp1tozp2
.1de9	20 c9 17	        jsr pushall
.1dec	a2 02		        ldx #>scrlen
.1dee	a0 00		        ldy #<scrlen
.1df0	b1 fb		nextcar lda (zp1),y
.1df2	91 fd		        sta (zp2),y
.1df4	c8		        iny
.1df5	d0 f9		        bne nextcar
.1df7	e6 fc		        inc zp1+1
.1df9	e6 fe		        inc zp2+1
.1dfb	ca		        dex
.1dfc	d0 f2		        bne nextcar
.1dfe	20 02 18	        jsr popall
.1e01	60		        rts
.1e02			zp2tozp1
.1e02	20 c9 17	        jsr pushall
.1e05	a2 02		        ldx #>scrlen
.1e07	a0 00		        ldy #<scrlen
.1e09	b1 fd		nextcar lda (zp2),y
.1e0b	91 fb		        sta (zp1),y
.1e0d	c8		        iny
.1e0e	d0 f9		        bne nextcar
.1e10	e6 fc		        inc zp1+1
.1e12	e6 fe		        inc zp2+1
.1e14	ca		        dex
.1e15	d0 f2		        bne nextcar
.1e17	20 02 18	        jsr popall
.1e1a	60		        rts
.1e1b			setcarptr
.1e1b	20 3b 18	        jsr pushregs
.1e1e	a9 00		        lda #<scrtxt
.1e20	85 fb		        sta zp1
.1e22	a9 10		        lda #>scrtxt
.1e24	85 fc		        sta zp1+1
.1e26	a9 82		        lda #<scrncar
.1e28	85 fd		        sta zp2
.1e2a	a9 0d		        lda #>scrncar
.1e2c	85 fe		        sta zp2+1
.1e2e	20 68 18	        jsr popregs
.1e31	60		        rts
.1e32			setcolptr
.1e32	20 3b 18	        jsr pushregs
.1e35	a9 00		        lda #<scrcol
.1e37	85 fb		        sta zp1
.1e39	a9 94		        lda #>scrcol
.1e3b	85 fc		        sta zp1+1
.1e3d	a9 82		        lda #<scrncol
.1e3f	85 fd		        sta zp2
.1e41	a9 0b		        lda #>scrncol
.1e43	85 fe		        sta zp2+1
.1e45	20 68 18	        jsr popregs
.1e48	60		        rts
.1e49			fillscreen
.1e49	20 c9 17	          jsr pushall
.1e4c	a2 02		          ldx #$02
.1e4e	a0 00		          ldy #$00
.1e50	99 00 10	again     sta scrtxt,y
.1e53	99 00 11	          sta scrtxt+256,y
.1e56	48		          pha
.1e57	8a		          txa
.1e58	99 00 94	          sta scrcol,y
.1e5b	99 00 95	          sta scrcol+256,y
.1e5e	68		          pla
.1e5f	c8		          iny
.1e60	d0 ee		          bne again
.1e62	20 02 18	          jsr popall
.1e65	60		          rts

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/l-v20-showregs.asm

.1e66			showregs
.1e66	20 c3 1d	          jsr scrnsave
.1e69	08		          php
.1e6a	8d 78 0b	          sta  acc
.1e6d	68		          pla       ;acc<-sr
.1e6e	8d 75 0b	          sta  sr
.1e71	8e 77 0b	          stx  xr
.1e74	8c 76 0b	          sty  yr
.1e77	ba		          tsx       ; x<-sp
.1e78	8e 74 0b	          stx  sp
.1e7b	68		          pla
.1e7c	8d 73 0b	          sta  pcl
.1e7f	68		          pla
.1e80	8d 72 0b	          sta  pch
.1e83	48		          pha
.1e84	ad 73 0b	          lda  pcl
.1e87	48		          pha
.1e88	a9 00		          lda #$00
.1e8a	a2 11		          ldx #regline   ; No. de ligne
.1e8c	a8		          tay
.1e8d	18		          clc
.1e8e	20 0a e5	          jsr plot       ; pos. curseur.
.1e91	08		            php
.1e92	48		            pha
.1e93	a9 90		            lda #snoir
.1e95	20 7a f2	            jsr chrout
.1e98	68		            pla
.1e99	28		            plp
.1e9a	20 c9 17	            jsr  pushall
.1e9d	a2 6b		            ldx  #<rtitle
.1e9f	86 fb		            stx  $fb
.1ea1	a0 14		            ldy  #>rtitle
.1ea3	84 fc		            sty  $fc
.1ea5	20 95 18	            jsr  puts
.1ea8	20 02 18	            jsr  popall
.1eab	20 c9 17	            jsr  pushall
.1eae	a2 87		            ldx  #<rlable
.1eb0	86 fb		            stx  $fb
.1eb2	a0 14		            ldy  #>rlable
.1eb4	84 fc		            sty  $fc
.1eb6	20 95 18	            jsr  puts
.1eb9	20 02 18	            jsr  popall
.1ebc	20 c9 17	            jsr  pushall
.1ebf	a2 a2		            ldx  #<rvalues
.1ec1	86 fb		            stx  $fb
.1ec3	a0 14		            ldy  #>rvalues
.1ec5	84 fc		            sty  $fc
.1ec7	20 95 18	            jsr  puts
.1eca	20 02 18	            jsr  popall
.1ecd	20 c9 17	            jsr  pushall
.1ed0	a2 bd		            ldx  #<rbline
.1ed2	86 fb		            stx  $fb
.1ed4	a0 14		            ldy  #>rbline
.1ed6	84 fc		            sty  $fc
.1ed8	20 95 18	            jsr  puts
.1edb	20 02 18	            jsr  popall
.1ede	ac 72 0b	          ldy  pch
.1ee1	ae 73 0b	          ldx  pcl
.1ee4	e8		          inx       ; Aj. LSB adresse
.1ee5	90 01		          bcc  go   ; Report? Non Go!
.1ee7	c8		          iny       ; Oui, Aj. MSB
.1ee8			go
.1ee8	20 3b 18	        jsr pushregs
.1eeb	a0 01		        ldy #1
.1eed	a2 13		        ldx #regline+2
.1eef	18		        clc
.1ef0	20 0a e5	        jsr plot
.1ef3	20 68 18	        jsr popregs
.1ef6	20 de 1a	          jsr putyxhex   ; pc
.1ef9	ad 78 0b	          lda  acc
.1efc	20 3b 18	        jsr pushregs
.1eff	a0 06		        ldy #6
.1f01	a2 13		        ldx #regline+2
.1f03	18		        clc
.1f04	20 0a e5	        jsr plot
.1f07	20 68 18	        jsr popregs
.1f0a	20 02 1b	          jsr putahex    ; reg x
.1f0d	ad 77 0b	          lda  xr
.1f10	20 3b 18	        jsr pushregs
.1f13	a0 09		        ldy #9
.1f15	a2 13		        ldx #regline+2
.1f17	18		        clc
.1f18	20 0a e5	        jsr plot
.1f1b	20 68 18	        jsr popregs
.1f1e	20 02 1b	          jsr  putahex    ; reg x
.1f21	ad 76 0b	          lda  yr
.1f24	20 3b 18	        jsr pushregs
.1f27	a0 0c		        ldy #12
.1f29	a2 13		        ldx #regline+2
.1f2b	18		        clc
.1f2c	20 0a e5	        jsr plot
.1f2f	20 68 18	        jsr popregs
.1f32	20 02 1b	          jsr  putahex    ; reg y
.1f35	ad 75 0b	          lda  sr
.1f38	20 3b 18	        jsr pushregs
.1f3b	a0 0f		        ldy #15
.1f3d	a2 13		        ldx #regline+2
.1f3f	18		        clc
.1f40	20 0a e5	        jsr plot
.1f43	20 68 18	        jsr popregs
.1f46	20 02 1b	          jsr putahex    ; status reg
.1f49	ad 74 0b	          lda  sp
.1f4c	8a		          txa
.1f4d	20 3b 18	        jsr pushregs
.1f50	a0 12		        ldy #18
.1f52	a2 13		        ldx #regline+2
.1f54	18		        clc
.1f55	20 0a e5	        jsr plot
.1f58	20 68 18	        jsr popregs
.1f5b	20 02 1b	          jsr putahex    ; sp
.1f5e	20 33 1d	          jsr  clrkbbuf
.1f61	20 4c 1d	          jsr  anykey
.1f64	20 d6 1d	          jsr scrnrest
.1f67	ad 78 0b	          lda  acc
.1f6a	ae 77 0b	          ldx  xr
.1f6d	ac 76 0b	          ldy  yr
.1f70	ad 75 0b	          lda  sr
.1f73	48		          pha
.1f74	28		          plp
.1f75	60		          rts
=17			regline   = 17
.1f76			showstack
.1f76	8d 78 0b	          sta acc
.1f79	08		          php
.1f7a	68		          pla
.1f7b	8d 75 0b	          sta sr
.1f7e	8e 77 0b	          stx xr
.1f81	8c 76 0b	          sty yr
.1f84	38		          sec
.1f85	a0 10		          ldy  #$10
.1f87	ba		          tsx
.1f88	e8		          inx
.1f89	8a		          txa
.1f8a	20 66 1c	          jsr showra
.1f8d	08		            php
.1f8e	48		            pha
.1f8f	a9 0d		            lda #13
.1f91	20 7a f2	            jsr chrout
.1f94	68		            pla
.1f95	28		            plp
.1f96	08		            php
.1f97	48		            pha
.1f98	a9 0d		            lda #13
.1f9a	20 7a f2	            jsr chrout
.1f9d	68		            pla
.1f9e	28		            plp
.1f9f	bd 00 01	morey     lda $0100,x
.1fa2	20 66 1c	          jsr showra
.1fa5	08		            php
.1fa6	48		            pha
.1fa7	a9 0d		            lda #13
.1fa9	20 7a f2	            jsr chrout
.1fac	68		            pla
.1fad	28		            plp
.1fae	e8		          inx
.1faf	88		          dey
.1fb0	d0 ed		          bne morey
.1fb2	ad 75 0b	          lda sr
.1fb5	48		          pha
.1fb6	ad 78 0b	          lda acc
.1fb9	ae 77 0b	          ldx xr
.1fbc	ac 76 0b	          ldy yr
.1fbf	28		          plp
.1fc0	60		          rts

;******  Return to file: dlbug20.asm

>1fc1	34 12		prgend    .word $1234

;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/e-v20-page0.asm

=$01			kvar1     = $01
=$02			kvar2     = $02
=$13			channl    = $13
=$37			memsiz    = $37     ; WORD: Pointeur vers la fin de la mémoire BASIC.
=$57			tmpfp3    = $57     ; 10 octets i.e. 2 fp $57-$5b et $5c-$60
=$61			fac1      = $61     ;  5 octets i.e.      $61-$66
=$69			fac2      = $69     ;  5 octets i.e.      $69-$6e
=$73			chrget    = $73     ; Recup Basic car texte 24 octets i.e. $73-$8a
=$79			chrgot    = $79     ;  ...une seconde fois.
=$7c			chrtst    = $7c
=$90			kiostatus = $90     ; Kernal I/O status word (st) (byte)
=$93			verck     = $93     ; 0=LOAD, 1=VERIFY
=$99			dfltn     = $99     ; Numéro du périphérique d'entrée actuel.
=$9d			msgflg    = $9d     ; Indicateur de contrôle des messages du noyau.
=$a0			time      = $a0     ; 3 octets i.e. HR:$a0, MN:$a1, SC:$a2
=$b7			curfnlen  = $b7     ; Longueur actuelle du nom de fichier (octets).
=$b8			la        = $b8     ; Numéro de fichier logique actuel utilisé.
=$b9			sa        = $b9     ; Adresse secondaire actuellement utilisée.
=$b9			cursecadd = $b9     ; Adresse secondaire actuellement utilisée. (octet).
=$ba			fa        = $ba     ; Numéro de périphérique actuel (octet).
=$ba			curdevno  = $ba     ; Numéro de périphérique actuel (octet).
=$bb			fnadr     = $bb     ; Pointeur de fichier actuel (mot).
=$bb			curfptr   = $bb     ; Pointeur de fichier actuel (mot).
=$c1			stal      = $c1     ;
=$c3			memuss    = $c3     ; Pointeur vers la zone de RAM en cours de chargement.(mot)
=$c6			ndx       = $c6     ; Nombre de caractères (0-10) dans le tampon du clavier.
=$c7			rvs       = $c7     ; Indicateur pour caractères d'écran inversés.
=$d1			scrnlin   = $d1     ; ptr cur-scrn-line
=$d6			tblx      = $d6     ; Curseur : numéro de la ligne physique actuelle sur
=$fb			zp1       = $fb     ; 1er Zpage prog. usager address (word)
=$fb			zpage1    = $fb     ; zero page 1
=$fd			zp2       = $fd     ; 2em Zpage prog. usager address (word)
=$fd			zpage2    = $fd     ; zero page 2 address (word)

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/e-v20-float.asm

=$cfe6			ffpor   =   $cfe6   ; f1=f1 or f2.
=$cfe9			ffpand  =   $cfe9   ; f1=f1 and f2.
=$d1aa			ff1wrday=   $d1aa   ; f1=word->$aayy
=$d1bf			ff1swd64=   $d1bf   ; f1=sw(f1)->64
=$d1d2			ff1wrd64=   $d1d2   ; f1=uw(f1)->64
=$d391			fwrdayf1=   $d391   ; $aayy->f1
=$d3a2			fiyytf1 =   $d3a2   ; f1=float(y)
=$d79e			ff1evalx=   $d79e   ; eval. expr. f1 to x.
=$d7a1			ff1bytxx=   $d7a1   ; f1 to byte in x
=$d7f7			ff1to20 =   $d7f7   ; f1 -> int($14,$15)
=$d849			ff1p05  =   $d849   ; f1=f1+0,5.
=$d850			ffvsf1  =   $d850   ; f1=fv-f1 ($yyaa)
=$d853			ff2sf1  =   $d853   ; f1=f2-f1.
=$d867			ffvpf1  =   $d867   ; f1=fv+f1 ($yyaa)
=$d86a			ff2pf1  =   $d86a   ; f1=f2+f1
=$d8f7			fzerof1 =   $d8f7   ; f1=0.0
=$d947			ff1com2 =   $d947   ; f1=two's compl f1
=$da28			ff1xfv  =   $da28   ; f1=f1*fv ($yyaa)
=$da2b			ff1xf2  =   $da2b   ; f1=f1*f2
=$da59			ff1maa  =   $da59   ; f1=f1*.A
=$da8c			ffvtf2  =   $da8c   ; fv $(yyaa) -> f2
=$dae2			ff1x10  =   $dae2   ; f1=f1*10
=$dafe			ff1d10  =   $dafe   ; f1=f1/10
=$db0f			ffvdf1  =   $db0f   ; f1=fv/f1 ($yyaa)
=$db12			ff2df1  =   $db12   ; f1=f2/f1
=$dbc7			ff1t5c  =   $dbc7   ; Copie f1 vers $5c-$60.
=$dbca			ff1t57  =   $dbca   ; copie f1 vers $57-$5b.
=$dbd0			ff1t49  =   $dbd0   ; copie f1 vers $49-$4a.
=$dbd4			ff1tyx  =   $dbd4   ; Copie f1 mem $yyxx.
=$dbfc			ff2tf1  =   $dbfc   ; copie f2 to f1.
=$dc0c			ff1tf2r =   $dc0c   ; Copie f1 to f2 avec arrondissement.
=$dc0f			ff1tf2  =   $dc0f   ; Copie f1 to f2 sans arrondissement.
=$dc1b			ff1rnd  =   $dc1b   ; f1=round(f1).
=$dc2b			fsngf1  =   $dc2b   ; Tester le signe de FAC1.
=$dc39			ff1sign =   $dc39   ; f1=sgn(f1).
=$dc3c			fiaatf1 =   $dc3c   ; Conv. .A->F1.
=$dc44			fi62tf1 =   $dc44   ; Conv. mot 16 bits $62,$63 a f1.
=$dc58			ff1abs  =   $dc58   ; f1=abs(f1).
=$dc5b			ffvcmp  =   $dc5b   ; f1=f1 comp fv ($yyaa)
=$dc9b			ff1tudw =   $dc9b   ; f1-> 32 octets signé ($62-$65)
=$dccc			ff1int  =   $dccc   ; f1=int(f1).
=$dcf3			fasctf1 =   $dcf3   ; f1=float(ascii)
=$dd7e			ff1pac  =   $dd7e   ; f1=f1+ra val ra=0-9
=$ddcd			fiaxtf1 =   $ddcd   ; f1=float($aaxx)+print
=$dddd			ff1tasc =   $dddd   ; f1 to ascii ($yyaa)
=$df71			ff1sqr  =   $df71   ; f1=sqrt(f1).
=$df7b			ff1ef2  =   $df7b   ; f1=f1^f2
=$dfb4			ff1nf1  =   $dfb4   ; f1=-f1.
=$e261			ffac1cos=   $e261   ; f1=sin(f1+(pi/2)).. FAC1 copié en ram.
=$e264			ff1cos  =   $e264   ; f1=sin(f1+(pi/2)).
=$e26b			ffac1sin=   $e26b   ; f1=sin(f1). FAC1 copié en ram.
=$e26b			ff1sin  =   $e26b   ; f1=sin(f1)
=$e2b1			ffac1tan=   $e2b1   ; f1=sin(f1)/cos(f1). FAC1 copié en ram.
=$e2b4			ff1tan  =   $e2b4   ; f1=sin(f1)/cos(f1)
=$e30e			ffac1atn=   $e30e   ; f1=atn(f1). FAC1 copié en ram.
=$e30e			ff1atn  =   $e30e   ; f1=atn(f1).

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/e-v20-basic-map.asm

=$c000			bcoldst =   $c000   ; Vecteur vers la routine de démarrage à froid BASIC $e378.
=$c002			bwarmst =   $c002   ; Vecteur vers la routine de démarrage à chaud BASIC $e467.
=$c004			cbmBASIC=   $c004   ; Les caractères "CBMBASIC".
=$c00c			bstmdsp =   $c00c   ; Tableau vectoriel de répartition des mots clés, dans
=$c052			bfundsp =   $c052   ; Tableau des vecteurs de répartition des fonctions dans
=$c080			boptab  =   $c080   ; Tableau vectoriel de répartition des opérations
=$c09e			breslst =   $c09e   ; Tableau des mots-clés BASIC dans l'ordre des jetons.
=$c19e			berrtab =   $c19e   ; Tableau des messages d'erreur BASIC.
=$c328			bbmsgs  =   $c328   ; Tableau de Vecteurs de messages d'erreur BASIC.
=$c364			bmiscmsg=   $c364   ; Messages divers.
=$c38a			bscntk  =   $c38a   ; Trouvez les entrées FOR et GOSUB sur la pile.
=$c3b8			bmakspc =   $c3b8   ; Libérer de l'espace en mémoire pour une nouvelle ligne
=$c3bf			bmovebl =   $c3bf   ; Déplacer un bloc de mémoire.
=$c3fb			bstkspc =   $c3fb   ; Vérifiez si l'espace demandée est disponible sur la pile.
=$c408			bramspc =   $c408   ; Vérifiez que l'espace demandé dans la zone dynamique est
=$c435			bmemerr =   $c435   ; Définir le code du message d'erreur OUT OF MEMORY.
=$c437			berror  =   $c437   ; Routine de message d'erreur BASIC.
=$c469			bprdy   =   $c469   ; Afficher ERREUR, ou un autre message indiqué.
=$c474			bready  =   $c474   ; Afficher le message READY.
=$c480			bmain   =   $c480   ; Boucle principale BASIC, recevoir et exécuter ou stocker
=$c49c			bnewlin =   $c49c   ; Stocker/remplacer une ligne de programme BASIC.
=$c533			blnkprg =   $c533   ; Rechaîner les lignes du programme BASIC.
=$c560			bgetlin =   $c560   ; Recevoir les données du périphérique et remplir la
=$c579			bcrnch  =   $c579   ; Tokenisez la ligne BASIC dans le tampon de texte BASIC.
=$c613			bfinlin =   $c613   ; Trouvez la ligne BASIC à partir de son numéro de ligne.
=$c69c			bstxtpt =   $c69c   ; Ramener TXTPTR au début du programme.
=$c71a			bqplop  =   $c71a   ; Liste des mots-clés BASIC détokenisés.
=$c7ae			bnewstt =   $c7ae   ; Recherche (pour exécution) l'instruction BASIC suivante.
=$c7e4			bgone   =   $c7e4   ; Exécutez l'instruction BASIC actuelle.
=$c82c			btststop=   $c82c   ; Testez la touche STOP.
=$c8fb			bbumptp =   $c8fb   ; Incrémenter TXTPTR du montant en .Y.
=$c906			bfind2  =   $c906   ; Scannez le tampon de texte BASIC à 512 ($200) pour les
=$c96b			bdecbin =   $c96b   ; Convertir un numéro de ligne décimal au format LSB/MSB.
=$c9c2			blet2   =   $c9c2   ; LET : Affecter une variable entière.
=$c9da			blet5   =   $c9da   ; LET : Affecter TI$.
=$ca2c			blet8   =   $ca2c   ; LET : Affecter une variable de type chaîne de caractères.
=$ca9a			bprti   =   $ca9a   ; Partie de la routine PRINT.
=$cae8			bprt6   =   $cae8   ; Partie de la routine PRINT.
=$cb1e			bprtstr =   $cb1e   ; Imprimez $YYAA jusqu'à $0d ou jusqu'à ce que le nombre
=$cb3b			bprtos  =   $cb3b   ; Format d'impression des caractères d'espace, de curseur
=$cb4d			bigrerr =   $cb4d   ; Routine de formatage des messages d'erreur pour GET,
=$ccfc			bextra  =   $ccfc   ; Messages d'erreur de INPUT.
=$cd8a			btypchk =   $cd8a   ; Vérification du type de variable.
=$cd9e			bfrmevl =   $cd9e   ; Évaluation de formules/expressions.
=$ce83			beval   =   $ce83   ; Évaluer un seul terme d'une expression.
=$ce8a			bpival  =   $ce8a   ; Le NVF. PI = $82 $49 $0f $da $a1.
=$cef1			bparexp =   $cef1   ; L'évaluation entre parenthèses est effectuée.
=$cef7			brpachk =   $cef7   ; Vérification syntaxique pour ")".
=$cefa			blpachk =   $cefa   ; Vérification syntaxique pour "(".
=$cefd			bcomchk =   $cefd   ; Vérification syntaxique pour ",".
=$ceff			bsynchr =   $ceff   ; Vérification syntaxique d'un caractère spécifique dans
=$cf08			bsynerr =   $cf08   ; Provoquez un message d'ERREUR DE SYNTAXE via un saut
=$cf0d			bfactio =   $cf0d   ; Configurer l'index pour "-" (moins monadique).
=$cf14			bvarrange=  $cf14   ; Vérifier la plage de la variable ?
=$cf28			bfacti2 =   $cf28   ; Obtenir le nom et le type de la variable à partir de
=$cfa7			bfacti7 =   $cfa7   ; Appel une fonction.
=$d016			bcompar =   $d016   ; Comparer des nombres ou des chaînes de caractères.
=$d02e			bcmpst  =   $d02e   ; Comparez les chaînes de caractères.
=$d08b			bevlvar =   $d08b   ; Localiser ou créer une variable.
=$d0e7			bfndvar =   $d0e7   ; Localiser la variable.
=$d113			bchrtst =   $d113   ; Vérifie si le caractère ASCII est alphabétique.
=$d11d			bmakvar =   $d11d   ; Créez une nouvelle variable.
=$d185			bretvp  =   $d185   ; Renvoie l'adresse de la variable trouvée ou créée.
=$d194			baryhed =   $d194   ; Calculer la longueur d'un descripteur de tableau.
=$d1a5			bmaxint =   $d1a5   ; Valeur entière maximale de 32768 en Fonction NVF.:
=$d1aa			bintidx =   $d1aa   ; Convertir les nombres à virgule flottante en nombres à
=$d1b2			bgetsub =   $d1b2   ; Convertir une expression en nombre entier.
=$d1bf			bmakint =   $d1bf   ; Convertir un NVF. en entier signé.
=$d1d1			bary    =   $d1d1   ; Trouver un élément d'un tableau ou créer un tableau.
=$d245			bbadsub =   $d245   ; Affiche le message "BAD SUBSCRIPT".
=$d248			bilquan =   $d248   ; Afficher le message "ILLEGAL QUANTITY".
=$d24d			bary2   =   $d24d   ; Tableau trouvé, vérifiez la plage d'indices.
=$d261			bary6   =   $d261   ; Créer un tableau.
=$d2ea			bary14  =   $d2ea   ; Localiser un élément particulier du tableau.
=$d34c			bmi6    =   $d34c   ; Calculer la taille du tableau multidimensionnel.
=$d391			bmkfp   =   $d391   ; Convertir l'entier .AAYY .Y (LSB) et .A (MSB) en virgule
=$d3a6			bnidirm =   $d3a6   ; Vérifiez si l'instruction est saisie en mode direct.
=$d3ae			bundef  =   $d3ae   ; Émet un message « UNDEF'D FUNCTION » pour EVALFN ($d3f4).
=$d3e1			bfn     =   $d3e1   ; Vérifie la syntaxe de DEF FN et FN.
=$d44f			bevfn3  =   $d44f   ; Stocker les valeurs DEF FN dans le descripteur de
=$d475			balci   =   $d475   ; Calcul le vecteur et la longueur de la nouvelle chaine.
=$d487			bmakstr =   $d487   ; Analyse et configure la chaîne.
=$d4f4			balcspc =   $d4f4   ; Alloue de l'espace mémoire pour une chaîne de caractères.
=$d526			bgrbcol =   $d526   ; Collecteur de dechets.
=$d5b5			bgcoli3 =   $d5b5   ; Vérifiez si la chaîne la plus éligible est à collecter.
=$d606			bcolect =   $d606   ; Collecte en déchets une chaine.
=$d67a			bxferstr=   $d67a   ; Déplacer la chaîne de caractères en mémoire.
=$d6a3			bdelst  =   $d6a3   ; Supprimez une chaîne temporaire.
=$d6db			bdeltsd =   $d6db   ; Nettoyez la pile de descripteurs de chaînes temporaires.
=$d761			bfinlmr =   $d761   ; Obtenir les paramètres de chaîne pour LEFT$, MID$ et
=$d782			bgsinfo =   $d782   ; Obtenez des informations sur la chaîne.
=$d79b			bgetbyt =   $d79b   ; Obtenir un nombre compris entre 0 et 255.
=$d7eb			bgetad  =   $d7eb   ; Récupération de deux paramètres pour POKE et WAIT.
=$d7f7			bmakadr =   $d7f7   ; Convertir le NVF. FAC en un entier
=$d849			badd05  =   $d849   ; Additionner 0,5 à f1.
=$d850			blamin  =   $d850   ; Soustraction du contenu de la mémoire de f1.
=$d862			bplus1  =   $d862   ; Effectuer un prédécalage d'exposant (?) et continue
=$d867			blaplus =   $d867   ; Ajoute FV à f1.
=$d8a7			bplus6  =   $d8a7   ; Rendre le résultat négatif si un emprunt a été effectué.
=$d8f7			bzerfac =   $d8f7   ; Met f1 à zéro et rend le signe positif puisque le
=$d8fe			bnormlz =   $d8fe   ; Renormaliser le résultat f1.
=$d947			bcomfac =   $d947   ; Complément à 2 de f1 entièrement.
=$d97e			boverfl =   $d97e   ; Affiche le message OVERFLOW et quitte.
=$d983			basrres =   $d983   ; Effectuer un prédécalage d'exposant (?) et continue
=$d9bc			bfpci   =   $d9bc   ; Constante de un pour un accumulateur à Fonction NVF.:
=$d9c1			bloggon =   $d9c1   ; Constantes de la fonction LOG.
=$da59			btimes3 =   $da59   ; Sous-programme de multiplication de .A.
=$da8c			blodarg =   $da8c   ; Déplacer la mémoire à virgule flottante vers FAC2.
=$dab7			bmuldiv =   $dab7   ; Additionne les exposants de f1 et f2
=$dae2			bmulten =   $dae2   ; Multiplie f1 par 10.
=$daf9			bfpcten =   $daf9   ; +10 constante à virgule flottante : $84,$20,$00,$00,$00.
=$dafe			bdivten =   $dafe   ; Divise F1 par 10.
=$db0f			bladiv  =   $db0f   ; Déplace le NVF. en mémoire vers f2.
=$dba2			blodfac =   $dba2   ; Déplace le NVF. en mémoire dans f1.
=$dba2			ffvtf1  =   $dba2   ; copie fv $(yyaa) to f1
=$dbc7			bfactf2 =   $dbc7   ; Déplace f1 en mémoire.
=$dbca			bfactf1 =   $dbca   ; Déplace f1 en mémoire.
=$dbd0			bfactfp =   $dbd0   ; Déplace f1 en mémoire.
=$dbd4			bstorfac=   $dbd4   ; Déplace FAC1 en mémoire.
=$dbfc			batof   =   $dbfc   ; Transférer FAC2 vers FAC1.
=$dc0c			brftoa  =   $dc0c   ; Déplace FAC1 vers FAC2, avec arrondissement.
=$dc0f			bftoa   =   $dc0f   ; Déplace FAC1 vers FAC2, sans arrondissement.
=$dc1b			bround  =   $dc1b   ; Arrondir FAC1 en ajustant l'octet d'arrondi.
=$dc2b			bshgfac =   $dc2b   ; Tester le signe de FAC1.
=$dc3c			bintfp  =   $dc3c   ; Convertie .A en NVF. dans FAC1.
=$dc44			bintfp1 =   $dc44   ; Convertir un entier 16 bits ($62,$63) en NVF. dans FAC1.
=$dc5b			bcmpfac =   $dc5b   ; Comparez FAC1 à la mémoire ($YYAA).
=$dc9b			bfpint  =   $dc9b   ; Convertir FAC1 en entier signé. dans $62-$65 Double-mot
=$dce9			bfilfac =   $dce9   ; Stockez le contenu de .A dans les emplacements ($62-$65).
=$dcf3			bascflt =   $dcf3   ; Convertir une chaîne ASCII en un NVF. dans FAC1.
=$dd7e			basc18  =   $dd7e   ; Aditionne .A à FAC1.
=$ddb3			bfpc12  =   $ddb3   ; Constante de conversion de chaîne de caractères en NVF.
=$ddc2			bprtin  =   $ddc2   ; Émet le message IN.
=$ddcd			bprtfix =   $ddcd   ; Routine d'affichage des nombres décimaux.
=$dddd			bfltasc =   $dddd   ; Convertir FAC en TI$ ou en chaîne ASCII.
=$df11			bflp05  =   $df11   ; 0,5 constante pour l'arrondi et SQR.
=$df16			bfltcon =   $df16   ; Table des puissances de 10, au format entier fixe de
=$df3a			bhmscon =   $df3a   ; Constantes pour la conversion de division TI$, au format
=$dfbf			bexpcon =   $dfbf   ; Tableau pour EXP, au format à virgule flottante.
=$e040			bserevl =   $e040   ; Routine d’évaluation des séries.
=$e056			bser2   =   $e056   ; Routine d'évaluation des séries mathématiques.
=$e08a			brndc1  =   $e08a   ; Tableau des constantes pour RND.
=$e0f6			bpatchbas=  $e0f6   ; Routines de patch BASIC.
=$e1d1			bparsl  =   $e1d1   ; Définie les paramètres LOAD, VERIFY et SAVE.
=$e203			bifchrg =   $e203   ; Vérifiez si la commande actuelle contient d'autres
=$e20b			bskpcom =   $e20b   ; Ignorer toute virgule dans les paramètres analysés.
=$e20e			bchrerr =   $e20e   ; S'assurez qu'un paramètre soit présent après une virgule.
=$e216			bparoc  =   $e216   ; Gérer les paramètres de OPEN et CLOSE.
=$e2dd			bfpc20  =   $e2dd   ; Valeurs des constantes d'évaluation trigonométriques
=$e33b			batncon =   $e33b   ; Tableau des valeurs constantes pour l'évaluation ATN.
=$e378			bcoldba =   $e378   ; Effectue un démarrage à froid de BASIC.
=$e387			bcgimag =   $e387   ; La routine CHRGET et la graine RND doivent être copiées
=$e3a4			binitba =   $e3a4   ; Initialisation de BASIC : Restauration de CHRGET et des
=$e404			bfremsg =   $e404   ; Afficher le message de démarrage à froid de BASIC.
=$e429			bcbmmsg =   $e429   ; Message de démarrage à froid de BASIC.
=$e44f			bbasvctrs=  $e44f   ; Six vecteurs BASIC à copier à l'emplacement 768 ($300).
=$e45b			binitvctrs= $e45b   ; Copie des vecteurs BASIC de la ROM vers la RAM.
=$e467			bwarmbas=   $e467   ; Effectue un démarrage à chaud de BASIC.
=$e476			bpatcher=   $e476   ; Zone de "patch" programme.

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/e-v20-kernal-map.asm

=$0100			fascii    = $0100   ;region conv FP a ascii
=$0286			kcol      = $0286   ;Couleur car affiche.
=$a000			basicrom  = $a000
=$d000			chargen   = $d000
=$9000			vic       = $9000
=$9110			via1      = $9110   ;cia1 base address
=$dd00			via2      = $dd00   ;cia2 base address
=$e000			kernalrom = $e000
=0			eot       =    0
=8			discase   =    8
=9			enacase   =    9
=14			locase    =    14
=17			crsdown   =    17
=18			revson    =    18
=19			gohome    =    19
=20			delete    =    20
=29			crsright  =    29
=142			upcase    =    142
=145			crsup     =    145
=157			crsleft   =    157
=146			revsoff   =    146
=147			clrhome   =    147
=$03			bstop     =   $03      ;stop
=$05			bwhite    =   $05      ;set colour white
=$08			block     =   $08      ;lock the charset
=$09			bunlock   =   $09      ;unlock the charset
=$0d			bcarret   =   $0d
=$0e			btext     =   $0e
=$11			bcrsdn    =   $11      ;cursor down 1 line
=$12			brevcol   =   $12
=$13			bhome     =   $13
=$14			bdelete   =   $14
=$1c			bred      =   $1c
=$1d			bcuright  =   $1d
=$1e			bgreen    =   $1e
=$1f			bblue     =   $1f
=$81			borange   =   $81
=$83			blrun     =   $83
=$85			bfkey1    =   $85
=$86			bfkey2    =   $86
=$87			bfkey3    =   $87
=$88			bfkey4    =   $88
=$89			bfkey5    =   $89
=$8a			bfkey6    =   $8a
=$8b			bfkey7    =   $8b
=$8c			bfkey8    =   $8c
=$8d			bcarret1  =   $8d
=$8e			bgraph    =   $8e
=$90			bblack    =   $90
=$91			bcuup     =   $91
=$92			brevoff   =   $92
=$93			bclear    =   $93
=$94			binsert   =   $94
=$95			bbrown    =   $95
=$96			bltred    =   $96
=$97			bdkgrey   =   $97
=$98			bmdgrey   =   $98
=$99			bltgreen  =   $99
=$9a			bltblue   =   $9a
=$9b			bltgrey   =   $9b
=$9c			bmagenta  =   $9c
=$9d			bculeft   =   $9d
=$9e			byellow   =   $9e
=$9f			bcyan     =   $9f
=$0286			carcol  = $0286
=$030a			ieval   = $030a
=$0			enoir       = $0
=$1			eblanc      = $1
=$2			erouge      = $2
=$3			eocean      = $3
=$4			emauve      = $4
=$5			evert       = $5
=$6			ebleu       = $6
=$7			ejaune      = $7
=$8			eorange     = $8
=$9			ebrun       = $9
=$a			erose       = $a
=$b			egrisfonce  = $b
=$c			egrismoyen  = $c
=$d			evertpale   = $d
=$e			ebleupale   = $e
=$f			egrispale   = $f
=144			snoir       = 144
=5			sblanc      = 5
=28			srouge      = 28
=159			socean      = 159
=156			smauve      = 156
=30			svert       = 30
=31			sbleu       = 31
=158			sjaune      = 158
=$e4a0			serout1 = $e4a0 ; Serial: Output a 1 on the serial data line.
=$e4a9			serout0 = $e4a9 ; Serial: Output a 0 on the serial data line.
=$e4b2			serget  = $e4b2 ; Serial: Get an input bit from VIA1 and stabilize.
=$e4bc			patches = $e4bc ; Program patch area.
=$e500			iobase  = $e500 ; ($e500) Define i/o memory page
=$e505			screen  = $e505 ; Return screen format
=$e50a			plot    = $e50a ; Set or retrieve cursor location x=column, y=line
=$e518			initsk  = $e518 ; Initialize 6550 Vic Chip, screen and related pointers.
=$e55f			clsr    = $e55f ; Clear the screen.
=$e55f			home    = $e55f ; Move the cursor to the screen home position.
=$e587			setslink= $e587 ; Reset the screen line link table pointers.
=$e5b5			unusdnmi= $e5b5 ; NMI entry for restore key (No entry for this routine found.)
=$e5bb			setiodef= $e5bb ; Reset the default device number.
=$e5c3			initvic = $e5c3 ; Reset the vic chip registers.
=$e5cf			lp2     = $e5cf ; Get a character from the keyboard queue and shift it down.
=$e5e5			getque  = $e5e5 ; Wait for character to appear in the keyboard buffer.
=$e619			get2rtn = $e619 ; Empty the keyboard buffer up to a carriage return.
=$e64f			getscrn = $e64f ; Optain input from screen.
=$e6b8			quoteck = $e6b8 ; Test for quote and set flag.
=$e6c5			setchar = $e6c5 ; Set up diaplay of a character on the screen.
=$e6ea			scroll  = $e6ea ; advance the cursor on the screen, adds lines, and scroll.
=$e72d			retreat = $e72d ; Backup the cursor into the previous ligical screen line from
=$e742			scrnout = $e742 ; Handle characters going to the screen.
=$e8c3			nxtline = $e8c3 ; Advance cursor to the next logical line.
=$e8d8			rtrn    = $e8d8 ; Handle the carriage return key.
=$e8e8			backup  = $e8e8 ; Move the corsor to the end of the previoud physical screen
=$e8fa			forward = $e8fa ; Move the cursor to the start of the next screen line if the
=$e912			colourset=$e912 ; Set the current foreground colour code.
=$e921			colourtbl=$e921 ; Colour code key table.
=$e929			cnvrtcd = $e929 ; Code conversion table.
=$e975			scrl    = $e975 ; Scroll the screen.
=$e9ee			openlin = $e9ee ; Open up a blank physical line on the screen for inserts.
=$ea56			movline = $ea56 ; Move screen line.
=$ea6e			setaddr = $ea6e ; The address of the screen line + color line is set in memory.
=$ea7e			linptr  = $ea7e ; Set a pointer to the address of the start of the screen line.
=$ea8d			clraline= $ea8d ; Blank out a physical screen line.
=$eaa1			synptr  = $eaa1 ; Synchronize color to byte and store character on screen.
=$eaaa			putscrn = $eaaa ; store a character on the screen.
=$eab2			colorsyn= $eab2 ; The address of the color map byte for screen map byte is
=$eabf			irq     = $eabf ; IRQ interupt handler.
=$eb1e			scnkey  = $eb1e ; Scan the keyboard
=$ebdc			setkeys = $ebdc ; Set keyboard decode table address in 245-246 ($f6-$f6).
=$ec46			keyvctrs= $ec46 ; Keyboard decode table addresses.
=$ec5e			normkeys= $ec5e ; Table used for decoding unshifted keys into ascii.
=$ec9f			shftkeys= $ec9f ; Table used for decoding SHIFTed keys into ascii.
=$ece0			logokeys= $ece0 ; Table used for decoding Commodore SHIFTed keys into ascii.
=$ed21			charset = $ed21 ; Used to set uppercase/graphics character set.
=$ed30			graphmode=$ed30 ; Set the environment specified by graphics control characters.
=$ed5b			wrapline= $ed5b ;
=$ed69			whatkeys= $ed69 ; Apparently unused keyboard decoding table.
=$eda3			ctrlkeys= $eda3 ; Table used for decoding CTRL SHIFT keys into ascii.
=$ede4			vicinit = $ede4 ; Initial values for VIC chip registers.
=$edf4			runtb   = $edf4 ; LOAD and RUN words for the SHIFT and RUN keys.
=$edfd			ldtb2   = $edfd ; Screen line link table LSB of line in screen map.
=$ee14			talk    = $ee14 ; Send Talk command to serial bus.
=$ee17			listen  = $ee17 ; Command a device on the serial bus to listen.
=$ee1c			listi   = $ee1c ; Serial: Prepare to send serial command with attention.
=$ee49			srsend  = $ee49 ; Serial: Send command or data to serial device.
=$eeb4			srbad   = $eeb4 ; Serial: Set ST for timeout or DEVICE NOT PRESENT.
=$eec0			second  = $eec0 ; Send secondary address after listen
=$eec5			scatn   = $eec5 ; Serial: Clear attention.
=$eece			tksa    = $eece ; Send a secondary address to a device commanded to talk
=$eee4			ciout   = $eee4 ; Transmit a byte over the serial bus
=$eef6			untlk   = $eef6 ; Send an untalk command
=$ef04			unlsn   = $ef04 ; Send an unlisten command
=$ef19			acptr   = $ef19 ; Recoit un caractere provenant du port serie
=$ef84			srclkhi = $ef84 ; Serial: Set clock line high.
=$ef8d			srclklo = $ef8d ; Serial: Set clock line low.
=$ef96			waitabit= $ef96 ; Serial: Delay one millisecond.
=$efa3			rsnxtbit= $efa3 ; RS-232: Send the next bin (NMI continuation routine).
=$efbf			rsprty  = $efbf ; RS-232: Calculate barity and stop bits value.
=$efe8			rsstops = $efe8 ; RS-232: Transmit stop bits.
=$efee			rsnxtbyt= $efee ; RS-232: Prepare the next byte to be send from send buffer.
=$f016			rsmissing=$f016 ; RS-232: Set Clear To Send or Data Set Ready Missing status.
=$f027			rscptbit= $f027 ; RS-232: Compute desire word lenght bit count.
=$f036			rsinbit = $f036 ; RS-232: Recieve an input bit (NMI driven).
=$f04b			rsstpbit= $f04b ; RS-232: Determine if all the stop bits have been recieved yet.
=$f05b			rsprepin= $f05b ; RS-232: Prepare to recieve the next input byte.
=$f068			rsstrbit= $f068 ; RS-232: Check for start bit in recieve mode.
=$f06f			rsinbyte= $f06f ; RS-232: Put constructed byte into reciebe buffer.
=$f08b			rsinprty= $f08b ; RS-232: Parity checking of the input byte.
=$f09d			rsprtyer= $f09d ; RS-232: Parity error on input byte.
=$f0a2			rsoverun= $f0a2 ; RS-232: Buffer overrun on input byte.
=$f0a5			rsbreak = $f0a5 ; RS-232: Break detected on input.
=$f0a8			rsframer= $f0a8 ; RS-232: Framing error on input.
=$f0aa			rsinerr = $f0aa ; RS-232: Set input error status and continue.
=$f0b9			rsdvcerr= $f0b9 ; RS-232: ILLEGAL DEVICE message for LOAD or SAVE.
=$f0bc			rsopnout= $f0bc ; RS-232: Open an RS-232 channel for output.
=$f0ed			rsoutsav= $f0ed ; RS-232: Store a character in the transmit buffer.
=$f102			rsprepot= $f102 ; RS-232: Set up NMI for transmission.
=$f116			rsopnin = $f116 ; RS-232: Open an RS-232 channel for input.
=$f14f			rsnxtin = $f14f ; RS-232: Retrieve the next character from the recieve buffer.
=$f160			rspause = $f160 ; RS-232: Check if serial and tape are idle, protect from RS232.
=$f174			kmsgtbl = $f174 ; Table of KERNAL messages.
=$f1e2			spmsg   = $F1e2 ; Display LOADING or VERIFYING if control messages wanted.
=$f1e6			kmsgshow= $f1e6 ; Print KERNAL control messages.
=$f1f5			getin   = $f1f5 ; Get a character.
=$f20e			ibasin  = $f20e ; Get a character from the input channel
=$f20e			chrin   = $f20e ; Description:
=$f230			chrintp = $f230 ; Obtain a byte from the tape buffer.
=$f250			chrintp2= $f250 ; Load .A with next tape character, getting block when needed.
=$f264			chrinsr = $f264 ; Obtain a byte from the serial line.
=$f26f			chrinrs = $f26f ; RS-232: Obtain a byte from the rs-232 device.
=$f27a			chrout  = $f27a ; Output character to current output device.
=$f290			chrouttp= $f290 ; Output a character to tape.
=$f2c7			chkin   = $f2c7 ; Define an input channel.
=$f309			chkout  = $f309 ; Define an output channel.
=$f34a			close   = $f34a ; (Close a logical file
=$f3cf			fndflno = $f3cf ; Find file number (.x) in file table at 601 ($0259).
=$f3df			setflch = $f3df ; Set file characteristics of file (.x) into 184-186 ($b8-$ba).
=$f3ef			clall   = $f3ef ; Close all open files
=$f3f3			clrchn  = $f3f3 ; Clear all i/o channels.
=$f40a			open    = $f40a ; Open a logical file
=$f495			sername = $f495 ; Send secondary address and filename to serial device.
=$f4c7			openrs  = $f4c7 ; RS-232: open RS-232 device.
=$f542			load    = $f542 ; Load device to RAM.
=$f55c			loadser = $f55c ; Load or Verify from serial device.
=$f5d1			loadtp  = $f5d1 ; Load or Verify from tape.
=$f647			srching = $f647 ; Display SEARCHING message for tape device.
=$f659			filename= $f659 ; Display the filename.
=$f66a			ldvrmsg = $f66a ; Display LOADING or VERIFYING message.
=$f675			save    = $f675 ; Save memory to a device.
=$f692			saveser = $f692 ; Save RAM to serial device (except: RS-232,screen or keyboard).
=$f6f1			savetp  = $f6f1 ; Save RAM to tape.
=$f728			saving  = $f728 ; Display SAVING message.
=$f734			udtim   = $f734 ; Update the system clock
=$f760			rdtim   = $f760 ; Read system clock
=$f767			settim  = $f767 ; Set the system clock.
=$f770			stop    = $f770 ; Check if stop key is pressed.
=$f77e			filemsg = $f77e ; I/O error file error message handler.
=$f7af			fah     = $f7af ; Tape: find next tape header, .X back contains header ID#.
=$f7e7			tapeh   = $f7e7 ; Tape: Build an output tape header in the tape buffer area.
=$f84d			tpbufa  = $f84d ; Tape: Load tape buffer address from 178-179($b2-$b3) in .X .Y.
=$f854			ldad1   = $f854 ; Tape: Set Load/Save starting and ending pointers to the tape.
=$f867			fndhrd  = $f867 ; Tape: Find the tape header for a specified filename (or next).
=$f88a			jtp20   = $f88a ; Tape: Increment the tape buffer character counter.
=$f894			cstel   = $f894 ; Tape: Display PRESS PLAY ON TAPE message.
=$f8ab			csio    = $f8ab ; Tape: Check Tape's play/rewind/forward button status.
=$f8b7			cste2   = $f8b7 ; Tape: Display PRESS RECORD & PLAY ON TAPE message.
=$f8c0			rdtpblks= $f8c0 ; Tape: Initiate tape header read.
=$f8c9			rblk    = $f8c9 ; Tape: Read blocks from tape.
=$f8e3			wblk    = $f8e3 ; Tape: Write blocks to tape.
=$f8f4			tape    = $f8f4 ; Tape: Common tape read/write, start tape operations,
=$f94b			tstop   = $f94b ; Tape: Check for the STOP key.
=$f95d			stti    = $f95d ; Tape: Set time limit for tape dispole.
=$f98e			readt   = $f98e ; Tape: Read tape data bits into location 191 ($bf) (IRQ driven)
=$faad			tpstore = $faad ; Tape: Determin if to store the input character from tape.
=$fbd2			rd300   = $fbd2 ; Tape: Called to reset the tape read pointer.
=$fbdb			newch   = $fbdb ; Tape: New tape character setup.
=$fbea			tptogle = $fbea ; Tape: Toggle the tape write line to invert the output signal.
=$fc06			blkend  = $fc06 ; Tape: End of block write processing.
=$fc0b			write   = $fc0b ; Tape: Data write (IRQ driven).
=$fc95			wrtni   = $fc95 ; Tape: Block leader write (IRQ driven).
=$fca8			wrtz    = $fca8 ; Tape: Leader write (IRQ driven).
=$fccf			tnif    = $fccf ; Tape: Restore IRQ vector.
=$fcf6			bsiv    = $fcf6 ; Tape: Reset the current IRQ vector.
=$fd08			tnoff   = $fd08 ; Tape: Kill motor.
=$fd11			vrpty   = $fd11 ; Comnpare current to end of load/save pointers (tape & serial).
=$fd1b			wrt62   = $fd1b ; Increment current load/save pointer (tape & serial).
=$fd22			start   = $fd22 ; Power-on/reset routine (check for autostart cartridge).
=$fd3f			chkauto = $fd3f ; Check for an autostarting program at $a000. if equ a0cbm
=$fd4d			a0cbm   = $fd4d ; A0CBM characters with the high order bit on in the last 3
=$fd52			restor  = $fd52 ; Restore default I/O vectors.
=$fd57			vector  = $fd57 ; ($fd1a) Read/set I/O vectors.
=$fd6d			vectors = $fd6d ; Default system vector address storage table.
=$fd8d			initmem = $fd8d ; Initialize system memory.
=$fdf1			irqvctrs= $fdf1 ; IRQ vectors table.
=$fdf9			initvis = $fdf9 ; Initialize the 6522 VIA registers.
=$fe49			setnam  = $fe49 ; Set up file name
=$fe50			setlfs  = $fe50 ; Set up a logical file
=$fe57			readst  = $fe57 ; Read i/o status word
=$fe66			setmsg  = $fe66 ; Set kernal message output flag
=$fe68			readiost= $fe68 ; Load .A with the non-RE-232 I/O status ST.
=$fe6f			settmo  = $fe6f ; Set ieee bus card timeout flag
=$fe73			memtop  = $fe73 ; Get/Set top of ram
=$fe82			membot  = $fe82 ; Get/set bottom of memory.
=$fe91			tstmem  = $fe91 ; Test a memory location.
=$fea9			nmi     = $fea9 ; NMI handler routine.
=$fed2			break   = $fed2 ; BREAK interupt entry.
=$fede			rsnmi   = $fede ; RS-232: nmi sequence.
=$ff56			krti    = $ff56 ; Restore 6502 registers frm the stack and return frm interrupt.
=$ff5c			baudtbl = $ff5c ; RS-232: VIA timer 2 values for baud rate table.
=$ff72			irqrout = $ff72 ; irq routine initial 6502 entry point.
=$ff85			c4ffs   = $ff85 ; five unused bytes of 255 ($ff).
=$ff8a			crestor = $ff8a ; Jump to 64850 ($fd52) RESTOR.
=$ff8d			cvector = $ff8d ; Jump to 64855 ($fd57) VECTOR.
=$ff90			csetmsg = $ff90 ; Jump to 65126 ($fe66) SETMSG.
=$ff93			csecond = $ff93 ; Jump to 61120 ($eec0) SECOND.
=$ff96			ctksa   = $ff96 ; Jump to 61134 ($eece) TKSA.
=$ff99			cmemtop = $ff99 ; Jump to 65139 ($fe73) MEMTOP.
=$ff9c			cmembot = $ff9c ; Jump to 65154 ($fe82) MEMBOT.
=$ff9f			cscnkey = $ff9f ; Jump to 60190 ($eb1e) SCNKEY.
=$ffa2			csettmo = $ffa2 ; Jump to 65135 ($fe6f) SETTMO.
=$ffa5			cacptr  = $ffa5 ; Jump to 61209 ($ef19) ACPTR.
=$ffa8			cciout  = $ffa8 ; Jump to 61156 ($eee4) CIOUT.
=$ffab			cuntlk  = $ffab ; Jump to 61174 ($eef6) UNTLK.
=$ffae			cunlsn  = $ffae ; Jump to 61188 ($ef04) UNLSN.
=$ffb1			clisten = $ffb1 ; Jump to 60951 ($ee17) LISTEN.
=$ffb4			ctalk   = $ffb4 ; Jump to 60948 ($ee14) TALK.
=$ffb7			crdst   = $ffb7 ; Jump to 65111 ($fe57) READST.
=$ffba			csetlfs = $ffba ; Jump to 65104 ($fe50) SETLFS.
=$ffbd			csetnam = $ffbd ; Jump to 65097 ($fe49) SETNAM.
=$ffc0			copen   = $ffc0 ; Jump off 794-795 ($031a-$031b) IOPEN.
=$ffc3			cclos   = $ffc3 ; Jump off 796-797 ($031c-$031d) ICLOSE.
=$ffc6			inpchn  = $ffc6 ; Jump off 798-799 ($031e-$031f) ICHKIN.
=$ffc9			outchn  = $ffc9 ; Jump off 800-801 ($0320-$0321) ICKOUT.
=$ffcc			cclrchn = $ffcc ; Jump off 802-803 ($0322-$0323) ICLRCH.
=$ffcf			cinch   = $ffcf ; Jump off 804-805 ($0324-$0325) IBASIN.
=$ffd2			cchrout = $ffd2 ; Jump to 62074 ($f27a) CHROUT.
=$ffd5			cload   = $ffd5 ; Jump to 67286 ($f542) LOAD.
=$ffd8			csave   = $ffd8 ; Jump to 63093 ($f675) SAVE.
=$ffdb			csettim = $ffdb ; Jump to 63335 ($f767) SETTIM.
=$ffde			crdtim  = $ffde ; Jump to 63328 ($f760) RDTIM.
=$ffe1			iscntc  = $ffe1 ; Jump off 808-809 ($0328-$0329) ISTOP.
=$ffe4			cgetl   = $ffe4 ; Jump off 810-811 ($032a-$032b) IGETIN.
=$ffe7			ccall   = $ffe7 ; Jump off 812-813 ($032c-$032d) ICALL.
=$ffea			cudtim  = $ffea ; Jump to 63284 ($f734) UDTIM.
=$ffed			cscreen = $ffed ; Jump to 58629 ($e505) SCRN.
=$fff0			cplot   = $fff0 ; Jump to 58634 ($e50a) PLOT.
=$fff3			ciobase = $fff3 ; Jump to 58624 ($e500) IOBASE.
=$fffa			vctrnmi = $fffa ; 6502 vector to 65193 ($fea9) NMI.
=$fffc			vctrrst = $fffc ; 6502 vector to 64802 ($fd22) START.
=$fffe			vctrirq = $fffe ; 6502 vector to 65394 ($ff72) BREAK.
=$e043			kd_poly1     =   $e043
=$e059			kd_poly2     =   $e059
=$e08d			kd_rmulc     =   $e08d       ;
=$e092			kd_raddc     =   $e092       ;
=$e097			kd_rnd       =   $e097
=$e12a			kd_sys       =   $e12a
=$e156			kd_save      =   $e156
=$e165			kd_verify    =   $e165
=$e168			kd_load      =   $e168
=			kcint       =   cint        ;   , init vic + ecran.
=			kioinit     =   ioinit      ;   , init i/o dev.
=			kramtas     =   ramtas      ;   , test de memoire.
=$eee4			kciout      =   ciout       ;a  ,tx byte  acia
=$fd52			krestor     =   restor      ;   , set ram plafond
=$fd57			kvector     =   vector      ;
=$fe66			ksetmsg     =   setmsg      ;a  , set sys. msg. out
=$eec0			ksecond     =   second      ;a  , tx adresse sec.
=$eece			ktksa       =   tksa        ;a  , talk adresse sec.
=$fe73			kmemtop     =   memtop      ; yx, (c) get mem high
=$fe82			kmembot     =   membot      ; yx, (c) get mem low
=			kscankey    =   scankey     ;   , scan clavier
=$fe6f			ksettmo     =   settmo      ;a  , set ieee timeout
=$ef19			kacptr      =   acptr       ;a  ,rx serie.
=$eef6			kuntlk      =   untlk       ;   , iec-cmc stop talk
=$ef04			kunlsn      =   unlsn       ;   , iec-cmd stop lsn
=$ee17			klisten     =   listen      ;a  , iec-cmd dev ecout
=$ee14			ktalk       =   talk        ;a  , iec-cmd dev parle
=$fe57			kreadst     =   readst      ;a  , lecture i/o stats
=$fe50			ksetlfs     =   setlfs      ;ayx, init fich logi.
=$fe49			ksetnam     =   setnam      ;ayx, init num.nom.fich
=$f40a			kopen       =   open        ;axy, ouvre fich-nom
=$f34a			kclose      =   close       ;a  , ferme fichier #a.
=$f2c7			kchkin      =   chkin       ;  x,open canal in.
=$f309			kchkout     =   chkout      ;  x,open canal out
=$f3f3			kclrchn     =   clrchn      ;   , ferme canaux i/o.
=$f20e			kchrin      =   chrin       ;a  ,recup. un car.
=$f27a			kchrout     =   chrout      ;a  ,sort un car.
=$f1ca			kd_chrout    =   $f1ca
=$f542			kload       =   load        ;ayx, dev->ram
=$f675			ksave       =   save        ;   , sauve mem->dev
=$f767			ksettim     =   settim      ;axy, init sysclock
=$f760			krdtim      =   rdtim       ;axy, lecture sysclock
=$f770			kstop       =   stop        ;a  , ret. stopkey stat
=$f1f5			kgetin      =   getin       ;a  , recup. car. #dev.
=$f3ef			kclall      =   clall       ;   , ferme fichiers.
=$f734			kudtim      =   udtim       ;   , maj sysclock
=$e505			kscreen     =   screen      ; yx, get format ecran
=$e50a			kplot       =   plot        ; yx, (c) get csr pos.
=$e500			kiobase     =   iobase      ; yx, def. i/o mem page
=$e39a			k_echostartup = $e39a
=$e716			k_putch       = $e716 ; 52) Print a character.          ;a--;---; a = char
=$e7a0			k_cls         = $e7a0
=$e87c			k_cursordown  = $e87c
=$e8ea			k_scrollup    = $e8ea
=$e94e			k_home        = $e94e
=$e965			k_insertline  = $e965
=$e9c8			k_screlldown  = $e9c8
=$ed0c			k_devsndlstn  = $ed0c ; 55) Send 'LISTEN'>IEEE/Serial.  ;a--;---; a = dev #
=$ee13			k_ieeein      = $ee13 ; 60) Input from IEEE/Serial.     ;---;a--; a = Data byte
=$eef6			k_devsndutalk = $eef6 ; 58) Send 'UNTALK'>IEEE/Serial.  ;---;---;
=$ef04			k_devsndulstn = $ef04 ; 59) Send 'UNLISTEN'>IEEE/Serial.;---;---;
=$f12f			k_putsysmsg   = $f12f ; 53) Print system message.       ;--y;---; y = msg offset
=$f291			k_cloself     = $f291 ; 61) Close logical file .        ;a--;---; a = file #
=$f49e			k_loadsub     = $f49e ; 63) LOAD subroutine.            ;axy;---; a = # start=yyxx
=$f5af			k_prnsrch     = $f5af ; 64) Print SEARCHING if imm mode.;---;---;
=$f5b3			k_echosearch  = $f5b3 ; 64b) Skipping test part of 64.  ;---;---;
=$f5c1			k_prnfnam     = $f5c1 ; 65) Print filename.             ;---;---;
=$f6ed			k_stop        = $f6ed ; 62) Check for STOP key.         ;---;---; z = 1 pressed
=$f7ea			k_gettaphdblk = $f7ea ; 66) Find a tape hdr blk.        ;a--;---; a = len
=$f7ea			k_fndtaphdblk = $f7ea ; 67) Find any tape hdr blk.      ;---;---;
=$f817			k_waittapplay = $f817 ; 68) Press PLAY... (wait)        ;---;---;
=$f841			k_rdtape2buff = $f841 ; 69) Read tape to buffer.        ;---;---;
=$f847			k_readtape    = $f847 ; 70) Read tape.                  ;---;---;
=$f864			k_wrbuff2tape = $f864 ; 71) write buffer to tape.       ;---;---;
=$f869			k_wrtape      = $f869 ; 72) write tape.                 ;a--;---; a = ldr len
=$fb8e			k_resettapeio = $fb8e ; 73) Reset tape I/O.             ;---;---;
=$fcbd			k_setintvect  = $fcbd ; 74) set interupt vector.        ;---;---;
=$fce2			k_coldreset   = $fce2 ; 75) Power on reset.             ;---;---;
=$fce2			k_coldstart   = $fce2 ; 75) Power on reset.             ;---;---;
=$fce2			k_coldboot    = $fce2 ; 75) Power on reset.             ;---;---;
=$fe66			k_warmreset   = $fe66 ;     Warm resetstart
=$fe66			k_warmboot    = $fe66 ;     Warm resetstart
=$ff93			k_devsndaddr2 = $ff93 ; 56) Send second address.        ;a--;---; a = SA or #$60
=0			kerr00 = 0      ; routine ended by the stop key.
=1			kerr01 = 1      ; too many files open.
=2			kerr02 = 2      ; file already open.
=3			kerr03 = 3      ; file not open.
=4			kerr04 = 4      ; file not found.
=5			kerr05 = 5      ; device not present.
=6			kerr06 = 6      ; file is not an input file.
=7			kerr07 = 7      ; file is not an output file.
=8			kerr08 = 8      ; file name is missing.
=9			kerr09 = 9      ; illegal device number.
=240			kerrf0 = 240    ; top-of-memory change rs-232 buffer allocation.
.1fc3	4c 56 12	pgmstart        jmp      main  ; le programme principale doit s'appeler "main"

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/e-v20-vic.asm

=$9000			vic0      = $9000;ABBBBBBB
=$9001			vic1      = $9001;CCCCCCCC
=$9002			vic2      = $9002;HDDDDDDD
=$9003			vic3      = $9003;GEEEEEEF
=$9004			vic4      = $9004;GGGGGGGG
=$9005			vic5      = $9005;HHHHIIII
=$9006			vic6      = $9006;JJJJJJJJ
=$9007			vic7      = $9007;KKKKKKKK
=$9008			vic8      = $9008;LLLLLLLL
=$9009			vic9      = $9009;MMMMMMMM
=$900a			vicbas    = $900a;NRRRRRRR
=$900a			vic10     = $900a;NRRRRRRR
=$900b			vicalt    = $900b;OSSSSSSS
=$900b			vic11     = $900b;OSSSSSSS
=$900c			vicsop    = $900c;PTTTTTTT
=$900c			vic12     = $900c;PTTTTTTT
=$900d			vicnoi    = $900d;QUUUUUUU
=$900d			vic13     = $900d;QUUUUUUU
=$900e			vicvol    = $900e;WWWWVVVV
=$900e			vic14     = $900e;WWWWVVVV
=$900f			vic15     = $900f;XXXXYZZZ
=$00			vnoir    =   %00000000
=$01			vblanc   =   %00000001
=$02			vrouge   =   %00000010
=$03			vocean   =   %00000011
=$04			vmauve   =   %00000100
=$05			vvert    =   %00000101
=$06			vbleu    =   %00000110
=$07			vjaune   =   %00000111
=$08			vorange  =   %00001000
=$09			vorangep =   %00001001
=$0a			vrose    =   %00001010
=$0b			voceanp  =   %00001011
=$0c			vmauvep  =   %00001100
=$0d			vvert2   =   %00001101
=$0d			vvertp   =   %00001101
=$0e			vbleu1   =   %00001110
=$0e			vbleup   =   %00001110
=$0f			vjaunep   =   %00001111
=$08			vinv      = vorange
=133			v1do1     =    133  ; 32.703-  32.746- 0.131 %
=140			v1dod1    =    140  ; 34.648-  34.739- 0.264 %
=146			v1re1     =    146  ; 36.708-  36.651- 0.155 %
=152			v1red1    =    152  ; 38.891-  38.786- 0.269 %
=158			v1mi1     =    158  ; 41.203-  41.186- 0.043 %
=163			v1fa1     =    163  ; 43.654-  43.424- 0.526 %
=169			v1fad1    =    169  ; 46.249-  46.453- 0.442 %
=173			v1so1     =    173  ; 48.999-  48.720- 0.571 %
=178			v1so1d    =    178  ; 51.913-  51.883- 0.058 %
=182			v1la1     =    182  ; 55.000-  54.726- 0.498 %
=186			v1lad1    =    186  ; 58.270-  57.899- 0.638 %
=190			v1si1     =    190  ; 61.735-  61.462- 0.444 %
=194			v1do2     =    194  ; 65.406-  65.492- 0.131 %
=197			v1dod2    =    197  ; 69.296-  69.478- 0.264 %
=201			v1re2     =    201  ; 73.416-  73.303- 0.155 %
=204			v1red2    =    204  ; 77.782-  77.573- 0.269 %
=207			v1mi2     =    207  ; 82.407-  82.371- 0.043 %
=209			v1fa2     =    209  ; 87.307-  86.848- 0.526 %
=212			v1fad2    =    212  ; 92.499-  92.907- 0.442 %
=214			v1so2     =    214  ; 97.999-  97.439- 0.571 %
=217			v1so2d    =    217  ;103.826- 103.766- 0.058 %
=219			v1la2     =    219  ;110.000- 109.452- 0.498 %
=221			v1lad2    =    221  ;116.541- 115.797- 0.638 %
=223			v1si2     =    223  ;123.471- 122.923- 0.444 %
=224			v1do3     =    224  ;130.813- 130.984- 0.131 %
=226			v1dod3    =    226  ;138.591- 138.957- 0.264 %
=228			v1re3     =    228  ;146.832- 146.606- 0.155 %
=229			v1red3    =    229  ;155.563- 155.146- 0.269 %
=231			v1mi3     =    231  ;164.814- 164.742- 0.043 %
=232			v1fa3     =    232  ;174.614- 173.696- 0.526 %
=233			v1fad3    =    233  ;184.997- 185.814- 0.442 %
=235			v1so3     =    235  ;195.998- 194.878- 0.571 %
=236			v1sod3    =    236  ;207.652- 207.532- 0.058 %
=237			v1la3     =    237  ;220.000- 218.904- 0.498 %
=238			v1lad3    =    238  ;233.082- 231.594- 0.638 %
=239			v1si3     =    239  ;246.942- 245.846- 0.444 %
=240			v1do4     =    240  ;261.626- 261.967- 0.131 %
=0			v1dod4    =      0  ;277.183- 275.517- 0.601 %
=0			v1re4     =      0  ;293.665- 295.926- 0.770 %
=242			v1red4    =    242  ;311.127- 313.333- 0.709 %
=243			v1mi4     =    243  ;329.628- 332.917- 0.998 %
=0			v1fa4     =      0  ;349.228- 347.391- 0.526 %
=244			v1fad4    =    244  ;369.994- 371.628- 0.442 %
=245			v1so4     =    245  ;391.995- 389.756- 0.571 %
=0			v1sod4    =      0  ;415.305- 420.526- 1.257 %
=246			v1la4     =    246  ;440.000- 443.889- 0.884 %
=0			v1lad4    =      0  ;466.164- 470.000- 0.823 %
=247			v1si4     =    247  ;493.883- 499.375- 1.112 %
=0			v1do5     =      0  ;523.251- 515.484- 1.484 %
=0			v1dod5    =      0  ;554.365- 551.034- 0.601 %
=0			v1re5     =      0  ;587.329- 591.852- 0.770 %
=0			v1red5    =      0  ;622.254- 614.615- 1.228 %
=249			v1mi5     =    249  ;659.255- 665.833- 0.998 %
=0			v1fa5     =      0  ;698.456- 694.783- 0.526 %
=0			v1fad5    =      0  ;739.989- 726.364- 1.841 %
=250			v1so5     =    250  ;783.991- 799.000- 1.914 %
=0			v1sod5    =      0  ;830.609- 841.053- 1.257 %
=0			v1la5     =      0  ;880.000- 887.778- 0.884 %
=0			v1lad5    =      0  ;932.327- 940.000- 0.823 %
=133			v2do2     =    133  ; 65.406-  65.492- 0.131 %
=140			v2dod2    =    140  ; 69.296-  69.478- 0.264 %
=146			v2re2     =    146  ; 73.416-  73.303- 0.155 %
=152			v2red2    =    152  ; 77.782-  77.573- 0.269 %
=158			v2mi2     =    158  ; 82.407-  82.371- 0.043 %
=163			v2fa2     =    163  ; 87.307-  86.848- 0.526 %
=169			v2fad2    =    169  ; 92.499-  92.907- 0.442 %
=173			v2so2     =    173  ; 97.999-  97.439- 0.571 %
=178			v2sod2    =    178  ;103.826- 103.766- 0.058 %
=182			v2la2     =    182  ;110.000- 109.452- 0.498 %
=186			v2lad2    =    186  ;116.541- 115.797- 0.638 %
=190			v2si2     =    190  ;123.471- 122.923- 0.444 %
=194			v2do3     =    194  ;130.813- 130.984- 0.131 %
=197			v2dod3    =    197  ;138.591- 138.957- 0.264 %
=201			v2re3     =    201  ;146.832- 146.606- 0.155 %
=204			v2red3    =    204  ;155.563- 155.146- 0.269 %
=207			v2mi3     =    207  ;164.814- 164.742- 0.043 %
=209			v2fa3     =    209  ;174.614- 173.696- 0.526 %
=212			v2fad3    =    212  ;184.997- 185.814- 0.442 %
=214			v2so3     =    214  ;195.998- 194.878- 0.571 %
=217			v2sod3    =    217  ;207.652- 207.532- 0.058 %
=219			v2la3     =    219  ;220.000- 218.904- 0.498 %
=221			v2lad3    =    221  ;233.082- 231.594- 0.638 %
=223			v2si3     =    223  ;246.942- 245.846- 0.444 %
=225			v2do4     =    225  ;261.626- 261.967- 0.131 %
=226			v2dod4    =    226  ;277.183- 275.517- 0.601 %
=228			v2re4     =    228  ;293.665- 295.926- 0.770 %
=229			v2red4    =    229  ;311.127- 313.333- 0.709 %
=231			v2mi4     =    231  ;329.628- 332.917- 0.998 %
=232			v2fa4     =    232  ;349.228- 347.391- 0.526 %
=233			v2fad4    =    233  ;369.994- 371.628- 0.442 %
=235			v2so4     =    235  ;391.995- 389.756- 0.571 %
=236			v2sod4    =    236  ;415.305- 420.526- 1.257 %
=237			v2la4     =    237  ;440.000- 443.889- 0.884 %
=238			v2lad4    =    238  ;466.164- 470.000- 0.823 %
=239			v2si4     =    239  ;493.883- 499.375- 1.112 %
=240			v2do5     =    240  ;523.251- 515.484- 1.484 %
=0			v2dod5    =      0  ;554.365- 551.034- 0.601 %
=0			v2re5     =      0  ;587.329- 591.852- 0.770 %
=242			v2red5    =    242  ;622.254- 614.615- 1.228 %
=243			v2mi5     =    243  ;659.255- 665.833- 0.998 %
=0			v2fa5     =      0  ;698.456- 694.783- 0.526 %
=244			v2fad5    =    244  ;739.989- 726.364- 1.841 %
=245			v2so5     =    245  ;783.991- 799.000- 1.914 %
=0			v2sod5    =      0  ;830.609- 841.053- 1.257 %
=246			v2la5     =    246  ;880.000- 887.778- 0.884 %
=0			v2lad5    =      0  ;932.327- 940.000- 0.823 %
=133			v3do3     =    133  ;130.813- 130.984- 0.131 %
=140			v3dod3    =    140  ;138.591- 138.957- 0.264 %
=146			v3re3     =    146  ;146.832- 146.606- 0.155 %
=152			v3red3    =    152  ;155.563- 155.146- 0.269 %
=158			v3mi3     =    158  ;164.814- 164.742- 0.043 %
=163			v3fa3     =    163  ;174.614- 173.696- 0.526 %
=169			v3fad3    =    169  ;184.997- 185.814- 0.442 %
=173			v3so3     =    173  ;195.998- 194.878- 0.571 %
=178			v3sod3    =    178  ;207.652- 207.532- 0.058 %
=182			v3la3     =    182  ;220.000- 218.904- 0.498 %
=186			v3lad3    =    186  ;233.082- 231.594- 0.638 %
=190			v3si3     =    190  ;246.942- 245.846- 0.444 %
=194			v3do4     =    194  ;261.626- 261.967- 0.131 %
=197			v3dod4    =    197  ;277.183- 275.517- 0.601 %
=201			v3re4     =    201  ;293.665- 295.926- 0.770 %
=204			v3red4    =    204  ;311.127- 313.333- 0.709 %
=207			v3mi4     =    207  ;329.628- 332.917- 0.998 %
=209			v3fa4     =    209  ;349.228- 347.391- 0.526 %
=212			v3fad4    =    212  ;369.994- 371.628- 0.442 %
=214			v3so4     =    214  ;391.995- 389.756- 0.571 %
=217			v3sod4    =    217  ;415.305- 420.526- 1.257 %
=219			v3la4     =    219  ;440.000- 443.889- 0.884 %
=221			v3lad4    =    221  ;466.164- 470.000- 0.823 %
=223			v3si4     =    223  ;493.883- 499.375- 1.112 %
=224			v3do5     =    224  ;523.251- 515.484- 1.484 %
=226			v3dod5    =    226  ;554.365- 551.034- 0.601 %
=228			v3re5     =    228  ;587.329- 591.852- 0.770 %
=229			v3red5    =    229  ;622.254- 614.615- 1.228 %
=231			v3mi5     =    231  ;659.255- 665.833- 0.998 %
=232			v3fa5     =    232  ;698.456- 694.783- 0.526 %
=233			v3fad5    =    233  ;739.989- 726.364- 1.841 %
=235			v3so5     =    235  ;783.991- 799.000- 1.914 %
=236			v3sod5    =    236  ;830.609- 841.053- 1.257 %
=237			v3la5     =    237  ;880.000- 887.778- 0.884 %
=238			v3lad5    =    238  ;932.327- 940.000- 0.823 %

;******  Return to file: dlbug20.asm


;******  Processing file: /Users/Locals/CBM/00-usbkey32go/d-00-64tass-src/V20/lib/e-v20-vars.asm

=$0400			blk0s   = $0400
=$0fff			blk0e   = $0fff
=$2000			blk1s   = $2000
=$3fff			blk1e   = $3fff
=$4000			blk2s   = $4000
=$5fff			blk2e   = $5fff
=$6400			blk3s   = $6400
=$7fff			blk3e   = $7fff
=$a000			blk5s   = $a000
=$bfff			blk5e   = $bfff
=$0fff			libre    = blk0e   ; *+3085
=4094			rp       = libre-$01     ;    1 byte
=4093			ra       = rp-1          ;    1 byte
=4092			rx       = ra-1          ;    1 byte
=4091			ry       = rx-1          ;    1 byte
=4090			rs       = ry-1          ;    1 byte
=4088			pc       = rs-2          ;    2 bytes
=4087			curcol   = pc-1          ;    1 byte
=4085			memptr   = curcol-2      ;    2 bytes
=4083			src      = memptr-2      ;    2 bytes
=4081			dst      = src-2         ;    2 bytes
=4079			loopcount = dst-2        ;    2 bytes
=4079			hexv     = loopcount
=4074			hexstr   = hexv-$05      ;    5 bytes
=4073			a2hexpfx = hexv-$06      ;    1 byte
=4072			a2hexpy  = hexv-$07      ;    1 byte
=4071			a2hexpx  = hexv-$08      ;    1 byte
=4071			a2hexpos = hexv-$08      ;    0 byte
=4070			a2hexcol = hexv-$09      ;    1 byte
=4070			binv     = a2hexcol
=4061			binstr   = binv-$09      ;    9 bytes
=4060			a2binpfx = binv-$0a      ;    1 byte
=4059			a2binpy  = binv-$0b      ;    1 byte
=4058			a2binpx  = binv-$0c      ;    1 byte
=4058			a2binpos = binv-$0c      ;    0 byte
=4057			a2bincol = binv-$0d      ;    1 byte
=4057			decv     = a2bincol
=4051			decstr   = decv-$06      ;    6 bytes
=4050			a2decpfx = decv-$07      ;    1 byte
=4049			a2decpy  = decv-$08      ;    1 byte
=4048			a2decpx  = decv-$09      ;    1 byte
=4048			a2decpos = decv-$09      ;    0 byte
=4047			a2deccol = decv-$0a      ;    1 byte
=4046			offset   = decv-$0b      ;    1 byte
=4046			fltv     = offset        ;
=4040			fvar1    = fltv-6        ;    6 bytes
=4034			fvar2    = fltv-12       ;    6 bytes
=4014			float1   = fltv-32       ;   20 bytes
=3994			float2   = fltv-52       ;   20 bytes
=3993			tval1    = fltv-53       ;    1 byte
=3991			tval2    = fltv-55       ;    2 bytes
=3989			reponse  = tval2-2       ;    2 byte
=3989			edbox    = reponse
=3988			cleft    = edbox-1       ;    1 byte
=3987			cright   = edbox-2       ;    1 byte
=3986			cmid     = edbox-3       ;    1 byte
=3985			dbtop    = edbox-4       ;    1 byte
=3984			dbleft   = edbox-5       ;    1 byte
=3983			dbwdth   = edbox-6       ;    1 byte
=3982			dbhght   = edbox-7       ;    1 byte
=3981			dbcoul   = edbox-8       ;    1 byte
=3980			dbclin   = edbox-9       ;    1 byte
=3979			curx     = dbclin-1      ;    1 byte
=3978			cury     = dbclin-2      ;    1 byte
=3977			clef     = dbclin-3      ;    1 byte
=3976			len      = clef-1        ;    1 byte
=3975			cx       = clef-2        ;    1 byte
=3974			cy       = clef-3        ;    1 byte
=3973			bcol     = clef-4        ;    1 byte
=3973			escr     = bcol          ; 2051 bytes
=3972			loops    = escr-1        ;    1 byte
=3970			loop16   = loops-2       ;    2 byte
=3458			scrncar  = loop16-$200   ;  512 byte
=2946			scrncol  = scrncar-$200  ;  512 byte
=2946			diskvar  = scrncol
=2944			ddatas   = diskvar-2 ;2 byte
=2942			ddatae   = diskvar-4 ;2 byte
=2941			ddev     = diskvar-5 ;1 byte
=2940			dlfsno   = diskvar-6 ;1 byte
=2938			dfnptr   = diskvar-8 ;2 byte
=2937			dfnlen   = diskvar-9 ;1 byte
=2937			vshowregs = dfnlen
=2936			acc       = vshowregs-1
=2935			xr        = vshowregs-2
=2934			yr        = vshowregs-3
=2933			sr        = vshowregs-4
=2932			sp        = vshowregs-5
=2931			pcl       = vshowregs-6
=2930			pch       = vshowregs-7
=2929			genbyte1 = pch-1 ; 1 byte
=2927			genword1 = pch-3 ; 2 byte
=2926			freevar  = pch-4 ;1 byte

;******  Return to file: dlbug20.asm


;******  Processing file: e-local-vars.asm

=2924			adrptr  = freevar-2
=2922			scraddr = freevar-4
=2920			coladdr = freevar-6
=2919			myflags = freevar-7
=2918			mybyte  = freevar-8

;******  Return to file: dlbug20.asm


;******  End of listing
