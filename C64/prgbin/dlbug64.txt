
; 64tass Turbo Assembler Macro V1.54.1900 listing file
; 64tass -C -m -a -I /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib -i -L dlbug64.txt -o dlbug64.prg dlbug64.asm
; Wed Dec 17 01:06:26 2025

;Offset	;Hex		;Source

;******  Processing input file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/m-utils.asm


;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/e-vars.asm

=$cfff			libre    = $cfff
=$cfff			rp       = libre    ;1 byte $cfff
=53246			ra       = libre-$01;1 byte $cffe
=53245			rx       = libre-$02;1 byte $cffd
=53244			ry       = libre-$03;1 byte $cffc
=53243			rs       = libre-$04;1 byte $cffb
=53241			pc       = libre-$06;1 word $cff9-$cffa
=53238			curcol   = libre-$09;1 byte $cff6
=53239			memptr   = libre-$08;1 word $cff7-$cff8
=53238			hexv     = libre-$09
=53233			hexstr   = hexv-$05 ;5 byte $cff1-$cff5
=53232			a2hexpfx = hexv-$06 ;1 byte $cff0
=53231			a2hexpy  = hexv-$07 ;1 byte $cfef
=53230			a2hexpx  = hexv-$08 ;1 byte $cfee
=53230			a2hexpos = hexv-$08 ;0 byte $cfee
=53229			a2hexcol = hexv-$09 ;1 byte $cfed
=53229			binv     = hexv-$09
=53220			binstr   = binv-$09 ;9 byte $cfe4-$cfec
=53219			a2binpfx = binv-$0a ;1 byte $cfe3
=53218			a2binpy  = binv-$0b ;1 byte $cfe2
=53217			a2binpx  = binv-$0c ;1 byte $cfe1
=53216			a2binpos = binv-$0d ;0 byte $cfe1
=53215			a2bincol = binv-$0e ;1 byte $cfe0
=53215			decv     = binv-$0e
=53209			decstr   = decv-$06 ;6 byte $cfda-$cfdf
=53209			a2decpfx = decv-$06 ;1 byte $cfd9
=53208			a2decpy  = decv-$07 ;1 byte $cfd8
=53207			a2decpx  = decv-$08 ;1 byte $cfd7
=53207			a2decpos = decv-$08 ;0 byte $cfd7
=53206			a2deccol = decv-$09 ;1 byte $cfd6
=53206			fltv     = decv-$09
=53200			fvar1    = fltv-6  ; 6 byte $cfd0-$cfd5
=53194			fvar2    = fltv-12 ; 6 byte $cfca-$cfcf
=53174			float1   = fltv-32 ;20 byte $cfb6-$cfc9
=53154			float2   = fltv-52 ;20 byte $cfa2-$cfb5
=53153			tval1    = fltv-53 ; 1 byte $cfa1
=53151			tval2    = fltv-55 ; 2 byte $cf9f-$cfa0
=53150			loops    = tval2-1 ; 1 byte $cf9e
=53149			nextvar  = loops-1 ; 1 byte $cf9d

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/e-float.asm

=$ba8c			ffvtf2   = $ba8c ;copie 4 byt $(yyaa) f2
=$bba2			ffvtf1   = $bba2 ;copie fp $(yyaa) to f1
=$bbc7			ff1t5c   = $bbc7 ;copie f1 to $5c-$60
=$bbca			ff1t57   = $bbca ;copie f1 to $57-$5b
=$bbd0			ff1t49   = $bbd0 ;copie f1 to $49.
=$bbd4			ff1tyx   = $bbd4 ;copie f1 mem $yyxx.
=$bbfc			ff2tf1   = $bbfc ;copie f2 to f1
=$bc0c			ff1tf2   = $bc0c ;copie f1 to f2
=$b849			ff1p05   = $b849 ;f1=f1+0.5
=$b850			ffvsf1   = $b850 ;f1=fv-f1 ($yyaa)
=$b853			ff2sf1   = $b853 ;f1=f2-f1
=$b867			ffvpf1   = $b867 ;f1=fv+f1 ($yyaa)
=$b86a			ff2pf1   = $b86a ;f1=f2+f1
=$bd7e			ff1pac   = $bd7e ;f1=f1+ra val ra=0-9
=$ba28			ff1xfv   = $ba28 ;f1=f1*fv ($yyaa)
=$ba2b			ff1xf2   = $ba2b ;f1=f1*f2
=$bae2			ff1x10   = $bae2 ;f1=f1*10
=$bafe			ff1d10   = $bafe ;f1=f1/10
=$bb0f			ffvdf1   = $bb0f ;f1=fv/f1 ($yyaa)
=$bb12			ff2df1   = $bb12 ;f1=f2/f1
=$afe6			ffpor    = $afe6 ;f1=f1 or f2
=$afe9			ffpand   = $afe9 ;f1=f1 and f2
=$b947			ff1com2  = $b947 ;f1=two's compl f1
=$bc1b			ff1rnd   = $bc1b ;f1=round(f1)
=$bc39			ff1sign  = $bc39 ;f1=sgn(f1)
=$bc58			ff1abs   = $bc58 ;f1=abs(f1)
=$bc5b			ffvcmp   = $bc5b ;f1=f1 comp fv ($yyaa)
=$bccc			ff1int   = $bccc ;f1=int(f1)
=$bf71			ff1sqr   = $bf71 ;f1=sqrt(f1)
=$bf7b			ff1ef2   = $bf7b ;f1=fac1^f2
=$b3a2			fiyytf1  = $b3a2 ;f1=float(y)
=$bc3c			fiaatf1  = $bc3c ;conv acc to fp in f1
=$bc44			fi62tf1  = $bc44 ;conv f1 word 62,63
=$bdcd			fiaxtf1  = $bdcd ;f1=float($aaxx)+print
=$bcf3			fasctf1  = $bcf3 ;f1=float(ascii)
=$bddd			ff1tasc  = $bddd ;f1 to ascii ($yyaa)
=$bc9b			ff1tudw  = $bc9b ;f1=unsighed dw(f1)
=$b1bf			ff1swd64 = $b1bf ;f1=sw(f1)->64
=$b1d2			ff1wrd64 = $b1d2 ;f1=uw(f1)->64
=$b1aa			ff1wrday = $b1aa ;f1=word->$aayy
=$b7a1			ff1bytxx = $b7a1 ;f1 to byte in x
=$b79e			ff1evalx = $b79e ;eval. expr. f1 to x
=$e264			ff1cos   = $e264 ;f1=sin(f1+(pi/2))
=$e26b			ff1sin   = $e26b ;f1=sin(f1)
=$e2b4			ff1tan   = $e2b4 ;f1=sin(f1)/cos(f1)
=$e30e			ff1atn   = $e30e ;f1=atn(f1)
=$bc2b			fsngf1   = $bc2b ;check f1 sign

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/e-64map.asm

=$73			chrget   = $73   ;Recup Basic car texte
=$79			chrgot   = $79   ; ...une seconde fois.
=$d1			scrnlin  = $d1   ;acresse ligne courante
=$fb			zp1      = $fb   ;1er Zpage prog. usager
=$fd			zp2      = $fd   ;2em Zpage prog. usager
=$0100			fascii   = $0100 ;region conv FP a ascii
=$0286			kcol     = $0286 ;Couleur car affiche.
=$fce2			reboot   = $fce2 ;Redemarrage a froid
=$fe66			reset    = $fe66 ;Redemarrare a chaud
=$e3bf			intcgt   = $e3bf ;Initialize chrget
=$ffa5			acptr    = $ffa5 ;Recoit byte port serie
=$ffc6			chkin    = $ffc6 ;Definie canal entree
=$ffc9			chkout   = $ffc9 ;Definie canal sortie
=$ffcf			chrin    = $ffcf ;Entre car canal entree
=$ffd2			chrout   = $ffd2 ;Sort car canal sortie
=$ff81			cint     = $ff81 ;Init ecran edit+vicii
=$ffa8			ciout    = $ffa8 ;Sort car sur bus serie
=$ffe7			clall    = $ffe7 ;Ferme tout fichier ouv
=$ffc3			close    = $ffc3 ;Ferme fichier logique
=$ffcc			clrchn   = $ffcc ;Efface caneaux i/o
=$ffe4			getin    = $ffe4 ;Entre un car de entree
=$fff3			iobase   = $fff3 ;Definie page mem. i/o
=$ff84			ioinit   = $ff84 ;Init. Periph. i/o
=$ffb1			listen   = $ffb1 ;Cmd LISTEN a perip bus
=$ffd5			load     = $ffd5 ;Charge periph. en ram
=$ff9c			membot   = $ff9c ;Lec./Ecr. bas mem.
=$ff99			memtop   = $ff99 ;Lec./Ecr. haut mem.
=$ffc0			open     = $ffc0 ;Ouvre fichier logique.
=$fff0			plot     = $fff0 ;Lec./Ecr. pos. curseur
=$ff87			ramtas   = $ff87 ;Init ram tapebuf+ecran
=$ffde			rdtim    = $ffde ;Recup horloge systeme
=$ffb7			readst   = $ffb7 ;Recup mot status i/o
=$ff8a			restor   = $ff8a ;Replace vecteurs i/o
=$ffd8			save     = $ffd8 ;Sauve mem vers periph
=$ff9f			scnkey   = $ff9f ;Sonde le clavier
=$ffed			screen   = $ffed ;Recup format ecran
=$ff93			second   = $ff93 ;Trans adr secnd/listen
=$ffba			setlfs   = $ffba ;Prep. fichier logique
=$ff90			setmsg   = $ff90 ;Prep. kmesg outpt flag
=$ffbd			setnam   = $ffbd ;Prep. nom de fichier
=$ffdb			settim   = $ffdb ;Init. horloge systeme
=$ffa2			settmo   = $ffa2 ;Place ieee delai fin
=$ffe1			stop     = $ffe1 ;Verif. clef stop
=$ffb4			talk     = $ffb4 ;Cmd LISTEN periph/SB
=$ff96			tsks     = $ff96 ;Trans. TALK secnd adr
=$ffea			udtim    = $ffea ;Maj. horloge systeme
=$ffae			unlsn    = $ffae ;Trans. UNLISTEN
=$ffab			untlk    = $ffab ;Trans. UNTALK
=$ffd8			vector   = $ffd8 ;Lec/ecr vecteurs i/o
=$d000			vic      = $d000 ;debut du vic-ii
=$0340			sprtmem  = $0340 ;832
=$07f8			sprtloc  = $07f8 ;2040
=$2000			vidstart = $2000
=$3f3f			vidend   = $3f3f
=$0400			bakmem   = $0400 ;1024 end at $0800
=$abf9			prompt   = $abf9 ;prompt ? dans tampon.
=$ab24			strout   = $ab24 ;print string at $0022
=8			discase = 8
=9			enacase = 9
=14			locase  = 14
=142			upcase  = 142
=17			crsdown = 17
=29			crsright= 29
=145			crsup   = 145
=157			crsleft = 157
=18			enarevs = 18
=146			disrevs = 146
=19			gohome  = 19
=147			clrhome = 147
=20			delete  = 20
=32			space   = 32
=0			snoir   = 0
=144			knoir   = 144
=1			sblanc  = 1
=5			kblanc  = 5
=2			srouge  = 2
=28			krouge  = 28
=3			scyan   = 3
=159			kcyan   = 159
=4			smauve  = 4
=156			kmauve  = 156
=5			svert   = 5
=30			kvert   = 30
=6			sbleu   = 6
=31			kbleu   = 31
=7			sjaune  = 7
=158			kjaune  = 158
=8			sorange = 8
=129			korange = 129
=9			sbrun   = 9
=149			kbrun   = 149
=10			srose   = 10
=150			krose   = 150
=11			sgris1  = 11
=151			kgris1  = 151
=12			sgris2  = 12
=152			kgris2  = 152
=13			svertp  = 13
=153			kvertp  = 153
=14			sbleup  = 14
=154			kbleup  = 154
=15			sgris3  = 15
=155			kgris3  = 155
=176			tleft    = 176 ; Coin suppérieur gauche.
=174			tright   = 174 ; Coin suppérieur droit.
=173			bleft    = 173 ; Coin inférieur gauche.
=189			bright   = 189 ; Coin inférieur droit.
=171			hleft    = 171 ; Extr. gauche médianne.
=179			hright   = 179 ; Extr. droite médianne.
=221			vline    = 221 ; Ligne verticale.
=192			hline    = 192 ; Ligne horizontale.

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/l-bashead.asm

.0801			start
>0801	0b 08		bcmd1    .word $080b ;adresse de la pro-
>0803	0a 00		         .word $0a   ;no. ligne basic.
>0805	9e		         .byte $9e   ;jeton pour la
>0806	32 30 36 31	         .text "2061";adresse du debut
>080a	00		         .byte $00   ;fin de cmd basic.
>080b	00 00		bcmd2    .word $00   ;adresse de la pro-
.080d	20 14 08	         jsr initscr
.0810	4c 2d 08	         jmp main
.0813	00		         brk
.0814			initscr
.0814	08		         php
.0815	48		         pha
.0816	a9 05		bord     lda #$05    ;place la couleur
.0818	8d 20 d0	         sta $d020   ; de la bordure.
.081b	a9 06		back     lda #$06    ;place la couleur
.081d	8d 21 d0	         sta $d021   ; du fond d'ecran.
.0820	a9 01		text     lda #$01    ;place la couleur
.0822	8d 86 02	         sta $0286   ; du texte.
.0825	a9 93		         lda #$93    ;efface l'ecran par
.0827	20 d2 ff	         jsr chrout  ; chrout du kernal.
.082a	68		         pla
.082b	28		         plp
.082c	60		         rts

;******  Return to file: dlbug64.asm

.082d			main
.082d	08		        php
.082e	48		        pha
.082f	a9 0e		        lda #14
.0831	20 d2 ff	        jsr chrout
.0834	68		        pla
.0835	28		        plp
.0836	08		        php
.0837	48		        pha
.0838	a9 08		        lda #8
.083a	20 d2 ff	        jsr chrout
.083d	68		        pla
.083e	28		        plp
.083f	a0 00		        ldy #$00
.0841	a2 00		        ldx #$00
.0843	20 47 08	        jsr ramprobe
.0846	60		        rts
.0847			ramprobe
.0847	20 88 0b	        jsr pushregs
.084a	20 ff 0d	        jsr clrkbbuf
.084d	08		        php
.084e	8c ad 0a	        sty dumpadr+1
.0851	8e ac 0a	        stx dumpadr
.0854	28		        plp
.0855	08		        php
.0856	48		        pha
.0857	a9 93		        lda #147
.0859	20 d2 ff	        jsr chrout
.085c	68		        pla
.085d	28		        plp
.085e	20 88 0b	        jsr pushregs
.0861	a2 01		        ldx #1
.0863	a0 00		        ldy #0
.0865	20 8b 0d	        jsr gotoxy
.0868	20 b5 0b	        jsr popregs
.086b	20 88 0b	        jsr pushregs
.086e	a0 10		        ldy #>dmphead+1
.0870	a2 06		        ldx #<dmphead
.0872	20 4b 0d	        jsr putsyx
.0875	20 b5 0b	        jsr popregs
.0878	20 88 0b	        jsr pushregs
.087b	a2 01		        ldx #1
.087d	a0 01		        ldy #1
.087f	20 8b 0d	        jsr gotoxy
.0882	20 b5 0b	        jsr popregs
.0885	20 88 0b	        jsr pushregs
.0888	a0 10		        ldy #>dmphead2+1
.088a	a2 32		        ldx #<dmphead2
.088c	20 4b 0d	        jsr putsyx
.088f	20 b5 0b	        jsr popregs
.0892	20 88 0b	        jsr pushregs
.0895	a2 01		        ldx #1
.0897	a0 14		        ldy #20
.0899	20 8b 0d	        jsr gotoxy
.089c	20 b5 0b	        jsr popregs
.089f	20 88 0b	        jsr pushregs
.08a2	ae 5e 10	        ldx menu0
.08a5	ac 5f 10	        ldy menu0+1
.08a8	20 8b 0d	        jsr gotoxy
.08ab	a0 10		        ldy #>menu0+2
.08ad	a2 60		        ldx #<menu0+2
.08af	20 4b 0d	        jsr putsyx
.08b2	20 b5 0b	        jsr popregs
.08b5	20 88 0b	        jsr pushregs
.08b8	ae 8a 10	        ldx menu1
.08bb	ac 8b 10	        ldy menu1+1
.08be	20 8b 0d	        jsr gotoxy
.08c1	a0 10		        ldy #>menu1+2
.08c3	a2 8c		        ldx #<menu1+2
.08c5	20 4b 0d	        jsr putsyx
.08c8	20 b5 0b	        jsr popregs
.08cb	20 88 0b	        jsr pushregs
.08ce	ae b9 10	        ldx menu2
.08d1	ac ba 10	        ldy menu2+1
.08d4	20 8b 0d	        jsr gotoxy
.08d7	a0 10		        ldy #>menu2+2
.08d9	a2 bb		        ldx #<menu2+2
.08db	20 4b 0d	        jsr putsyx
.08de	20 b5 0b	        jsr popregs
.08e1	20 88 0b	        jsr pushregs
.08e4	ae e8 10	        ldx menu3
.08e7	ac e9 10	        ldy menu3+1
.08ea	20 8b 0d	        jsr gotoxy
.08ed	a0 10		        ldy #>menu3+2
.08ef	a2 ea		        ldx #<menu3+2
.08f1	20 4b 0d	        jsr putsyx
.08f4	20 b5 0b	        jsr popregs
.08f7	20 88 0b	        jsr pushregs
.08fa	ae 17 11	        ldx menu4
.08fd	ac 18 11	        ldy menu4+1
.0900	20 8b 0d	        jsr gotoxy
.0903	a0 11		        ldy #>menu4+2
.0905	a2 19		        ldx #<menu4+2
.0907	20 4b 0d	        jsr putsyx
.090a	20 b5 0b	        jsr popregs
.090d	20 88 0b	        jsr pushregs
.0910	ae 46 11	        ldx menu5
.0913	ac 47 11	        ldy menu5+1
.0916	20 8b 0d	        jsr gotoxy
.0919	a0 11		        ldy #>menu5+2
.091b	a2 48		        ldx #<menu5+2
.091d	20 4b 0d	        jsr putsyx
.0920	20 b5 0b	        jsr popregs
.0923	20 88 0b	        jsr pushregs
.0926	ae 75 11	        ldx menu6
.0929	ac 76 11	        ldy menu6+1
.092c	20 8b 0d	        jsr gotoxy
.092f	a0 11		        ldy #>menu6+2
.0931	a2 77		        ldx #<menu6+2
.0933	20 4b 0d	        jsr putsyx
.0936	20 b5 0b	        jsr popregs
.0939	4c 7d 09	        jmp doit
.093c	ad ad 0a	arr1k   lda dumpadr+1
.093f	38		        sec
.0940	e9 0e		        sbc #$0E
.0942	8d ad 0a	        sta dumpadr+1
.0945	ce ad 0a	arr512  dec dumpadr+1
.0948			arr256
.0948	08		        php
.0949	ac ad 0a	        ldy dumpadr+1
.094c	ae ac 0a	        ldx dumpadr
.094f	28		        plp
.0950	a9 80		        lda #128
.0952	20 78 0e	        jsr subatoyx
.0955	08		        php
.0956	8c ad 0a	        sty dumpadr+1
.0959	8e ac 0a	        stx dumpadr
.095c	28		        plp
.095d	ce ad 0a	arr128  dec dumpadr+1
.0960	4c 7d 09	        jmp doit
.0963	ad ad 0a	ava1k   lda dumpadr+1
.0966	18		        clc
.0967	69 0e		        adc #$0E
.0969	8d ad 0a	        sta dumpadr+1
.096c	ee ad 0a	ava512  inc dumpadr+1
.096f	18		ava256  clc
.0970	ad ac 0a	        lda dumpadr
.0973	69 80		        adc #$80
.0975	90 06		        bcc ava128
.0977	ee ad 0a	        inc dumpadr+1
.097a	8d ac 0a	        sta dumpadr
.097d			ava128
.097d			doit
.097d	20 88 0b	        jsr pushregs
.0980	a2 01		        ldx #1
.0982	a0 01		        ldy #1
.0984	20 8b 0d	        jsr gotoxy
.0987	20 b5 0b	        jsr popregs
.098a	a9 10		        lda #16
.098c	08		        php
.098d	ac ad 0a	        ldy dumpadr+1
.0990	ae ac 0a	        ldx dumpadr
.0993	28		        plp
.0994	20 62 0a	        jsr memdump
.0997	20 34 0e	morekey jsr getkey
.099a	c9 85		chkf1   cmp #133   ; touche [F1]
.099c	d0 03		        bne chkf2
.099e	4c 7d 09	        jmp doit   ; +128
.09a1	c9 89		chkf2   cmp #137   ; touche [F2]
.09a3	d0 03		        bne chkf3
.09a5	4c 5d 09	        jmp arr128 ;-128
.09a8	c9 86		chkf3   cmp #134   ; touche [F3]
.09aa	d0 03		        bne chkf4
.09ac	4c 6f 09	        jmp ava256 ;+256
.09af	c9 8a		chkf4   cmp #138   ; touche [F4]
.09b1	d0 03		        bne chkf5
.09b3	4c 48 09	        jmp arr256 ;-256
.09b6	c9 87		chkf5   cmp #135   ; touche [F6]
.09b8	d0 03		        bne chkf6
.09ba	4c 6c 09	        jmp ava512 ;+512
.09bd	c9 8b		chkf6   cmp #139   ; touche [F6]
.09bf	d0 03		        bne chkf7
.09c1	4c 45 09	        jmp arr512 ;-512
.09c4	c9 88		chkf7   cmp #136   ; touche [F7]
.09c6	d0 03		        bne chkf8
.09c8	4c 63 09	        jmp ava1k  ;+1024
.09cb	c9 8c		chkf8   cmp #140   ; touche [F8]
.09cd	d0 03		        bne chk20
.09cf	4c 3c 09	        jmp arr1k  ;-1024
.09d2	c9 20		chk20   cmp #$20   ; touche espace
.09d4	d0 03		        bne chkq
.09d6	4c 7d 09	        jmp doit
.09d9	c9 51		chkq    cmp #$51   ; touche q
.09db	f0 03		        beq quitter
.09dd	4c 97 09	        jmp morekey
.09e0	20 fd 09	quitter jsr getadr
.09e3	20 b5 0b	        jsr popregs
.09e6	08		        php
.09e7	48		        pha
.09e8	a9 93		        lda #147
.09ea	20 d2 ff	        jsr chrout
.09ed	68		        pla
.09ee	28		        plp
.09ef	20 88 0b	        jsr pushregs
.09f2	a2 00		        ldx #0
.09f4	a0 00		        ldy #0
.09f6	20 8b 0d	        jsr gotoxy
.09f9	20 b5 0b	        jsr popregs
.09fc	60		        rts
.09fd			getadr
.09fd	20 16 0b	        jsr pushall
.0a00	a0 0a		        ldy #>tbox
.0a02	a2 26		        ldx #<tbox
.0a04	20 ee 0e	        jsr drawbox
.0a07	20 34 0e	getit   jsr getkey
.0a0a	09 20		        ora #$20
.0a0c	c9 30		        cmp #$30        ;<0
.0a0e	30 f7		        bmi getit
.0a10	c9 39		        cmp #$39        ;>F
.0a12	30 f3		        bmi getit
.0a14	c9 62		        cmp #$62
.0a16	30 ef		        bmi getit
.0a18	c9 3a		        cmp #$3a        ;>9
.0a1a	10 eb		        bpl getit
.0a1c	20 36 0a	        jsr showkey
.0a1f	4c 07 0a	        jmp getit
.0a22	20 4f 0b	        jsr popall
.0a25	60		        rts
>0a26	05 05 1e 0a	tbox    .byte 5,5,30,10,sjaune,kjaune
>0a2a	07 9e
>0a2c	5b c1 44 52	        .null "[Adresse]"
>0a30	45 53 53 45 5d 00
.0a36			showkey
.0a36	20 88 0b	        jsr pushregs
.0a39	20 88 0b	        jsr pushregs
.0a3c	a2 1c		        ldx #39-11
.0a3e	a0 18		        ldy #24
.0a40	20 8b 0d	        jsr gotoxy
.0a43	20 b5 0b	        jsr popregs
.0a46	20 d2 ff	        jsr chrout
.0a49	08		        php
.0a4a	48		        pha
.0a4b	a9 20		        lda #32
.0a4d	20 d2 ff	        jsr chrout
.0a50	68		        pla
.0a51	28		        plp
.0a52	08		        php
.0a53	48		        pha
.0a54	a9 24		        lda #36
.0a56	20 d2 ff	        jsr chrout
.0a59	68		        pla
.0a5a	28		        plp
.0a5b	20 ae 0a	        jsr putahexdec
.0a5e	20 b5 0b	        jsr popregs
.0a61	60		        rts
.0a62			memdump
.0a62	8d ab 0a	        sta nligne
.0a65	8d 9e cf	        sta loops
.0a68	c0 ff		        cpy #$ff
.0a6a	d0 07		        bne nouvel
.0a6c	e0 ff		        cpx #$ff
.0a6e	d0 03		        bne nouvel
.0a70	4c 82 0a	        jmp memeadr
.0a73	8c ad 0a	nouvel  sty dumpadr+1   ;*
.0a76	48		        pha
.0a77	8a		        txa
.0a78	29 f8		        and #$f8
.0a7a	aa		        tax
.0a7b	68		        pla
.0a7c	8e ac 0a	        stx dumpadr     ;*
.0a7f	20 0e 0c	        jsr yxtoptr
.0a82			memeadr
.0a82	ac ad 0a	again   ldy dumpadr+1   ;*
.0a85	ae ac 0a	        ldx dumpadr     ;*
.0a88	20 0e 0c	        jsr yxtoptr
.0a8b	a9 08		        lda #$08
.0a8d	08		        php
.0a8e	48		        pha
.0a8f	a9 0d		        lda #$0d
.0a91	20 d2 ff	        jsr chrout
.0a94	68		        pla
.0a95	28		        plp
.0a96	20 ac 0c	        jsr bytestohex
.0a99	20 39 0c	        jsr incptr8
.0a9c	20 15 0c	        jsr ptrtoyx
.0a9f	8c ad 0a	        sty dumpadr+1   ;*
.0aa2	8e ac 0a	        stx dumpadr     ;*
.0aa5	ce 9e cf	        dec loops
.0aa8	d0 d8		        bne again
.0aaa	60		        rts
>0aab	16		nligne  .byte $16
>0aac	00 f0		dumpadr .word $f000
.0aae			putahexdec
.0aae	20 88 0b	        jsr pushregs
.0ab1	08		        php
.0ab2	48		        pha
.0ab3	a9 9e		        lda #kjaune
.0ab5	20 d2 ff	        jsr chrout
.0ab8	68		        pla
.0ab9	28		        plp
.0aba	20 6e 0c	        jsr putahex
.0abd	08		        php
.0abe	48		        pha
.0abf	a9 20		        lda #$20
.0ac1	20 d2 ff	        jsr chrout
.0ac4	68		        pla
.0ac5	28		        plp
.0ac6	08		        php
.0ac7	48		        pha
.0ac8	a9 9f		        lda #kcyan
.0aca	20 d2 ff	        jsr chrout
.0acd	68		        pla
.0ace	28		        plp
.0acf	aa		        tax
.0ad0	a9 00		        lda #$00
.0ad2	20 cd bd	        jsr fiaxtf1
.0ad5	20 b5 0b	        jsr popregs
.0ad8	60		        rts
.0ad9			calcdot
.0ad9	20 16 0b	        jsr pushall
.0adc	98		        tya     ;y contien la ligne
.0add	4a		        lsr a   ; on divise par 8
.0ade	4a		        lsr a
.0adf	4a		        lsr a
.0ae0	8d fb 0f	        sta row ; et on sauvegarde
.0ae3	8a		        txa     ;x contien la colonne
.0ae4	4a		        lsr a   ; on divise par 8
.0ae5	4a		        lsr a
.0ae6	4a		        lsr a
.0ae7	8d fc 0f	        sta col ; et on sauvegarde
.0aea	98		        tya     ; masque avec 7 donne
.0aeb	29 07		        and #$07; la ligne caractere
.0aed	8d fd 0f	        sta lin ; du pixel.
.0af0	8a		        txa     ;7-(x and 7) donne le
.0af1	29 07		        and #$07; no du bit de l'octet
.0af3	8d fe 0f	        sta sbit; du pixel.
.0af6	a9 07		        lda #$07
.0af8	38		        sec
.0af9	ed fe 0f	        sbc sbit
.0afc	8d fe 0f	        sta sbit
.0aff	20 4f 0b	        jsr popall
.0b02	60		        rts
.0b03			floattest
.0b03	08		        php
.0b04	48		        pha
.0b05	a9 07		        lda #$07
.0b07	8d 86 02	        sta kcol
.0b0a	ac fe 0f	        ldy sbit
.0b0d	20 a2 b3	        jsr fiyytf1
.0b10	20 eb 0d	        jsr prnfac1
.0b13	68		        pla
.0b14	28		        plp
.0b15	60		        rts

;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/l-push.asm

.0b16			pushall
.0b16	08		         php     ;s;rp,pcl,pch
.0b17	8d fe cf	         sta ra  ;sauve a
.0b1a	68		         pla     ;s:pcl,pch
.0b1b	8d ff cf	         sta rp  ;sauve rp
.0b1e	68		         pla     ;s:pch
.0b1f	8d f9 cf	         sta pc  ;sauve pcl
.0b22	68		         pla     ;s:
.0b23	8d fa cf	         sta pc+1;sauve pch
.0b26	a5 fb		         lda $fb ;sauve fb
.0b28	48		         pha     ;s:fb
.0b29	a5 fc		         lda $fc ;sauve fc
.0b2b	48		         pha     ;s:fc,fb
.0b2c	a5 fd		         lda $fd ;sauve fd
.0b2e	48		         pha     ;s:fd,fc,fb
.0b2f	a5 fe		         lda $fe ;sauve fe
.0b31	48		         pha     ;s:fe,fd,fc,fb
.0b32	ad ff cf	         lda rp  ;sauve rp
.0b35	48		         pha     ;s:rp,fe,fd,fc,fb
.0b36	ad fe cf	         lda ra  ;sauve ra
.0b39	48		         pha     ;s:ra,rp,fe,fd,fc,fb
.0b3a	8a		         txa     ;sauve rx
.0b3b	48		         pha     ;s:rx,ra,rp,fe-fb
.0b3c	98		         tya     ;sauve y
.0b3d	48		         pha     ;s:ry,rx,ra,rp,fe-fb
.0b3e	ad fa cf	         lda pc+1;replace l'adresse
.0b41	48		         pha     ;s:pch,ry,rx,ra,...
.0b42	ad f9 cf	         lda pc  ; de retour.
.0b45	48		         pha     ;s:pcl,pch,ru,rx,ra,...
.0b46	ad ff cf	         lda rp  ;place les flags
.0b49	48		         pha     ; sur le stack.
.0b4a	ad fe cf	         lda ra  ;recupere ra
.0b4d	28		         plp     ;recupere les flags.
.0b4e	60		         rts
.0b4f			popall
.0b4f	08		         php     ;s:rp,pcl,pch,ry,rx,...
.0b50	8d fe cf	         sta ra
.0b53	68		         pla     ;s:pcl,pch,ry,rx,...
.0b54	8d ff cf	         sta rp  ;s:pch,ry,rx,ra,rp,...
.0b57	68		         pla
.0b58	8d f9 cf	         sta pc  ;sauve pcl
.0b5b	68		         pla     ;s:ry,rx,ra,rp,fe...fb
.0b5c	8d fa cf	         sta pc+1;sauve pch
.0b5f	68		         pla     ;s:rx,ra,rp,fe,fd,fc,fb
.0b60	a8		         tay     ;recupere ry
.0b61	68		         pla     ;s:ra,rp,fe,fd,fc,fb
.0b62	aa		         tax     ;recupere rx
.0b63	68		         pla     ;s:rp,fe,fd,fc,fb
.0b64	8d fe cf	         sta ra  ;recupere ra
.0b67	68		         pla     ;s:fe,fd,fc,fb
.0b68	8d ff cf	         sta rp  ;recupere les flags.
.0b6b	68		         pla     ;s:fd,fc,fb
.0b6c	85 fe		         sta $fe ;reccupere fe
.0b6e	68		         pla     ;s:fc,fb
.0b6f	85 fd		         sta $fd ;recupere fd
.0b71	68		         pla     ;s:fb
.0b72	85 fc		         sta $fc ;recupere fc
.0b74	68		         pla     ;s:
.0b75	85 fb		         sta $fb ;recupere fb
.0b77	ad fa cf	         lda pc+1;replaace l'adresse de
.0b7a	48		         pha     ;s:pch
.0b7b	ad f9 cf	         lda pc  ;retour sur la pile
.0b7e	48		         pha     ;s:pcl,pch
.0b7f	ad ff cf	         lda rp  ;recupere les flags
.0b82	48		         pha     ;s:rp,pcl,pch
.0b83	ad fe cf	         lda ra  ;recupere ra
.0b86	28		         plp     ;s:pcl,pch
.0b87	60		         rts
.0b88			pushregs
.0b88	08		         php     ;s;rp,pcl,pch
.0b89	8d fe cf	         sta ra  ; -- sauve a
.0b8c	68		         pla     ;s:pcl,pch
.0b8d	8d ff cf	         sta rp  ; -- sauve rp
.0b90	68		         pla     ;s:pch
.0b91	8d f9 cf	         sta pc  ; -- sauve pcl
.0b94	68		         pla     ;s:
.0b95	8d fa cf	         sta pc+1; -- sauve pch
.0b98	ad ff cf	         lda rp  ; -- sauve rp
.0b9b	48		         pha     ;s:rp
.0b9c	ad fe cf	         lda ra  ; -- sauve ra
.0b9f	48		         pha     ;s:ra,rp
.0ba0	8a		         txa     ; -- tfr rx
.0ba1	48		         pha     ;s:rx,ra,rp
.0ba2	98		         tya     ; -- tfr ry
.0ba3	48		         pha     ;s:ry,rx,ra,rp
.0ba4	ad fa cf	         lda pc+1; -- replace l'adresse
.0ba7	48		         pha     ;s:pch,ry,rx,ra,rp
.0ba8	ad f9 cf	         lda pc  ; -- de retour.
.0bab	48		         pha     ;s:pcl,pch,ru,rx,ra,rp
.0bac	ad ff cf	         lda rp  ; -- place les flags
.0baf	48		         pha     ;    sur le stack.
.0bb0	ad fe cf	         lda ra  ; -- recupere ra
.0bb3	28		         plp     ; -- recupere flags.
.0bb4	60		         rts     ;s:pcl,pch,ru,rx,ra,rp
.0bb5			popregs
.0bb5	08		         php
.0bb6	8d fe cf	         sta ra
.0bb9	68		         pla
.0bba	8d ff cf	         sta rp
.0bbd	68		         pla     ;s:pch,ry,rx,ra,rp
.0bbe	8d f9 cf	         sta pc  ; -- sauve pcl
.0bc1	68		         pla     ;s:ry,rx,ra,rp
.0bc2	8d fa cf	         sta pc+1; -- sauve pch
.0bc5	68		         pla     ;s:rx,ra,rp
.0bc6	a8		         tay     ;recupere ry
.0bc7	68		         pla     ;s:ra,rp
.0bc8	aa		         tax     ;recupere rx
.0bc9	68		         pla     ;s:rp
.0bca	8d fe cf	         sta ra  ;recupere ra
.0bcd	68		         pla     ;s:
.0bce	8d ff cf	         sta rp  ;recupere les flags.
.0bd1	ad fa cf	         lda pc+1;replace l'adresse de
.0bd4	48		         pha     ;s:pch
.0bd5	ad f9 cf	         lda pc  ;retour sur la pile
.0bd8	48		         pha     ;s:pcl,pch
.0bd9	ad ff cf	         lda rp  ;recupere les flags
.0bdc	48		         pha     ;s:rp,pcl,pch
.0bdd	ad fe cf	         lda ra  ;recupere ra
.0be0	28		         plp     ;s:pcl,pch
.0be1	60		         rts

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/l-mem.asm

.0be2			inczp1
.0be2	08		         php
.0be3	e6 fb		         inc zp1
.0be5	d0 02		         bne repzp1
.0be7	e6 fc		         inc zp1+1
.0be9	28		repzp1   plp
.0bea	60		         rts
.0beb			inczp2
.0beb	08		         php
.0bec	e6 fd		         inc zp2
.0bee	d0 02		         bne repzp2
.0bf0	e6 fe		         inc zp2+1
.0bf2	28		repzp2   plp
.0bf3	60		         rts
.0bf4			deczp1
.0bf4	08		         php
.0bf5	48		         pha
.0bf6	a5 fb		         lda zp1
.0bf8	d0 02		         bne noemp
.0bfa	c6 fc		         dec zp1+1
.0bfc	c6 fb		noemp    dec zp1
.0bfe	68		         pla
.0bff	28		         plp
.0c00	60		         rts
.0c01			deczp2
.0c01	08		         php
.0c02	48		         pha
.0c03	a5 fd		         lda zp2
.0c05	d0 02		         bne noemp
.0c07	c6 fe		         dec zp2+1
.0c09	c6 fd		noemp    dec zp2
.0c0b	68		         pla
.0c0c	28		         plp
.0c0d	60		         rts
.0c0e			yxtoptr
.0c0e	8c f8 cf	        sty memptr+1
.0c11	8e f7 cf	        stx memptr
.0c14	60		        rts
.0c15			ptrtoyx
.0c15	08		        php
.0c16	ac f8 cf	        ldy memptr+1
.0c19	ae f7 cf	        ldx memptr
.0c1c	28		        plp
.0c1d	60		        rts
.0c1e			incptr
.0c1e	08		        php
.0c1f	ee f7 cf	        inc memptr
.0c22	d0 03		        bne norep
.0c24	ee f8 cf	        inc memptr+1
.0c27	28		norep   plp
.0c28	60		        rts
.0c29			decptr
.0c29	08		        php
.0c2a	48		        pha
.0c2b	ad f7 cf	        lda memptr
.0c2e	d0 03		        bne noemp
.0c30	ee f8 cf	        inc memptr+1
.0c33	ee f7 cf	noemp   inc memptr
.0c36	68		        pla
.0c37	28		        plp
.0c38	60		        rts
.0c39			incptr8
.0c39	08		        php
.0c3a	48		        pha
.0c3b	98		        tya
.0c3c	48		        pha
.0c3d	a0 08		        ldy #8
.0c3f	20 1e 0c	again   jsr incptr
.0c42	88		        dey
.0c43	d0 fa		        bne again
.0c45	68		        pla
.0c46	a8		        tay
.0c47	68		        pla
.0c48	28		        plp
.0c49	60		        rts

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/l-conv.asm

.0c4a			putyxhex
.0c4a	20 16 0b	         jsr pushall
.0c4d	98		         tya
.0c4e	48		         pha
.0c4f	20 9a 0c	         jsr lsr4bits
.0c52	20 a1 0c	         jsr nibtohex
.0c55	8d f1 cf	         sta hexstr+0
.0c58	68		         pla
.0c59	20 a1 0c	         jsr nibtohex
.0c5c	8d f2 cf	         sta hexstr+1
.0c5f	8a		         txa
.0c60	20 7f 0c	         jsr atohex
.0c63	a2 f1		         ldx #<hexstr+0
.0c65	a0 cf		         ldy #>hexstr+0
.0c67	20 4b 0d	         jsr putsyx
.0c6a	20 4f 0b	         jsr popall
.0c6d	60		         rts
.0c6e			putahex
.0c6e	20 88 0b	         jsr pushregs
.0c71	20 7f 0c	         jsr atohex
.0c74	a2 f3		         ldx #<hexstr+2
.0c76	a0 cf		         ldy #>hexstr+2
.0c78	20 4b 0d	         jsr putsyx
.0c7b	20 b5 0b	         jsr popregs
.0c7e	60		         rts
.0c7f			atohex
.0c7f	08		         php
.0c80	48		         pha
.0c81	48		         pha
.0c82	20 9a 0c	         jsr lsr4bits
.0c85	20 a1 0c	         jsr nibtohex
.0c88	8d f3 cf	         sta hexstr+2
.0c8b	68		         pla
.0c8c	20 a1 0c	         jsr nibtohex
.0c8f	8d f4 cf	         sta hexstr+3
.0c92	a9 00		         lda #$00
.0c94	8d f5 cf	         sta hexstr+4
.0c97	68		         pla
.0c98	28		         plp
.0c99	60		         rts
.0c9a			lsr4bits
.0c9a	08		         php
.0c9b	4a		         lsr a
.0c9c	4a		         lsr a
.0c9d	4a		         lsr a
.0c9e	4a		         lsr a
.0c9f	28		         plp
.0ca0	60		         rts
.0ca1			nibtohex
.0ca1	08		         php
.0ca2	29 0f		         and #$0f
.0ca4	f8		         sed
.0ca5	18		         clc
.0ca6	69 90		         adc #$90
.0ca8	69 40		         adc #$40
.0caa	28		         plp
.0cab	60		         rts
.0cac			bytestohex
.0cac	20 16 0b	         jsr pushall
.0caf	84 fc		         sty zp1+1
.0cb1	86 fb		         stx zp1
.0cb3	08		        php
.0cb4	48		        pha
.0cb5	a9 20		        lda #32
.0cb7	20 d2 ff	        jsr chrout
.0cba	68		        pla
.0cbb	28		        plp
.0cbc	08		        php
.0cbd	48		        pha
.0cbe	a9 05		        lda #5
.0cc0	20 d2 ff	        jsr chrout
.0cc3	68		        pla
.0cc4	28		        plp
.0cc5	08		        php
.0cc6	48		        pha
.0cc7	a9 24		        lda #36
.0cc9	20 d2 ff	        jsr chrout
.0ccc	68		        pla
.0ccd	28		        plp
.0cce	20 4a 0c	         jsr putyxhex   ; prn adresse
.0cd1	08		        php
.0cd2	48		        pha
.0cd3	a9 20		        lda #$20
.0cd5	20 d2 ff	        jsr chrout
.0cd8	68		        pla
.0cd9	28		        plp
.0cda	08		        php
.0cdb	48		        pha
.0cdc	a9 9f		        lda #159
.0cde	20 d2 ff	        jsr chrout
.0ce1	68		        pla
.0ce2	28		        plp
.0ce3	a0 00		         ldy #$00
.0ce5	aa		         tax
.0ce6	8c 36 0d	another  sty offset
.0ce9	b1 fb		         lda (zp1),y
.0ceb	20 6e 0c	         jsr putahex
.0cee	48		         pha
.0cef	20 0e 0d	         jsr petsciiaddr
.0cf2	68		         pla
.0cf3	8d 00 04	petscii  sta $0400
.0cf6	48		         pha
.0cf7	a9 0d		         lda #$0d
.0cf9	8d 00 d8	petcol   sta $d800
.0cfc	68		         pla
.0cfd	08		        php
.0cfe	48		        pha
.0cff	a9 20		        lda #$20
.0d01	20 d2 ff	        jsr chrout
.0d04	68		        pla
.0d05	28		        plp
.0d06	c8		         iny
.0d07	ca		         dex
.0d08	d0 dc		         bne another
.0d0a	20 4f 0b	         jsr popall
.0d0d	60		         rts
.0d0e			petsciiaddr
.0d0e	20 88 0b	        jsr pushregs
.0d11	08		        php
.0d12	a4 d2		        ldy scrnlin+1
.0d14	a6 d1		        ldx scrnlin
.0d16	28		        plp
.0d17	a9 1f		        lda #31
.0d19	18		        clc
.0d1a	6d 36 0d	        adc offset
.0d1d	20 5b 0e	        jsr addatoyx
.0d20	8c f5 0c	        sty petscii+2
.0d23	8e f4 0c	        stx petscii+1
.0d26	8e fa 0c	        stx petcol+1
.0d29	98		        tya
.0d2a	29 fb		        and #%11111011 ;#%00000100
.0d2c	09 d8		        ora #$d8
.0d2e	8d fb 0c	        sta petcol+2
.0d31	a8		        tay
.0d32	20 b5 0b	        jsr popregs
.0d35	60		        rts
>0d36	00		offset  .byte $00

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/l-string.asm

.0d37			puts
.0d37	20 88 0b	         jsr pushregs
.0d3a	a0 00		         ldy #$00   ; y = offset
.0d3c	b1 fb		nextc    lda ($fb),y;lit un caractere
.0d3e	f0 07		         beq out    ;si 0 on sort
.0d40	20 d2 ff	         jsr chrout ;on l'affiche
.0d43	c8		         iny        ;pointe le prochain
.0d44	4c 3c 0d	         jmp nextc  ; et l'affiche
.0d47	20 b5 0b	out      jsr popregs
.0d4a	60		         rts
.0d4b			putsyx
.0d4b	20 16 0b	         jsr pushall;sauve reg + zps
.0d4e	86 fb		         stx $fb    ;$yyxx dans
.0d50	84 fc		         sty $fb+1  ; zp1
.0d52	20 37 0d	         jsr puts
.0d55	20 4f 0b	         jsr popall ;recup reg + zps
.0d58	60		         rts
.0d59			putsc
.0d59	08		         php        ;flag sur stack
.0d5a	48		         pha        ;acc sur stack
.0d5b	48		         pha        ;sauvegarde acc
.0d5c	ad 86 02	         lda kcol   ;recup coul. carac.
.0d5f	8d f6 cf	         sta curcol ; et la sauvegarde
.0d62	68		         pla        ;recup. acc
.0d63	8d 86 02	         sta kcol   ;place coul. voulue
.0d66	20 37 0d	         jsr puts   ;affiche la chaine
.0d69	ad f6 cf	         lda curcol ;recup coul. carac.
.0d6c	8d 86 02	         sta kcol   ; et la replace
.0d6f	68		         pla        ;recup acc
.0d70	28		         plp        ;recup flag
.0d71	60		         rts
.0d72			putxcxy
.0d72	08		         php       ;sauve registres
.0d73	48		         pha       ; ...
.0d74	48		         pha       ;sauve acc
.0d75	ad 86 02	         lda kcol  ;recup couleur carac.
.0d78	8d f6 cf	         sta curcol; et sauvegarde
.0d7b	68		         pla       ;recup acc
.0d7c	8d 86 02	         sta kcol  ;place couleur carac.
.0d7f	20 4b 0d	         jsr putsyx;affiche la chaine
.0d82	ad f6 cf	         lda curcol
.0d85	8d 86 02	         sta kcol
.0d88	68		         pla
.0d89	28		         plp
.0d8a	60		         rts
.0d8b			gotoxy
.0d8b	20 88 0b	        jsr pushregs
.0d8e	8a		        txa ; interchange x et y
.0d8f	48		        pha ; ...
.0d90	98		        tya ; ...
.0d91	aa		        tax ; ...
.0d92	68		        pla ; ...
.0d93	a8		        tay ; ...
.0d94	c0 00		txlow   cpy #0
.0d96	10 02		        bpl txhigh
.0d98	a2 00		        ldx #0
.0d9a	e0 19		txhigh  cpx #25
.0d9c	30 02		        bmi tylow
.0d9e	a2 18		        ldx #24
.0da0	c0 00		tylow   cpy #0
.0da2	10 02		        bpl tyhigh
.0da4	a0 00		        ldy #0
.0da6	c0 28		tyhigh  cpy #40
.0da8	30 02		        bmi allok
.0daa	a0 27		        ldy #39
.0dac	18		allok   clc
.0dad	20 f0 ff	        jsr plot
.0db0	20 b5 0b	        jsr popregs
.0db3	60		        rts
.0db4			putnch
.0db4	20 88 0b	        jsr pushregs
.0db7	20 d2 ff	again   jsr chrout
.0dba	ca		        dex
.0dbb	d0 fa		        bne again
.0dbd	20 b5 0b	        jsr popregs
.0dc0	60		        rts

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/l-float.asm

.0dc1			clrbasbuf
.0dc1	08		         php
.0dc2	48		         pha
.0dc3	98		         tya
.0dc4	48		         pha
.0dc5	a9 00		         lda #$00
.0dc7	a0 59		         ldy #$59
.0dc9	99 00 02	again    sta $0200,y
.0dcc	88		         dey
.0dcd	d0 fa		         bne again
.0dcf	68		         pla
.0dd0	a8		         tay
.0dd1	68		         pla
.0dd2	28		         plp
.0dd3	60		         rts
.0dd4			getfac1
.0dd4	20 88 0b	         jsr pushregs
.0dd7	20 c1 0d	         jsr clrbasbuf
.0dda	20 f9 ab	         jsr prompt
.0ddd	86 7a		         stx $7a
.0ddf	84 7b		         sty $7b
.0de1	20 73 00	         jsr chrget
.0de4	20 f3 bc	         jsr fasctf1 ;conv. ascii->float
.0de7	20 b5 0b	         jsr popregs
.0dea	60		         rts
.0deb			prnfac1
.0deb	20 88 0b	         jsr pushregs
.0dee	20 dd bd	         jsr ff1tasc
.0df1	20 4b 0d	         jsr putsyx
.0df4	20 b5 0b	         jsr popregs
.0df7	60		         rts
.0df8			prnfac2
.0df8	20 fc bb	         jsr ff2tf1
.0dfb	20 eb 0d	         jsr prnfac1
.0dfe	60		         rts

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/l-keyb.asm

.0dff			clrkbbuf
.0dff	08		            php
.0e00	48		            pha
.0e01	a9 00		            lda #0
.0e03	85 c6		            sta 198
.0e05	68		            pla
.0e06	28		            plp
.0e07	60		            rts
.0e08			waitstop
.0e08	08		          php    ;\ sauve les flags
.0e09	48		          pha    ;/  et l'acc.
.0e0a	20 ff 0d	          jsr clrkbbuf
.0e0d	20 e1 ff	wait      jsr stop ; Veri [run/stop]
.0e10	d0 fb		          bne wait ;loop pas pesee.
.0e12	68		          pla    ;\ recup. acc et
.0e13	28		          plp    ;/  les flags.
.0e14	60		          rts
.0e15			anykey
.0e15	08		        php
.0e16	48		        pha
.0e17	20 ff 0d	        jsr clrkbbuf
.0e1a	a5 cb		wait    lda 203    ;lit la matrice de
.0e1c	c9 40		        cmp #64    ; 64 = aucune clef
.0e1e	f0 fa		        beq wait   ; on en attend une.
.0e20	20 29 0e	        jsr kbfree ; Clavier relache.
.0e23	20 ff 0d	        jsr clrkbbuf
.0e26	68		        pla
.0e27	28		        plp
.0e28	60		        rts
.0e29			kbfree
.0e29	08		        php
.0e2a	48		        pha
.0e2b	a5 cb		wait    lda 203    ; lit la matrice
.0e2d	c9 40		        cmp #64    ; 64 = aucune clef
.0e2f	d0 fa		        bne wait   ; attend la relache
.0e31	68		        pla
.0e32	28		        plp
.0e33	60		        rts
.0e34			getkey
.0e34	08		        php
.0e35	20 e4 ff	try     jsr getin  ;tente de lire
.0e38	c9 00		        cmp #0     ; 0 si aucune.
.0e3a	f0 f9		        beq try    ; on reessaye
.0e3c	28		        plp
.0e3d	60		        rts
.0e3e			waitkey
.0e3e	08		        php
.0e3f	48		        pha
.0e40	8d 5a 0e	        sta clef   ;Sauve clef voulue
.0e43	20 ff 0d	        jsr clrkbbuf
.0e46	20 e4 ff	wait    jsr getin  ;Sonde le clavier
.0e49	cd 5a 0e	        cmp clef   ;Compare avec clef
.0e4c	d0 f8		        bne wait   ;Pas la bonne.
.0e4e	68		        pla
.0e4f	28		        plp
.0e50	60		        rts
.0e51			waitspace
.0e51	a9 20		            lda #$20
.0e53	20 3e 0e	            jsr waitkey
.0e56	20 ff 0d	            jsr clrkbbuf
.0e59	60		            rts
>0e5a	00		clef        .byte   0

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/l-math.asm

.0e5b			addatoyx
.0e5b	08		        php
.0e5c	48		        pha
.0e5d	8c 96 0e	        sty reponse+1
.0e60	8e 95 0e	        stx reponse
.0e63	18		        clc
.0e64	6d 95 0e	        adc reponse
.0e67	90 03		        bcc norep
.0e69	ee 96 0e	        inc reponse+1
.0e6c	8d 95 0e	norep   sta reponse
.0e6f	ac 96 0e	        ldy reponse+1
.0e72	ae 95 0e	        ldx reponse
.0e75	68		        pla
.0e76	28		        plp
.0e77	60		        rts
.0e78			subatoyx
.0e78	08		        php
.0e79	48		        pha
.0e7a	8c 96 0e	        sty reponse+1
.0e7d	8e 95 0e	        stx reponse
.0e80	38		        sec
.0e81	ed 95 0e	        sbc reponse
.0e84	b0 03		        bcs noemp
.0e86	ce 96 0e	        dec reponse+1
.0e89	8d 95 0e	noemp   sta reponse
.0e8c	ac 96 0e	        ldy reponse+1
.0e8f	ae 95 0e	        ldx reponse
.0e92	68		        pla
.0e93	28		        plp
.0e94	60		        rts
>0e95	00 00		reponse .word $00

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/l-bitmap.asm

.0e97			bmapinit
.0e97	08		         php
.0e98	48		         pha
.0e99	ad 18 d0	         lda vic+$18
.0e9c	09 08		         ora #$08
.0e9e	8d 18 d0	         sta vic+$18
.0ea1	ad 11 d0	         lda vic+$11
.0ea4	09 20		         ora #$20
.0ea6	8d 11 d0	         sta vic+$11
.0ea9	68		         pla
.0eaa	28		         plp
.0eab	60		         rts
.0eac			bmapclr
.0eac	20 16 0b	         jsr pushall
.0eaf	a9 00		         lda #<vidstart
.0eb1	85 fb		         sta zp1
.0eb3	a9 20		         lda #>vidstart
.0eb5	85 fc		         sta zp1+1
.0eb7	a0 00		         ldy #$00
.0eb9	a9 00		more     lda #$00
.0ebb	91 fb		         sta (zp1),y
.0ebd	20 e2 0b	         jsr inczp1
.0ec0	a5 fc		         lda zp1+1
.0ec2	c9 3f		         cmp #$3f
.0ec4	d0 f3		         bne more
.0ec6	a5 fb		         lda zp1
.0ec8	c9 3f		         cmp #$3f
.0eca	d0 ed		         bne more
.0ecc	20 4f 0b	         jsr popall
.0ecf	60		         rts
.0ed0			bmpfillbk
.0ed0	20 16 0b	         jsr pushall
.0ed3	a9 00		         lda #<bakmem
.0ed5	85 fb		         sta zp1
.0ed7	a9 04		         lda #>bakmem
.0ed9	85 fc		         sta zp1+1
.0edb	a2 08		         ldx #$08
.0edd	a0 00		         ldy #$00
.0edf	a9 01		         lda #$01
.0ee1	91 fb		more     sta (zp1),y
.0ee3	20 e2 0b	         jsr inczp1
.0ee6	e4 fc		         cpx zp1+1
.0ee8	d0 f7		         bne more
.0eea	20 4f 0b	         jsr popall
.0eed	60		         rts

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/l-drawbox.asm

.0eee			drawbox
.0eee	20 16 0b	        jsr pushall
.0ef1	84 fc		        sty zp1+1
.0ef3	86 fb		        stx zp1
.0ef5	a0 00		        ldy #$00
.0ef7	b1 fb		        lda (zp1),y
.0ef9	c8		        iny
.0efa	8d f4 0f	        sta dbtop
.0efd	8d f9 0f	        sta dbclin  ;position de ligne
.0f00	b1 fb		        lda (zp1),y ;Initialise left.
.0f02	c8		        iny
.0f03	8d f5 0f	        sta dbleft
.0f06	b1 fb		        lda (zp1),y ;Initialise width.
.0f08	c8		        iny
.0f09	8d f6 0f	        sta dbwdth
.0f0c	b1 fb		        lda (zp1),y ;Initialise height.
.0f0e	c8		        iny
.0f0f	8d f7 0f	        sta dbhght
.0f12	b1 fb		        lda (zp1),y    ;Initialise couleur.
.0f14	c8		        iny
.0f15	8d f8 0f	        sta dbcoul
.0f18	20 d7 0f	        jsr dbdraw  ;Dessine la fenêtre.
.0f1b	ae f5 0f	        ldx dbleft
.0f1e	e8		        inx
.0f1f	e8		        inx
.0f20	ac f4 0f	        ldy dbtop
.0f23	20 8b 0d	        jsr gotoxy
.0f26	ad f8 0f	        lda dbcoul
.0f29	20 59 0d	        jsr putsc
.0f2c	20 4f 0b	        jsr popall
.0f2f	60		        rts
.0f30			dbtline
.0f30	08		        php         ;Sauve registres.
.0f31	48		        pha
.0f32	a9 b0		        lda #tleft  ;Coin supp gauche.
.0f34	8d f1 0f	        sta cleft
.0f37	a9 c0		        lda #hline  ;Ligne horizontale.
.0f39	8d f3 0f	        sta cmid
.0f3c	a9 ae		        lda #tright ;Coin supp droit.
.0f3e	8d f2 0f	        sta cright
.0f41	28		        plp         ;Récup registres.
.0f42	68		        pla
.0f43	20 8c 0f	        jsr dbdrawline
.0f46	60		        rts
.0f47			dbbline
.0f47	08		        php         ;Sauve registres
.0f48	48		        pha
.0f49	a9 ad		        lda #bleft  ;Coin inf. gauche.
.0f4b	8d f1 0f	        sta cleft
.0f4e	a9 c0		        lda #hline  ;Ligne horizontale.
.0f50	8d f3 0f	        sta cmid
.0f53	a9 bd		        lda #bright ;Coin inf. droit.
.0f55	8d f2 0f	        sta cright
.0f58	28		        plp         ;Récup registres
.0f59	68		        pla
.0f5a	20 8c 0f	        jsr dbdrawline
.0f5d	60		        rts
.0f5e			dbeline
.0f5e	08		        php         ;Sauve registres
.0f5f	48		        pha
.0f60	a9 dd		        lda #vline  ;Ligne verticale.
.0f62	8d f1 0f	        sta cleft
.0f65	a9 20		        lda #space  ;Carac espace.
.0f67	8d f3 0f	        sta cmid
.0f6a	a9 dd		        lda #vline  ;Ligne verticale.
.0f6c	8d f2 0f	        sta cright
.0f6f	28		        plp         ;Récup registres
.0f70	68		        pla
.0f71	20 8c 0f	        jsr dbdrawline
.0f74	60		        rts
.0f75			dbhline
.0f75	08		        php         ;Sauve registres
.0f76	48		        pha
.0f77	a9 ab		        lda #hleft  ;Ex. gauche médian
.0f79	8d f1 0f	        sta cleft
.0f7c	a9 c0		        lda #hline  ;Ligne horizontale
.0f7e	8d f3 0f	        sta cmid
.0f81	a9 b3		        lda #hright ;Ex. droite médian
.0f83	8d f2 0f	        sta cright
.0f86	28		        plp         ;Récup registres
.0f87	68		        pla
.0f88	20 8c 0f	        jsr dbdrawline
.0f8b	60		        rts
.0f8c			dbdrawline
.0f8c	20 88 0b	        jsr pushregs;Sauve registres
.0f8f	ad 86 02	        lda kcol    ;Sauvegarde de la-
.0f92	8d fa 0f	        sta dbbcoul ;-couleur basic.
.0f95	ad f8 0f	        lda dbcoul  ;Sélect. couleur-
.0f98	8d 86 02	        sta kcol    ;-fenêtre.
.0f9b	c9 10		        cmp #$10    ;Couleur inverse?
.0f9d	30 05		        bmi norev   ;Non ...
.0f9f	a9 12		        lda #18     ;Oui place en inv.
.0fa1	20 d2 ff	        jsr chrout
.0fa4	ae f9 0f	norev   ldx dbclin  ;posit curseur au-
.0fa7	ac f5 0f	        ldy dbleft  ;-coin supp-gauche-
.0faa	18		        clc         ;-de la fenêtre.
.0fab	20 f0 ff	        jsr plot
.0fae	ad f1 0f	        lda cleft   ;dessine 1er car.
.0fb1	20 d2 ff	        jsr chrout
.0fb4	ad f3 0f	        lda cmid    ;dessine ligne hor-
.0fb7	ae f6 0f	        ldx dbwdth  ;-selon largeur-
.0fba	ca		        dex         ;-fenêtre moins-
.0fbb	ca		        dex         ;-2 car extrémité.
.0fbc	20 b4 0d	        jsr putnch
.0fbf	ad f2 0f	        lda cright  ;dess. dernier car
.0fc2	20 d2 ff	        jsr chrout
.0fc5	a9 92		        lda #146    ;fin inverse vidéo
.0fc7	20 d2 ff	        jsr chrout
.0fca	ad fa 0f	        lda dbbcoul ;replace la couleur
.0fcd	8d 86 02	        sta kcol    ;basic.
.0fd0	ee f9 0f	        inc dbclin;ligne suivante.
.0fd3	20 b5 0b	        jsr popregs ;Récup registres
.0fd6	60		        rts
.0fd7			dbdraw
.0fd7	20 88 0b	        jsr pushregs;Sauve registres
.0fda	ae f7 0f	        ldx dbhght  ;recup hautr boite
.0fdd	20 30 0f	        jsr dbtline ;Dessine ligne sup
.0fe0	ca		        dex         ;-2 pour les ...
.0fe1	ca		        dex         ;lignes supp/inf
.0fe2	f0 06		        beq linfin  ;Si 0 ligne vide.
.0fe4	20 5e 0f	boucle  jsr dbeline ;Dessine ligne vide
.0fe7	ca		        dex         ;
.0fe8	d0 fa		        bne boucle  ;prochaine si reste
.0fea	20 47 0f	linfin  jsr dbbline ;Dessine ligne inf.
.0fed	20 b5 0b	        jsr popregs ;Récup registres
.0ff0	60		        rts
>0ff1	00		cleft   .byte   0   ;Carac Gauche lin
>0ff2	00		cright  .byte   0   ;Carac droit lin
>0ff3	00		cmid    .byte   0   ;Carac centr lin
>0ff4	00		dbtop   .byte   0   ;Coord haut boite.
>0ff5	00		dbleft  .byte   0   ;Coord gauche boîte
>0ff6	00		dbwdth  .byte   0   ;Larg de la boîte.
>0ff7	00		dbhght  .byte   0   ;Haut de la boîte.
>0ff8	00		dbcoul  .byte   0   ;Coul de la boîte.
>0ff9	00		dbclin  .byte   0   ;No ligne courante
>0ffa	00		dbbcoul .byte   0   ;couleur Basic.

;******  Return to file: dlbug64.asm


;******  Processing file: progvars.asm

>0ffb	00		row      .byte $00
>0ffc	00		col      .byte $00
>0ffd	00		lin      .byte $00
>0ffe	55		sbit     .byte $55
>0fff	00 00		adrs     .word $00
>1001	00		counter  .byte $00
>1002	00 20		baseaddr .word $2000 ;8192
>1004	40 01		scrwidth .word $0140 ;320
>1006	12 05		dmphead .byte 18,5
>1008	41 44 52 45	        .text "adres"
>100c	53
>100d	9f		        .byte 159
>100e	20 30 30 20	        .text " 00 01 02 03"
>1012	30 31 20 30 32 20 30 33
>101a	20 30 34 20	        .text " 04 05 06 07 "
>101e	30 35 20 30 36 20 30 37 20
>1027	99		        .byte 153
>1028	50 45 54 53	        .text "petsciis"
>102c	43 49 49 53
>1030	92 00		        .byte 146,0
>1032	12 05		dmphead2 .byte 18,5
>1034	20 20 20 20	        .text "     "
>1038	20
>1039	9f		        .byte 159
>103a	20 30 38 20	        .text " 08 09 0A 0B"
>103e	30 39 20 30 c1 20 30 c2
>1046	20 30 c3 20	        .text " 0C 0D 0E 0F "
>104a	30 c4 20 30 c5 20 30 c6 20
>1053	99		        .byte 153
>1054	20 20 20 20	        .text "        "
>1058	20 20 20 20
>105c	92 00		        .byte 146,0
>105e	01 12		menu0   .byte 1,18
>1060	9e b0		        .byte kjaune,176
>1062	c0 c0 c0	        .byte 192,192,192
>1065	c0 c0 c0 c0	        .byte 192,192,192,192,192,192
>1069	c0 c0
>106b	c0 c0 c0 c0	        .byte 192,192,192,192,192,192
>106f	c0 c0
>1071	12		        .byte 18
>1072	20 cd c5 ce	        .text " MENU "
>1076	d5 20
>1078	92		        .byte 146
>1079	c0 c0 c0 c0	        .byte 192,192,192,192,192,192
>107d	c0 c0
>107f	c0 c0 c0 c0	        .byte 192,192,192,192,192,192
>1083	c0 c0
>1085	c0 c0 c0	        .byte 192,192,192
>1088	ae		        .byte 174
>1089	00		        .byte 0
>108a	01 13		menu1   .byte 1,19
>108c	9e dd 05	        .byte kjaune,221,kblanc
>108f	20 5b c6 31	        .text " [F1] +128 octets"
>1093	5d 20 2b 31 32 38 20 4f 43 54 45 54 53
>10a0	9e b6 05	        .byte kjaune,182,kblanc
>10a3	20 5b c6 32	        .text " [F2] -128 octets "
>10a7	5d 20 2d 31 32 38 20 4f 43 54 45 54 53 20
>10b5	9e dd 05	        .byte kjaune,221,kblanc
>10b8	00		        .byte 0
>10b9	01 14		menu2   .byte 1,20
>10bb	9e dd 05	        .byte kjaune,221,kblanc
>10be	20 5b c6 33	        .text " [F3] +256 octets"
>10c2	5d 20 2b 32 35 36 20 4f 43 54 45 54 53
>10cf	9e b6 05	        .byte kjaune,182,kblanc
>10d2	20 5b c6 34	        .text " [F4] -256 octets "
>10d6	5d 20 2d 32 35 36 20 4f 43 54 45 54 53 20
>10e4	9e dd 05	        .byte kjaune,221,kblanc
>10e7	00		        .byte 0
>10e8	01 15		menu3   .byte 1,21
>10ea	9e dd 05	        .byte kjaune,221,kblanc
>10ed	20 5b c6 35	        .text " [F5] +512 octets"
>10f1	5d 20 2b 35 31 32 20 4f 43 54 45 54 53
>10fe	9e b6 05	        .byte kjaune,182,kblanc
>1101	20 5b c6 36	        .text " [F6] -512 octets "
>1105	5d 20 2d 35 31 32 20 4f 43 54 45 54 53 20
>1113	9e dd 05	        .byte kjaune,221,kblanc
>1116	00		        .byte 0
>1117	01 16		menu4   .byte 1,22
>1119	9e dd 05	        .byte kjaune,221,kblanc
>111c	20 5b c6 37	        .text " [F7]+4096 octets"
>1120	5d 2b 34 30 39 36 20 4f 43 54 45 54 53
>112d	9e b6 05	        .byte kjaune,182,kblanc
>1130	20 5b c6 38	        .text " [F8]-4096 octets "
>1134	5d 2d 34 30 39 36 20 4f 43 54 45 54 53 20
>1142	9e dd 05	        .byte kjaune,221,kblanc
>1145	00		        .byte 0
>1146	01 17		menu5   .byte 1,23
>1148	9e dd 05	        .byte kjaune,221,kblanc
>114b	20 5b ce 5d	        .text " [N] entrer adre."
>114f	20 45 4e 54 52 45 52 20 41 44 52 45 2e
>115c	9e b6 05	        .byte kjaune,182,kblanc
>115f	20 5b d1 5d	        .text " [Q] Quitter      "
>1163	20 d1 55 49 54 54 45 52 20 20 20 20 20 20
>1171	9e dd 05	        .byte kjaune,221,kblanc
>1174	00		        .byte 0
>1175	01 18		menu6   .byte 1,24
>1177	9e ad		        .byte kjaune,173
>1179	c0 c0 c0 c0	        .byte 192,192,192,192,192,192
>117d	c0 c0
>117f	c0 c0 c0 c0	        .byte 192,192,192,192,192,192
>1183	c0 c0
>1185	c0		        .byte 192
>1186	12		        .byte 18
>1187	20 c4 cc c2	        .text " DLBUG-64 "
>118b	d5 c7 2d 36 34 20
>1191	92 c0		        .byte 146,192
>1193	c0 c0 c0 c0	        .byte 192,192,192,192,192,192
>1197	c0 c0
>1199	c0 c0 c0 c0	        .byte 192,192,192,192,192,192
>119d	c0 c0
>119f	bd 05		        .byte 189,kblanc
>11a1	00		        .byte 0

;******  Return to file: dlbug64.asm


;******  End of listing
