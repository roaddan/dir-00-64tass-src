lib-vars.h,s,rlib-push.l,s,rlib-string.l,s,r               ;---------------------------------------               ; fichier..: lib-conv.l (seq)               ; Auteur...: Daniel Lafrance               ; Version..: 1.0.1 pour T.M.P.               ; Revision.: 20251117               ;---------------------------------------lib-vars.h,s,r                        .include "lib-vars.h"lib-push.l,s,r                        .include "lib-push.l"lib-string.l,s,r                        .include "lib-string.l"               ;---------------------------------------               putyxhex                        .block1000 00                 jsr pushall1001 98                 tya1002 48                 pha1003 20 59 10           jsr lsr4bits1006 20 60 10           jsr nibtohex1009 8d 70 10           sta hexstr+0100c 68                 pla100d 20 60 10           jsr nibtohex1010 8d 71 10           sta hexstr+11013 8a                 txa1014 20 3e 10           jsr atohex1017 a2 70              ldx #<hexstr+01019 a0 10              ldy #>hexstr+0101b 00                 jsr putsyx101c 00                 jsr popall101d 60                 rts                        .bend               ;---------------------------------------               putahex                        .block101e 08                 php101f 48                 pha1020 8d 3d 10           sta thisra1023 98                 tya1024 48                 pha1025 ad 3d 10           lda thisra1028 20 3e 10           jsr atohex102b a2 72              ldx #<hexstr+2102d a0 10              ldy #>hexstr+2102f 00                 jsr putsyx1030 68                 pla1031 a8                 tay1032 68                 pla1033 28                 plp1034 60                 rts1035 00        thisra   .byte $00                        .bend               ;---------------------------------------               atohex                        .block1036 08                 php1037 48                 pha1038 48                 pha1039 20 59 10           jsr lsr4bits103c 20 60 10           jsr nibtohex103f 8d 72 10           sta hexstr+21042 68                 pla1043 20 60 10           jsr nibtohex1046 8d 73 10           sta hexstr+31049 a9 00              lda #$00104b 8d 74 10           sta hexstr+4104e 68                 pla104f 28                 plp1050 60                 rts                        .bend               ;---------------------------------------               lsr4bits                        .block1051 08                 php1052 4a                 lsr a1053 4a                 lsr a1054 4a                 lsr a1055 4a                 lsr a1056 28                 plp1057 60                 rts                        .bend               ;---------------------------------------               nibtohex                        .block1058 08                 php1059 29 0f              and #$0f105b f8                 sed105c 18                 clc105d 69 90              adc #$90105f 69 40              adc #$401061 d8                 cld1062 28                 plp1063 60                 rts                        .bend               ;---------------------------------------               ; Variables Globales1064 01        a2hexcol .byte $01               a2hexpos1065 01        a2hexpx  .byte $011066 01        a2hexpy  .byte $011067 24        a2hexpfx .byte 361068 00 00 00 00 00               hexstr   .byte $00,$00,$00,$00,$00               ;---------------------------------------106d 01        a2bincol .byte $01               a2binpos106e 01        a2binpx  .byte $01106f 01        a2binpy  .byte $011070 25        a2binpfx .byte 371071 30 30 30 30 30 30 30 30 00               binstr   .null "00000000"               ;---------------------------------------107a 01        a2deccol .byte $01               a2decpos107b 01        a2decpx  .byte $01107c 01        a2decpy  .byte $01107d 25        a2decpfx .byte 37107e 30 30 30 30 30 00               decstr   .null "00000"