;---------------------------------------; Fichier.: l-push.asm (seq); Auteur..: Daniel Lafrance; Version.: 0.0.1; Revision: 20251119;---------------------------------------pushall         .block  ;s:pcl,pch         php     ;s;p,pcl,pch         sei         sta ra  ;save a         pla     ;s:pcl,pch         sta rp  ;save rp         pla     ;s:pch         sta pc  ;save pcl         pla     ;s:         sta pc+1;save pch         lda $fb ;save fb         pha     ;s:fb         lda $fc ;save fc         pha     ;s:fc,fb         lda $fd ;save fd         pha     ;s:fd,fc,fb         lda $fe ;save fe         pha     ;s:fe,fd,fc,fb         lda rp  ;save rp         pha     ;s:rp,fe,fd,fc,fb         lda ra  ;save ra         pha     ;s:ra,rp,fe,fd,fc,fb         txa     ;save rx         pha     ;s:rx,ra,rp,fe-fb         tya     ;save y         pha     ;s:ry,rx,ra,rp,fe-fb         lda pc+1;Replace l'adresse         pha     ;s:pch,ry,rx,ra,...         lda pc  ; de retour.         pha     ;s:pcl,pch,ru,rx,ra,...         lda rp  ;Place les flags         pha     ; sur le stack.         lda ra  ;Recupere ra         plp     ;Recupere les flags.         cli         rts         .bend;---------------------------------------popall         .block         sei     ;s:pcl,pch,ry,rx,...         pla     ;s:pch,ry,rx,ra,rp,...         sta pc  ;sauve pcl         pla     ;s:ry,rx,ra,rp,fe...fb         sta pc+1;sauve pch         pla     ;s:rx,ra,rp,fe,fd,fc,fb         tay     ;recupere ry         pla     ;s:ra,rp,fe,fd,fc,fb         tax     ;recupere rx         pla     ;s:rp,fe,fd,fc,fb         sta ra  ;recupere ra         pla     ;s:fe,fd,fc,fb         sta rp  ;recupere les flags.         pla     ;s:fd,fc,fb         sta $fe ;reccupere fe         pla     ;s:fc,fb         sta $fd ;recupere fd         pla     ;s:fb         sta $fc ;recupere fc         pla     ;s:         sta $fb ;recupere fb         lda pc+1;Replaace l'adresse de         pha     ;s:pch         lda pc  ;retour sur la pile         pha     ;s:pcl,pch         lda rp  ;recupere les flags         pha     ;s:rp,pcl,pch         lda ra  ;recupere ra         cli     ;         plp     ;s:pcl,pch         rts         .bend;---------------------------------------pushregs         .block  ;s:pcl,pch         php     ;s;p,pcl,pch         sei         sta ra  ;save a         pla     ;s:pcl,pch         sta rp  ;save rp         pla     ;s:pch         sta pc  ;save pcl         pla     ;s:         sta pc+1;save pch         lda rp  ;save rp         pha     ;s:rp         lda ra  ;save ra         pha     ;s:ra,rp         txa     ;save rx         pha     ;s:rx,ra,rp         tya     ;save y         pha     ;s:ry,rx,ra,rp         lda pc+1;Replace l'adresse         pha     ;s:pch,ry,rx,ra,rp         lda pc  ; de retour.         pha     ;s:pcl,pch,ru,rx,ra,rp         lda rp  ;Place les flags         pha     ; sur le stack.         lda ra  ;Recupere ra         plp     ;Recupere les flags.         cli         rts         .bend;---------------------------------------popregs         .block         sei     ;s:pcl,pch,ry,rx,ra,rp         pla     ;s:pch,ry,rx,ra,rp         sta pc  ;sauve pcl         pla     ;s:ry,rx,ra,rp         sta pc+1;sauve pch         pla     ;s:rx,ra,rp         tay     ;recupere ry         pla     ;s:ra,rp         tax     ;recupere rx         pla     ;s:rp         sta ra  ;recupere ra         pla     ;s:         sta rp  ;recupere les flags.         lda pc+1;Replaace l'adresse de         pha     ;s:pch         lda pc  ;retour sur la pile         pha     ;s:pcl,pch         lda rp  ;recupere les flags         pha     ;s:rp,pcl,pch         lda ra  ;recupere ra         cli     ;         plp     ;s:pcl,pch         rts         .bend;---------------------------------------