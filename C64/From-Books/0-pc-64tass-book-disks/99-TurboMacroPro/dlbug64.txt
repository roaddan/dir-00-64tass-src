
; 64tass Turbo Assembler Macro V1.54.1900 listing file
; 64tass -C -m -a -I /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib -i -L dlbug64.txt -o dlbug64.prg dlbug64.asm
; Sat Dec 20 15:54:21 2025

;Offset	;Hex		;Source

;******  Processing input file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/m-utils.asm


;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/e-vars.asm

=$cfff			libre    = $cfff
=$cfff			rp       = libre    ;1 byte $cfff
=53246			ra       = libre-$01;1 byte $cffe
=53245			rx       = libre-$02;1 byte $cffd
=53244			ry       = libre-$03;1 byte $cffc
=53243			rs       = libre-$04;1 byte $cffb
=53241			pc       = libre-$06;1 word $cff9-$cffa
=53238			curcol   = libre-$09;1 byte $cff6
=53239			memptr   = libre-$08;1 word $cff7-$cff8
=53238			hexv     = libre-$09
=53233			hexstr   = hexv-$05 ;5 byte $cff1-$cff5
=53232			a2hexpfx = hexv-$06 ;1 byte $cff0
=53231			a2hexpy  = hexv-$07 ;1 byte $cfef
=53230			a2hexpx  = hexv-$08 ;1 byte $cfee
=53230			a2hexpos = hexv-$08 ;0 byte $cfee
=53229			a2hexcol = hexv-$09 ;1 byte $cfed
=53229			binv     = hexv-$09
=53220			binstr   = binv-$09 ;9 byte $cfe4-$cfec
=53219			a2binpfx = binv-$0a ;1 byte $cfe3
=53218			a2binpy  = binv-$0b ;1 byte $cfe2
=53217			a2binpx  = binv-$0c ;1 byte $cfe1
=53216			a2binpos = binv-$0d ;0 byte $cfe1
=53215			a2bincol = binv-$0e ;1 byte $cfe0
=53215			decv     = binv-$0e
=53209			decstr   = decv-$06 ;6 byte $cfda-$cfdf
=53209			a2decpfx = decv-$06 ;1 byte $cfd9
=53208			a2decpy  = decv-$07 ;1 byte $cfd8
=53207			a2decpx  = decv-$08 ;1 byte $cfd7
=53207			a2decpos = decv-$08 ;0 byte $cfd7
=53206			a2deccol = decv-$09 ;1 byte $cfd6
=53206			fltv     = decv-$09
=53200			fvar1    = fltv-6  ; 6 byte $cfd0-$cfd5
=53194			fvar2    = fltv-12 ; 6 byte $cfca-$cfcf
=53174			float1   = fltv-32 ;20 byte $cfb6-$cfc9
=53154			float2   = fltv-52 ;20 byte $cfa2-$cfb5
=53153			tval1    = fltv-53 ; 1 byte $cfa1
=53151			tval2    = fltv-55 ; 2 byte $cf9f-$cfa0
=53150			loops    = tval2-1 ; 1 byte $cf9e
=53148			loop16   = loops-2 ; 2 byte $cf9c
=52124			scrncar  = loop16-1024  ;1k byte $cb9c
=51100			scrncol  = scrncar-1024 ;1k byte $c79c
=51098			reponse  = scrncol-2; 2 byte $c79a
=51097			nextvar  = reponse-1 ; 1 byte $cf99

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/e-float.asm

=$ba8c			ffvtf2   = $ba8c ;copie 4 byt $(yyaa) f2
=$bba2			ffvtf1   = $bba2 ;copie fp $(yyaa) to f1
=$bbc7			ff1t5c   = $bbc7 ;copie f1 to $5c-$60
=$bbca			ff1t57   = $bbca ;copie f1 to $57-$5b
=$bbd0			ff1t49   = $bbd0 ;copie f1 to $49.
=$bbd4			ff1tyx   = $bbd4 ;copie f1 mem $yyxx.
=$bbfc			ff2tf1   = $bbfc ;copie f2 to f1
=$bc0c			ff1tf2   = $bc0c ;copie f1 to f2
=$b849			ff1p05   = $b849 ;f1=f1+0.5
=$b850			ffvsf1   = $b850 ;f1=fv-f1 ($yyaa)
=$b853			ff2sf1   = $b853 ;f1=f2-f1
=$b867			ffvpf1   = $b867 ;f1=fv+f1 ($yyaa)
=$b86a			ff2pf1   = $b86a ;f1=f2+f1
=$bd7e			ff1pac   = $bd7e ;f1=f1+ra val ra=0-9
=$ba28			ff1xfv   = $ba28 ;f1=f1*fv ($yyaa)
=$ba2b			ff1xf2   = $ba2b ;f1=f1*f2
=$bae2			ff1x10   = $bae2 ;f1=f1*10
=$bafe			ff1d10   = $bafe ;f1=f1/10
=$bb0f			ffvdf1   = $bb0f ;f1=fv/f1 ($yyaa)
=$bb12			ff2df1   = $bb12 ;f1=f2/f1
=$afe6			ffpor    = $afe6 ;f1=f1 or f2
=$afe9			ffpand   = $afe9 ;f1=f1 and f2
=$b947			ff1com2  = $b947 ;f1=two's compl f1
=$bc1b			ff1rnd   = $bc1b ;f1=round(f1)
=$bc39			ff1sign  = $bc39 ;f1=sgn(f1)
=$bc58			ff1abs   = $bc58 ;f1=abs(f1)
=$bc5b			ffvcmp   = $bc5b ;f1=f1 comp fv ($yyaa)
=$bccc			ff1int   = $bccc ;f1=int(f1)
=$bf71			ff1sqr   = $bf71 ;f1=sqrt(f1)
=$bf7b			ff1ef2   = $bf7b ;f1=fac1^f2
=$b3a2			fiyytf1  = $b3a2 ;f1=float(y)
=$bc3c			fiaatf1  = $bc3c ;conv acc to fp in f1
=$bc44			fi62tf1  = $bc44 ;conv f1 word 62,63
=$bdcd			fiaxtf1  = $bdcd ;f1=float($aaxx)+print
=$bcf3			fasctf1  = $bcf3 ;f1=float(ascii)
=$bddd			ff1tasc  = $bddd ;f1 to ascii ($yyaa)
=$bc9b			ff1tudw  = $bc9b ;f1=unsighed dw(f1)
=$b1bf			ff1swd64 = $b1bf ;f1=sw(f1)->64
=$b1d2			ff1wrd64 = $b1d2 ;f1=uw(f1)->64
=$b1aa			ff1wrday = $b1aa ;f1=word->$aayy
=$b7a1			ff1bytxx = $b7a1 ;f1 to byte in x
=$b79e			ff1evalx = $b79e ;eval. expr. f1 to x
=$e264			ff1cos   = $e264 ;f1=sin(f1+(pi/2))
=$e26b			ff1sin   = $e26b ;f1=sin(f1)
=$e2b4			ff1tan   = $e2b4 ;f1=sin(f1)/cos(f1)
=$e30e			ff1atn   = $e30e ;f1=atn(f1)
=$bc2b			fsngf1   = $bc2b ;check f1 sign

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/e-64map.asm

=$73			chrget   = $73   ;Recup Basic car texte
=$79			chrgot   = $79   ; ...une seconde fois.
=$d1			scrnlin  = $d1   ;acresse ligne courante
=$fb			zp1      = $fb   ;1er Zpage prog. usager
=$fd			zp2      = $fd   ;2em Zpage prog. usager
=$0100			fascii   = $0100 ;region conv FP a ascii
=$0286			kcol     = $0286 ;Couleur car affiche.
=$fce2			reboot   = $fce2 ;Redemarrage a froid
=$fe66			reset    = $fe66 ;Redemarrare a chaud
=$e3bf			intcgt   = $e3bf ;Initialize chrget
=$ffa5			acptr    = $ffa5 ;Recoit byte port serie
=$ffc6			chkin    = $ffc6 ;Definie canal entree
=$ffc9			chkout   = $ffc9 ;Definie canal sortie
=$ffcf			chrin    = $ffcf ;Entre car canal entree
=$ffd2			chrout   = $ffd2 ;Sort car canal sortie
=$ff81			cint     = $ff81 ;Init ecran edit+vicii
=$ffa8			ciout    = $ffa8 ;Sort car sur bus serie
=$ffe7			clall    = $ffe7 ;Ferme tout fichier ouv
=$ffc3			close    = $ffc3 ;Ferme fichier logique
=$ffcc			clrchn   = $ffcc ;Efface caneaux i/o
=$ffe4			getin    = $ffe4 ;Entre un car de entree
=$fff3			iobase   = $fff3 ;Definie page mem. i/o
=$ff84			ioinit   = $ff84 ;Init. Periph. i/o
=$ffb1			listen   = $ffb1 ;Cmd LISTEN a perip bus
=$ffd5			load     = $ffd5 ;Charge periph. en ram
=$ff9c			membot   = $ff9c ;Lec./Ecr. bas mem.
=$ff99			memtop   = $ff99 ;Lec./Ecr. haut mem.
=$ffc0			open     = $ffc0 ;Ouvre fichier logique.
=$fff0			plot     = $fff0 ;Lec./Ecr. pos. curseur
=$ff87			ramtas   = $ff87 ;Init ram tapebuf+ecran
=$ffde			rdtim    = $ffde ;Recup horloge systeme
=$ffb7			readst   = $ffb7 ;Recup mot status i/o
=$ff8a			restor   = $ff8a ;Replace vecteurs i/o
=$ffd8			save     = $ffd8 ;Sauve mem vers periph
=$ff9f			scnkey   = $ff9f ;Sonde le clavier
=$ffed			screen   = $ffed ;Recup format ecran
=$ff93			second   = $ff93 ;Trans adr secnd/listen
=$ffba			setlfs   = $ffba ;Prep. fichier logique
=$ff90			setmsg   = $ff90 ;Prep. kmesg outpt flag
=$ffbd			setnam   = $ffbd ;Prep. nom de fichier
=$ffdb			settim   = $ffdb ;Init. horloge systeme
=$ffa2			settmo   = $ffa2 ;Place ieee delai fin
=$ffe1			stop     = $ffe1 ;Verif. clef stop
=$ffb4			talk     = $ffb4 ;Cmd LISTEN periph/SB
=$ff96			tsks     = $ff96 ;Trans. TALK secnd adr
=$ffea			udtim    = $ffea ;Maj. horloge systeme
=$ffae			unlsn    = $ffae ;Trans. UNLISTEN
=$ffab			untlk    = $ffab ;Trans. UNTALK
=$ffd8			vector   = $ffd8 ;Lec/ecr vecteurs i/o
=$d000			vic      = $d000 ;debut du vic-ii
=$0340			sprtmem  = $0340 ;832
=$07f8			sprtloc  = $07f8 ;2040
=$2000			vidstart = $2000
=$3f3f			vidend   = $3f3f
=$0400			bakmem   = $0400 ;1024 end at $0800
=$abf9			prompt   = $abf9 ;prompt ? dans tampon.
=$ab24			strout   = $ab24 ;print string at $0022
=8			discase = 8
=9			enacase = 9
=14			locase  = 14
=142			upcase  = 142
=17			crsdown = 17
=29			crsright= 29
=145			crsup   = 145
=157			crsleft = 157
=18			enarevs = 18
=146			disrevs = 146
=19			gohome  = 19
=147			clrhome = 147
=20			delete  = 20
=32			space   = 32
=0			snoir   = 0
=144			knoir   = 144
=1			sblanc  = 1
=5			kblanc  = 5
=2			srouge  = 2
=28			krouge  = 28
=3			scyan   = 3
=159			kcyan   = 159
=4			smauve  = 4
=156			kmauve  = 156
=5			svert   = 5
=30			kvert   = 30
=6			sbleu   = 6
=31			kbleu   = 31
=7			sjaune  = 7
=158			kjaune  = 158
=8			sorange = 8
=129			korange = 129
=9			sbrun   = 9
=149			kbrun   = 149
=10			srose   = 10
=150			krose   = 150
=11			sgris1  = 11
=151			kgris1  = 151
=12			sgris2  = 12
=152			kgris2  = 152
=13			svertp  = 13
=153			kvertp  = 153
=14			sbleup  = 14
=154			kbleup  = 154
=15			sgris3  = 15
=155			kgris3  = 155
=176			tleft    = 176 ; Coin suppérieur gauche.
=174			tright   = 174 ; Coin suppérieur droit.
=173			bleft    = 173 ; Coin inférieur gauche.
=189			bright   = 189 ; Coin inférieur droit.
=171			hleft    = 171 ; Extr. gauche médianne.
=179			hright   = 179 ; Extr. droite médianne.
=221			vline    = 221 ; Ligne verticale.
=192			hline    = 192 ; Ligne horizontale.

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/l-bashead.asm

.0801			start
>0801	0b 08		bcmd1    .word $080b ;adresse de la pro-
>0803	0a 00		         .word $0a   ;no. ligne basic.
>0805	9e		         .byte $9e   ;jeton pour la
>0806	32 30 36 31	         .text "2061";adresse du debut
>080a	00		         .byte $00   ;fin de cmd basic.
>080b	00 00		bcmd2    .word $00   ;adresse de la pro-
.080d	20 14 08	         jsr initscr
.0810	4c 2d 08	         jmp main
.0813	00		         brk
.0814			initscr
.0814	08		         php
.0815	48		         pha
.0816	a9 05		bord     lda #$05    ;place la couleur
.0818	8d 20 d0	         sta $d020   ; de la bordure.
.081b	a9 06		back     lda #$06    ;place la couleur
.081d	8d 21 d0	         sta $d021   ; du fond d'ecran.
.0820	a9 01		text     lda #$01    ;place la couleur
.0822	8d 86 02	         sta $0286   ; du texte.
.0825	a9 93		         lda #$93    ;efface l'ecran par
.0827	20 d2 ff	         jsr chrout  ; chrout du kernal.
.082a	68		         pla
.082b	28		         plp
.082c	60		         rts

;******  Return to file: dlbug64.asm

.082d			main
.082d	08		        php
.082e	48		        pha
.082f	a9 0e		        lda #14
.0831	20 d2 ff	        jsr chrout
.0834	68		        pla
.0835	28		        plp
.0836	08		        php
.0837	48		        pha
.0838	a9 08		        lda #8
.083a	20 d2 ff	        jsr chrout
.083d	68		        pla
.083e	28		        plp
.083f	20 95 0a	        jsr ramprobe
.0842	60		        rts
>0843	30 30 30 30	hexval .null "0000"
>0847	00
>0848	45 52 52 45	error  .null "erreur"
>084c	55 52 00
>084f	45 53 54 20	estok  .null "est ok"
>0853	4f 4b 00
.0856			aide
.0856	20 fa 0d	        jsr pushall
.0859	20 8c 0d	        jsr scrnsave
.085c	a0 0d		        ldy #>boxh
.085e	a2 80		        ldx #<boxh
.0860	20 c9 12	        jsr drawbox
.0863	20 bd 11	        jsr getkey
.0866	20 9f 0d	        jsr scrnrest
.0869	20 33 0e	        jsr popall
.086c	60		        rts
.086d			showmenu
.086d	20 6c 0e	        jsr pushregs
.0870	a2 01		        ldx #1
.0872	a0 00		        ldy #0
.0874	20 f5 10	        jsr gotoxy
.0877	20 99 0e	        jsr popregs
.087a	20 6c 0e	        jsr pushregs
.087d	a0 0b		        ldy #>dmphead+1
.087f	a2 ab		        ldx #<dmphead
.0881	20 7d 10	        jsr putsyx
.0884	20 99 0e	        jsr popregs
.0887	20 6c 0e	        jsr pushregs
.088a	a2 01		        ldx #1
.088c	a0 01		        ldy #1
.088e	20 f5 10	        jsr gotoxy
.0891	20 99 0e	        jsr popregs
.0894	20 6c 0e	        jsr pushregs
.0897	a0 0b		        ldy #>dmphead2+1
.0899	a2 d7		        ldx #<dmphead2
.089b	20 7d 10	        jsr putsyx
.089e	20 99 0e	        jsr popregs
.08a1	20 6c 0e	        jsr pushregs
.08a4	a2 01		        ldx #1
.08a6	a0 14		        ldy #20
.08a8	20 f5 10	        jsr gotoxy
.08ab	20 99 0e	        jsr popregs
.08ae	20 6c 0e	        jsr pushregs
.08b1	ae 03 0c	        ldx menu0
.08b4	ac 04 0c	        ldy menu0+1
.08b7	20 f5 10	        jsr gotoxy
.08ba	a0 0c		        ldy #>menu0+2
.08bc	a2 05		        ldx #<menu0+2
.08be	20 7d 10	        jsr putsyx
.08c1	20 99 0e	        jsr popregs
.08c4	20 6c 0e	        jsr pushregs
.08c7	ae 2f 0c	        ldx menu1
.08ca	ac 30 0c	        ldy menu1+1
.08cd	20 f5 10	        jsr gotoxy
.08d0	a0 0c		        ldy #>menu1+2
.08d2	a2 31		        ldx #<menu1+2
.08d4	20 7d 10	        jsr putsyx
.08d7	20 99 0e	        jsr popregs
.08da	20 6c 0e	        jsr pushregs
.08dd	ae 5e 0c	        ldx menu2
.08e0	ac 5f 0c	        ldy menu2+1
.08e3	20 f5 10	        jsr gotoxy
.08e6	a0 0c		        ldy #>menu2+2
.08e8	a2 60		        ldx #<menu2+2
.08ea	20 7d 10	        jsr putsyx
.08ed	20 99 0e	        jsr popregs
.08f0	20 6c 0e	        jsr pushregs
.08f3	ae 8d 0c	        ldx menu3
.08f6	ac 8e 0c	        ldy menu3+1
.08f9	20 f5 10	        jsr gotoxy
.08fc	a0 0c		        ldy #>menu3+2
.08fe	a2 8f		        ldx #<menu3+2
.0900	20 7d 10	        jsr putsyx
.0903	20 99 0e	        jsr popregs
.0906	20 6c 0e	        jsr pushregs
.0909	ae bc 0c	        ldx menu4
.090c	ac bd 0c	        ldy menu4+1
.090f	20 f5 10	        jsr gotoxy
.0912	a0 0c		        ldy #>menu4+2
.0914	a2 be		        ldx #<menu4+2
.0916	20 7d 10	        jsr putsyx
.0919	20 99 0e	        jsr popregs
.091c	20 6c 0e	        jsr pushregs
.091f	ae eb 0c	        ldx menu5
.0922	ac ec 0c	        ldy menu5+1
.0925	20 f5 10	        jsr gotoxy
.0928	a0 0c		        ldy #>menu5+2
.092a	a2 ed		        ldx #<menu5+2
.092c	20 7d 10	        jsr putsyx
.092f	20 99 0e	        jsr popregs
.0932	20 6c 0e	        jsr pushregs
.0935	ae 1a 0d	        ldx menu6
.0938	ac 1b 0d	        ldy menu6+1
.093b	20 f5 10	        jsr gotoxy
.093e	a0 0d		        ldy #>menu6+2
.0940	a2 1c		        ldx #<menu6+2
.0942	20 7d 10	        jsr putsyx
.0945	20 99 0e	        jsr popregs
.0948	60		        rts

;******  Processing file: memdump.asm

.0949			memdump
.0949	20 6c 0e	        jsr pushregs
.094c	8d 9a 09	        sta nligne ;sauve ligne
.094f	8d 9e cf	        sta loops  ;init boucle
.0952	08		        php
.0953	8c 9c 09	        sty dumpadr+1
.0956	8e 9b 09	        stx dumpadr
.0959	28		        plp
.095a	ad 9c 09	        lda dumpadr+1
.095d	48		        pha
.095e	ad 9b 09	        lda dumpadr
.0961	48		        pha
.0962			again
.0962	08		        php
.0963	ac 9c 09	        ldy dumpadr+1
.0966	ae 9b 09	        ldx dumpadr
.0969	28		        plp
.096a	a9 08		        lda #$08
.096c	08		        php
.096d	48		        pha
.096e	a9 0d		        lda #$0d
.0970	20 d2 ff	        jsr chrout
.0973	68		        pla
.0974	28		        plp
.0975	20 de 0f	        jsr bytestohex
.0978	20 f2 0e	        jsr yxtoptr
.097b	20 1d 0f	        jsr incptr8
.097e	20 f9 0e	        jsr ptrtoyx
.0981	08		        php
.0982	8c 9c 09	        sty dumpadr+1
.0985	8e 9b 09	        stx dumpadr
.0988	28		        plp
.0989	ce 9e cf	        dec loops
.098c	d0 d4		        bne again
.098e	68		        pla
.098f	8d 9b 09	        sta dumpadr
.0992	68		        pla
.0993	8d 9c 09	        sta dumpadr+1
.0996	20 99 0e	        jsr popregs
.0999	60		        rts
>099a	16		nligne  .byte $16
>099b	00 f0		dumpadr .word $f000
.099d			putahexdec
.099d	20 6c 0e	        jsr pushregs
.09a0	08		        php
.09a1	48		        pha
.09a2	a9 9e		        lda #kjaune
.09a4	20 d2 ff	        jsr chrout
.09a7	68		        pla
.09a8	28		        plp
.09a9	20 52 0f	        jsr putahex
.09ac	08		        php
.09ad	48		        pha
.09ae	a9 20		        lda #$20
.09b0	20 d2 ff	        jsr chrout
.09b3	68		        pla
.09b4	28		        plp
.09b5	08		        php
.09b6	48		        pha
.09b7	a9 9f		        lda #kcyan
.09b9	20 d2 ff	        jsr chrout
.09bc	68		        pla
.09bd	28		        plp
.09be	aa		        tax
.09bf	a9 00		        lda #$00
.09c1	20 cd bd	        jsr fiaxtf1
.09c4	20 99 0e	        jsr popregs
.09c7	60		        rts

;******  Return to file: dlbug64.asm


;******  Processing file: getadr.asm

.09c8			getadr
.09c8	20 fa 0d	        jsr pushall
.09cb	20 8c 0d	        jsr scrnsave
.09ce	a0 0d		        ldy #>boxa
.09d0	a2 47		        ldx #<boxa
.09d2	20 c9 12	        jsr drawbox
.09d5	a9 0d		        lda #boxac
.09d7	ae 56 0d	        ldx boxat1
.09da	ac 57 0d	        ldy boxat1+1
.09dd	20 f5 10	        jsr gotoxy
.09e0	08		        php
.09e1	a0 0d		        ldy #>boxat1+2
.09e3	a2 58		        ldx #<boxat1+2
.09e5	28		        plp
.09e6	20 c3 10	        jsr putscyx
.09e9	ae 6e 0d	        ldx boxat2
.09ec	ac 6f 0d	        ldy boxat2+1
.09ef	20 f5 10	        jsr gotoxy
.09f2	08		        php
.09f3	a0 0d		        ldy #>boxat2+2
.09f5	a2 70		        ldx #<boxat2+2
.09f7	28		        plp
.09f8	20 c3 10	        jsr putscyx
.09fb	a0 05		        ldy #$05
.09fd	a9 00		        lda #$00
.09ff	8d 93 0a	        sta hexptr
.0a02	99 8e 0a	more0   sta hexadr,y
.0a05	88		        dey
.0a06	10 fa		        bpl more0
.0a08	a9 04		        lda #$04
.0a0a	8d 94 0a	        sta counter
.0a0d	20 bd 11	hexread jsr getkey
.0a10	c9 0d		        cmp #$0d
.0a12	f0 5d		        beq out
.0a14	c9 14		        cmp #$14        ; touche bkspc
.0a16	f0 28		        beq bkspc
.0a18	c9 5f		        cmp #$5f        ; touche esc
.0a1a	f0 55		        beq out
.0a1c	c9 30		        cmp #$30        ;<0
.0a1e	90 ed		        bcc hexread     ; less than
.0a20	c9 a7		        cmp #$a7        ;>F
.0a22	b0 e9		        bcs hexread     ; greater than
.0a24	c9 3a		        cmp #$3a        ;>9
.0a26	90 04		        bcc ok
.0a28	c9 41		        cmp #$41        ;
.0a2a	90 e1		        bcc hexread
.0a2c	20 d2 ff	ok      jsr chrout
.0a2f	ac 93 0a	        ldy hexptr
.0a32	99 8e 0a	        sta hexadr,y
.0a35	ee 93 0a	        inc hexptr
.0a38	ce 94 0a	        dec counter
.0a3b	f0 34		        beq out
.0a3d	4c 0d 0a	        jmp hexread
.0a40	ad 93 0a	bkspc   lda hexptr
.0a43	f0 29		        beq nothing
.0a45	08		        php
.0a46	48		        pha
.0a47	a9 9d		        lda #157
.0a49	20 d2 ff	        jsr chrout
.0a4c	68		        pla
.0a4d	28		        plp
.0a4e	08		        php
.0a4f	48		        pha
.0a50	a9 20		        lda #32
.0a52	20 d2 ff	        jsr chrout
.0a55	68		        pla
.0a56	28		        plp
.0a57	08		        php
.0a58	48		        pha
.0a59	a9 9d		        lda #157
.0a5b	20 d2 ff	        jsr chrout
.0a5e	68		        pla
.0a5f	28		        plp
.0a60	ee 94 0a	        inc counter
.0a63	ce 93 0a	        dec hexptr
.0a66	ac 93 0a	        ldy hexptr
.0a69	a9 00		        lda #$00
.0a6b	99 8e 0a	        sta hexadr,y
.0a6e	4c 0d 0a	nothing jmp hexread
.0a71	20 9f 0d	out     jsr scrnrest
.0a74	08		        php
.0a75	a0 0a		        ldy #>hexadr
.0a77	a2 8e		        ldx #<hexadr
.0a79	28		        plp
.0a7a	20 90 0f	        jsr strhexval
.0a7d	b0 09		        bcs nogood
.0a7f	8a		        txa
.0a80	29 f0		        and #$f0
.0a82	8d 9b 09	        sta dumpadr
.0a85	8c 9c 09	        sty dumpadr+1
.0a88			nogood
.0a88	20 33 0e	        jsr popall
.0a8b	60		        rts
>0a8c	03 18		hexpos .byte 3,24
>0a8e	00 00 00 00	hexadr .byte 0,0,0,0,0
>0a92	00
>0a93	00		hexptr .byte $00
>0a94	00		counter .byte $00

;******  Return to file: dlbug64.asm


;******  Processing file: ramprobe.asm

.0a95			ramprobe
.0a95	20 6c 0e	        jsr pushregs
.0a98	20 88 11	        jsr clrkbbuf
.0a9b	08		        php
.0a9c	8c 9c 09	        sty dumpadr+1
.0a9f	8e 9b 09	        stx dumpadr
.0aa2	28		        plp
.0aa3	08		        php
.0aa4	48		        pha
.0aa5	a9 93		        lda #147
.0aa7	20 d2 ff	        jsr chrout
.0aaa	68		        pla
.0aab	28		        plp
.0aac	20 6d 08	        jsr showmenu
.0aaf	4c 04 0b	        jmp runit
.0ab2	18		ava128  clc
.0ab3	ad 9b 09	        lda dumpadr
.0ab6	69 80		        adc #$80
.0ab8	90 03		        bcc nrep128
.0aba	ee 9c 09	        inc dumpadr+1
.0abd	8d 9b 09	nrep128 sta dumpadr
.0ac0	4c 04 0b	        jmp runit
.0ac3	38		arr128  sec
.0ac4	ad 9b 09	        lda dumpadr
.0ac7	e9 80		        sbc #$80
.0ac9	b0 03		        bcs nemp128
.0acb	ce 9c 09	        dec dumpadr+1
.0ace	8d 9b 09	nemp128 sta dumpadr
.0ad1	4c 04 0b	        jmp runit
.0ad4	ee 9c 09	ava256  inc dumpadr+1
.0ad7	4c 04 0b	        jmp runit
.0ada	ce 9c 09	arr256  dec dumpadr+1
.0add	4c 04 0b	        jmp runit
.0ae0	ee 9c 09	ava512  inc dumpadr+1
.0ae3	4c 04 0b	        jmp runit
.0ae6	ce 9c 09	arr512  dec dumpadr+1
.0ae9	4c 04 0b	        jmp runit
.0aec	ad 9c 09	arr1k   lda dumpadr+1
.0aef	38		        sec
.0af0	e9 10		        sbc #$10
.0af2	8d 9c 09	        sta dumpadr+1
.0af5	4c 04 0b	        jmp runit
.0af8	ad 9c 09	ava1k   lda dumpadr+1
.0afb	18		        clc
.0afc	69 10		        adc #$10
.0afe	8d 9c 09	        sta dumpadr+1
.0b01	4c 04 0b	        jmp runit
.0b04			runit
.0b04	20 6c 0e	        jsr pushregs
.0b07	a2 01		        ldx #1
.0b09	a0 01		        ldy #1
.0b0b	20 f5 10	        jsr gotoxy
.0b0e	20 99 0e	        jsr popregs
.0b11	a9 10		        lda #16
.0b13	08		        php
.0b14	ac 9c 09	        ldy dumpadr+1
.0b17	ae 9b 09	        ldx dumpadr
.0b1a	28		        plp
.0b1b	20 49 09	        jsr memdump
.0b1e	20 bd 11	morekey jsr getkey
.0b21	c9 85		chkf1   cmp #133   ; touche [F1]
.0b23	d0 09		        bne chkf2
.0b25	20 56 08	        jsr aide
.0b28	4c 04 0b	        jmp runit
.0b2b	4c 1e 0b	        jmp morekey; +128
.0b2e	c9 89		chkf2   cmp #137   ; touche [F2]
.0b30	d0 12		        bne chkf3
.0b32	a0 00		        ldy #$00
.0b34	a2 00		        ldx #$00
.0b36	08		        php
.0b37	8c 9c 09	        sty dumpadr+1
.0b3a	8e 9b 09	        stx dumpadr
.0b3d	28		        plp
.0b3e	4c 04 0b	        jmp runit
.0b41	4c 1e 0b	        jmp morekey;-128
.0b44	c9 86		chkf3   cmp #134   ; touche [F3]
.0b46	d0 03		        bne chkf4
.0b48	4c b2 0a	        jmp ava128 ;+128
.0b4b	c9 8a		chkf4   cmp #138   ; touche [F4]
.0b4d	d0 03		        bne chkf5
.0b4f	4c c3 0a	        jmp arr128 ;-128
.0b52	c9 87		chkf5   cmp #135   ; touche [F6]
.0b54	d0 03		        bne chkf6
.0b56	4c e0 0a	        jmp ava512  ;+512
.0b59	c9 8b		chkf6   cmp #139   ; touche [F6]
.0b5b	d0 03		        bne chkf7
.0b5d	4c e6 0a	        jmp arr512 ;-512
.0b60	c9 88		chkf7   cmp #136   ; touche [F7]
.0b62	d0 03		        bne chkf8
.0b64	4c f8 0a	        jmp ava1k  ;+1024
.0b67	c9 8c		chkf8   cmp #140   ; touche [F8]
.0b69	d0 03		        bne chk20
.0b6b	4c ec 0a	        jmp arr1k  ;-1024
.0b6e	c9 20		chk20   cmp #$20   ; touche espace
.0b70	d0 03		        bne chkn
.0b72	4c 04 0b	        jmp runit
.0b75	c9 47		chkn    cmp #71    ; touche G
.0b77	d0 06		        bne chkq
.0b79	20 c8 09	        jsr getadr ; demande adresse
.0b7c	20 04 0b	        jsr runit
.0b7f	c9 5f		chkq    cmp #$5f   ; touche [<-]
.0b81	f0 03		        beq quitter
.0b83	4c 1e 0b	        jmp morekey
.0b86	20 99 0e	quitter jsr popregs
.0b89	08		        php
.0b8a	48		        pha
.0b8b	a9 93		        lda #147
.0b8d	20 d2 ff	        jsr chrout
.0b90	68		        pla
.0b91	28		        plp
.0b92	20 6c 0e	        jsr pushregs
.0b95	a2 00		        ldx #0
.0b97	a0 00		        ldy #0
.0b99	20 f5 10	        jsr gotoxy
.0b9c	20 99 0e	        jsr popregs
.0b9f	60		        rts

;******  Return to file: dlbug64.asm


;******  Processing file: string-fr.asm

>0ba0	00		row      .byte $00
>0ba1	00		col      .byte $00
>0ba2	00		lin      .byte $00
>0ba3	55		sbit     .byte $55
>0ba4	00 00		adrs     .word $00
>0ba6	00		counter  .byte $00
>0ba7	00 20		baseaddr .word $2000 ;8192
>0ba9	40 01		scrwidth .word $0140 ;320
>0bab	12 05		dmphead .byte 18,5
>0bad	41 44 52 45	        .text "adres"
>0bb1	53
>0bb2	9f		        .byte 159
>0bb3	20 30 30 20	        .text " 00 01 02 03"
>0bb7	30 31 20 30 32 20 30 33
>0bbf	20 30 34 20	        .text " 04 05 06 07 "
>0bc3	30 35 20 30 36 20 30 37 20
>0bcc	99		        .byte 153
>0bcd	50 45 54 53	        .text "petsciis"
>0bd1	43 49 49 53
>0bd5	92 00		        .byte 146,0
>0bd7	12 05		dmphead2 .byte 18,5
>0bd9	20 20 20 20	        .text "     "
>0bdd	20
>0bde	9f		        .byte 159
>0bdf	20 30 38 20	        .text " 08 09 0A 0B"
>0be3	30 39 20 30 c1 20 30 c2
>0beb	20 30 c3 20	        .text " 0C 0D 0E 0F "
>0bef	30 c4 20 30 c5 20 30 c6 20
>0bf8	99		        .byte 153
>0bf9	20 20 20 20	        .text "        "
>0bfd	20 20 20 20
>0c01	92 00		        .byte 146,0
>0c03	01 12		menu0   .byte 1,18
>0c05	9e b0		        .byte kjaune,176
>0c07	c0 c0 c0	        .byte 192,192,192
>0c0a	c0 c0 c0 c0	        .byte 192,192,192,192,192,192
>0c0e	c0 c0
>0c10	c0 c0 c0 c0	        .byte 192,192,192,192,192,192
>0c14	c0 c0
>0c16	12		        .byte 18
>0c17	20 cd c5 ce	        .text " MENU "
>0c1b	d5 20
>0c1d	92		        .byte 146
>0c1e	c0 c0 c0 c0	        .byte 192,192,192,192,192,192
>0c22	c0 c0
>0c24	c0 c0 c0 c0	        .byte 192,192,192,192,192,192
>0c28	c0 c0
>0c2a	c0 c0 c0	        .byte 192,192,192
>0c2d	ae		        .byte 174
>0c2e	00		        .byte 0
>0c2f	01 13		menu1   .byte 1,19
>0c31	9e dd 05	        .byte kjaune,221,kblanc
>0c34	20 5b c6 31	        .text " [F1] Aide       "
>0c38	5d 20 c1 49 44 45 20 20 20 20 20 20 20
>0c45	9e b6 05	        .byte kjaune,182,kblanc
>0c48	20 5b c6 32	        .text " [F2] aller $0000 "
>0c4c	5d 20 41 4c 4c 45 52 20 24 30 30 30 30 20
>0c5a	9e dd 05	        .byte kjaune,221,kblanc
>0c5d	00		        .byte 0
>0c5e	01 14		menu2   .byte 1,20
>0c60	9e dd 05	        .byte kjaune,221,kblanc
>0c63	20 5b c6 33	        .text " [F3] +128 octets"
>0c67	5d 20 2b 31 32 38 20 4f 43 54 45 54 53
>0c74	9e b6 05	        .byte kjaune,182,kblanc
>0c77	20 5b c6 34	        .text " [F4] -128 octets "
>0c7b	5d 20 2d 31 32 38 20 4f 43 54 45 54 53 20
>0c89	9e dd 05	        .byte kjaune,221,kblanc
>0c8c	00		        .byte 0
>0c8d	01 15		menu3   .byte 1,21
>0c8f	9e dd 05	        .byte kjaune,221,kblanc
>0c92	20 5b c6 35	        .text " [F5] +512 octets"
>0c96	5d 20 2b 35 31 32 20 4f 43 54 45 54 53
>0ca3	9e b6 05	        .byte kjaune,182,kblanc
>0ca6	20 5b c6 36	        .text " [F6] -512 octets "
>0caa	5d 20 2d 35 31 32 20 4f 43 54 45 54 53 20
>0cb8	9e dd 05	        .byte kjaune,221,kblanc
>0cbb	00		        .byte 0
>0cbc	01 16		menu4   .byte 1,22
>0cbe	9e dd 05	        .byte kjaune,221,kblanc
>0cc1	20 5b c6 37	        .text " [F7] +4K octets "
>0cc5	5d 20 2b 34 cb 20 4f 43 54 45 54 53 20
>0cd2	9e b6 05	        .byte kjaune,182,kblanc
>0cd5	20 5b c6 38	        .text " [F8] -4K octets  "
>0cd9	5d 20 2d 34 cb 20 4f 43 54 45 54 53 20 20
>0ce7	9e dd 05	        .byte kjaune,221,kblanc
>0cea	00		        .byte 0
>0ceb	01 17		menu5   .byte 1,23
>0ced	9e dd 05	        .byte kjaune,221,kblanc
>0cf0	20 20 5b c7	        .text "  [G] Aller a ?  "
>0cf4	5d 20 c1 4c 4c 45 52 20 41 20 3f 20 20
>0d01	9e b6 05	        .byte kjaune,182,kblanc
>0d04	20 20 5b	        .text "  ["
>0d07	5f		        .byte 95
>0d08	5d 20 d1 55	        .text "] Quitter     "
>0d0c	49 54 54 45 52 20 20 20 20 20
>0d16	9e dd 05	        .byte kjaune,221,kblanc
>0d19	00		        .byte 0
>0d1a	01 18		menu6   .byte 1,24
>0d1c	9e ad		        .byte kjaune,173
>0d1e	c0 c0 c0 c0	        .byte 192,192,192,192,192,192
>0d22	c0 c0
>0d24	c0 c0 c0 c0	        .byte 192,192,192,192,192,192
>0d28	c0 c0
>0d2a	c0		        .byte 192
>0d2b	12		        .byte 18
>0d2c	20 c4 cc c2	        .text " DLBUG-64 "
>0d30	d5 c7 2d 36 34 20
>0d36	92 c0		        .byte 146,192
>0d38	c0 c0 c0 c0	        .byte 192,192,192,192,192,192
>0d3c	c0 c0
>0d3e	c0 c0 c0 c0	        .byte 192,192,192,192,192,192
>0d42	c0 c0
>0d44	bd 05		        .byte 189,kblanc
>0d46	00		        .byte 0
=7			boxax   = 7
=7			boxay   = 7
=26			boxaw   = 26
=4			boxah   = 4
=13			boxac   = svertp
>0d47	07 07		boxa    .byte boxax,boxay
>0d49	1a 04		        .byte boxaw,boxah
>0d4b	0d		        .byte boxac
>0d4c	5b c1 44 52	        .null "[Adresse]"
>0d50	45 53 53 45 5d 00
>0d56	09 08		boxat1  .byte boxax+2,boxay+1
>0d58	c5 4e 54 52	        .null "Entrez une adresse en"
>0d5c	45 5a 20 55 4e 45 20 41 44 52 45 53 53 45 20 45
>0d6c	4e 00
>0d6e	09 09		boxat2  .byte boxax+2,boxay+2
>0d70	48 45 58 41	        .null "hexadecimal : $"
>0d74	44 45 43 49 4d 41 4c 20 3a 20 24 00
=1			boxhx   = 1
=0			boxhy   = 0
=38			boxhw   = 38
=25			boxhh   = 25
=10			boxhc   = srose
>0d80	01 00		boxh    .byte boxhx,boxhy
>0d82	26 19		        .byte boxhw,boxhh
>0d84	0a		        .byte boxhc
>0d85	5b c1 49 44	        .null "[Aide]"
>0d89	45 5d 00

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/l-screen.asm

.0d8c			scrnsave
.0d8c	20 fa 0d	        jsr pushall
.0d8f	20 d8 0d	        jsr setcarptr
.0d92	20 b2 0d	        jsr zp1tozp2
.0d95	20 e9 0d	        jsr setcolptr
.0d98	20 b2 0d	        jsr zp1tozp2
.0d9b	20 33 0e	        jsr popall
.0d9e	60		        rts
.0d9f			scrnrest
.0d9f	20 fa 0d	        jsr pushall
.0da2	20 d8 0d	        jsr setcarptr
.0da5	20 c5 0d	        jsr zp2tozp1
.0da8	20 e9 0d	        jsr setcolptr
.0dab	20 c5 0d	        jsr zp2tozp1
.0dae	20 33 0e	        jsr popall
.0db1	60		        rts
.0db2			zp1tozp2
.0db2	a2 04		        ldx #$04
.0db4	a0 00		        ldy #$00
.0db6	b1 fb		nextcar lda (zp1),y
.0db8	91 fd		        sta (zp2),y
.0dba	c8		        iny
.0dbb	d0 f9		        bne nextcar
.0dbd	e6 fc		        inc zp1+1
.0dbf	e6 fe		        inc zp2+1
.0dc1	ca		        dex
.0dc2	d0 f2		        bne nextcar
.0dc4	60		        rts
.0dc5			zp2tozp1
.0dc5	a2 04		        ldx #$04
.0dc7	a0 00		        ldy #$00
.0dc9	b1 fd		nextcar lda (zp2),y
.0dcb	91 fb		        sta (zp1),y
.0dcd	c8		        iny
.0dce	d0 f9		        bne nextcar
.0dd0	e6 fc		        inc zp1+1
.0dd2	e6 fe		        inc zp2+1
.0dd4	ca		        dex
.0dd5	d0 f2		        bne nextcar
.0dd7	60		        rts
.0dd8			setcarptr
.0dd8	a9 00		        lda #$00
.0dda	85 fb		        sta zp1
.0ddc	a9 04		        lda #$04
.0dde	85 fc		        sta zp1+1
.0de0	a9 9c		        lda #<scrncar
.0de2	85 fd		        sta zp2
.0de4	a9 cb		        lda #>scrncar
.0de6	85 fe		        sta zp2+1
.0de8	60		        rts
.0de9			setcolptr
.0de9	a9 00		        lda #$00
.0deb	85 fb		        sta zp1
.0ded	a9 d8		        lda #$d8
.0def	85 fc		        sta zp1+1
.0df1	a9 9c		        lda #<scrncol
.0df3	85 fd		        sta zp2
.0df5	a9 c7		        lda #>scrncol
.0df7	85 fe		        sta zp2+1
.0df9	60		        rts

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/l-push.asm

.0dfa			pushall
.0dfa	08		         php     ;s;rp,pcl,pch
.0dfb	8d fe cf	         sta ra  ;sauve a
.0dfe	68		         pla     ;s:pcl,pch
.0dff	8d ff cf	         sta rp  ;sauve rp
.0e02	68		         pla     ;s:pch
.0e03	8d f9 cf	         sta pc  ;sauve pcl
.0e06	68		         pla     ;s:
.0e07	8d fa cf	         sta pc+1;sauve pch
.0e0a	a5 fb		         lda $fb ;sauve fb
.0e0c	48		         pha     ;s:fb
.0e0d	a5 fc		         lda $fc ;sauve fc
.0e0f	48		         pha     ;s:fc,fb
.0e10	a5 fd		         lda $fd ;sauve fd
.0e12	48		         pha     ;s:fd,fc,fb
.0e13	a5 fe		         lda $fe ;sauve fe
.0e15	48		         pha     ;s:fe,fd,fc,fb
.0e16	ad ff cf	         lda rp  ;sauve rp
.0e19	48		         pha     ;s:rp,fe,fd,fc,fb
.0e1a	ad fe cf	         lda ra  ;sauve ra
.0e1d	48		         pha     ;s:ra,rp,fe,fd,fc,fb
.0e1e	8a		         txa     ;sauve rx
.0e1f	48		         pha     ;s:rx,ra,rp,fe-fb
.0e20	98		         tya     ;sauve y
.0e21	48		         pha     ;s:ry,rx,ra,rp,fe-fb
.0e22	ad fa cf	         lda pc+1;replace l'adresse
.0e25	48		         pha     ;s:pch,ry,rx,ra,...
.0e26	ad f9 cf	         lda pc  ; de retour.
.0e29	48		         pha     ;s:pcl,pch,ru,rx,ra,...
.0e2a	ad ff cf	         lda rp  ;place les flags
.0e2d	48		         pha     ; sur le stack.
.0e2e	ad fe cf	         lda ra  ;recupere ra
.0e31	28		         plp     ;recupere les flags.
.0e32	60		         rts
.0e33			popall
.0e33	08		         php     ;s:rp,pcl,pch,ry,rx,...
.0e34	8d fe cf	         sta ra
.0e37	68		         pla     ;s:pcl,pch,ry,rx,...
.0e38	8d ff cf	         sta rp  ;s:pch,ry,rx,ra,rp,...
.0e3b	68		         pla
.0e3c	8d f9 cf	         sta pc  ;sauve pcl
.0e3f	68		         pla     ;s:ry,rx,ra,rp,fe...fb
.0e40	8d fa cf	         sta pc+1;sauve pch
.0e43	68		         pla     ;s:rx,ra,rp,fe,fd,fc,fb
.0e44	a8		         tay     ;recupere ry
.0e45	68		         pla     ;s:ra,rp,fe,fd,fc,fb
.0e46	aa		         tax     ;recupere rx
.0e47	68		         pla     ;s:rp,fe,fd,fc,fb
.0e48	8d fe cf	         sta ra  ;recupere ra
.0e4b	68		         pla     ;s:fe,fd,fc,fb
.0e4c	8d ff cf	         sta rp  ;recupere les flags.
.0e4f	68		         pla     ;s:fd,fc,fb
.0e50	85 fe		         sta $fe ;reccupere fe
.0e52	68		         pla     ;s:fc,fb
.0e53	85 fd		         sta $fd ;recupere fd
.0e55	68		         pla     ;s:fb
.0e56	85 fc		         sta $fc ;recupere fc
.0e58	68		         pla     ;s:
.0e59	85 fb		         sta $fb ;recupere fb
.0e5b	ad fa cf	         lda pc+1;replaace l'adresse de
.0e5e	48		         pha     ;s:pch
.0e5f	ad f9 cf	         lda pc  ;retour sur la pile
.0e62	48		         pha     ;s:pcl,pch
.0e63	ad ff cf	         lda rp  ;recupere les flags
.0e66	48		         pha     ;s:rp,pcl,pch
.0e67	ad fe cf	         lda ra  ;recupere ra
.0e6a	28		         plp     ;s:pcl,pch
.0e6b	60		         rts
.0e6c			pushregs
.0e6c	08		         php     ;s;rp,pcl,pch
.0e6d	8d fe cf	         sta ra  ; -- sauve a
.0e70	68		         pla     ;s:pcl,pch
.0e71	8d ff cf	         sta rp  ; -- sauve rp
.0e74	68		         pla     ;s:pch
.0e75	8d f9 cf	         sta pc  ; -- sauve pcl
.0e78	68		         pla     ;s:
.0e79	8d fa cf	         sta pc+1; -- sauve pch
.0e7c	ad ff cf	         lda rp  ; -- sauve rp
.0e7f	48		         pha     ;s:rp
.0e80	ad fe cf	         lda ra  ; -- sauve ra
.0e83	48		         pha     ;s:ra,rp
.0e84	8a		         txa     ; -- tfr rx
.0e85	48		         pha     ;s:rx,ra,rp
.0e86	98		         tya     ; -- tfr ry
.0e87	48		         pha     ;s:ry,rx,ra,rp
.0e88	ad fa cf	         lda pc+1; -- replace l'adresse
.0e8b	48		         pha     ;s:pch,ry,rx,ra,rp
.0e8c	ad f9 cf	         lda pc  ; -- de retour.
.0e8f	48		         pha     ;s:pcl,pch,ru,rx,ra,rp
.0e90	ad ff cf	         lda rp  ; -- place les flags
.0e93	48		         pha     ;    sur le stack.
.0e94	ad fe cf	         lda ra  ; -- recupere ra
.0e97	28		         plp     ; -- recupere flags.
.0e98	60		         rts     ;s:pcl,pch,ru,rx,ra,rp
.0e99			popregs
.0e99	08		         php
.0e9a	8d fe cf	         sta ra
.0e9d	68		         pla
.0e9e	8d ff cf	         sta rp
.0ea1	68		         pla     ;s:pch,ry,rx,ra,rp
.0ea2	8d f9 cf	         sta pc  ; -- sauve pcl
.0ea5	68		         pla     ;s:ry,rx,ra,rp
.0ea6	8d fa cf	         sta pc+1; -- sauve pch
.0ea9	68		         pla     ;s:rx,ra,rp
.0eaa	a8		         tay     ;recupere ry
.0eab	68		         pla     ;s:ra,rp
.0eac	aa		         tax     ;recupere rx
.0ead	68		         pla     ;s:rp
.0eae	8d fe cf	         sta ra  ;recupere ra
.0eb1	68		         pla     ;s:
.0eb2	8d ff cf	         sta rp  ;recupere les flags.
.0eb5	ad fa cf	         lda pc+1;replace l'adresse de
.0eb8	48		         pha     ;s:pch
.0eb9	ad f9 cf	         lda pc  ;retour sur la pile
.0ebc	48		         pha     ;s:pcl,pch
.0ebd	ad ff cf	         lda rp  ;recupere les flags
.0ec0	48		         pha     ;s:rp,pcl,pch
.0ec1	ad fe cf	         lda ra  ;recupere ra
.0ec4	28		         plp     ;s:pcl,pch
.0ec5	60		         rts

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/l-mem.asm

.0ec6			inczp1
.0ec6	08		         php
.0ec7	e6 fb		         inc zp1
.0ec9	d0 02		         bne repzp1
.0ecb	e6 fc		         inc zp1+1
.0ecd	28		repzp1   plp
.0ece	60		         rts
.0ecf			inczp2
.0ecf	08		         php
.0ed0	e6 fd		         inc zp2
.0ed2	d0 02		         bne repzp2
.0ed4	e6 fe		         inc zp2+1
.0ed6	28		repzp2   plp
.0ed7	60		         rts
.0ed8			deczp1
.0ed8	08		         php
.0ed9	48		         pha
.0eda	a5 fb		         lda zp1
.0edc	d0 02		         bne noemp
.0ede	c6 fc		         dec zp1+1
.0ee0	c6 fb		noemp    dec zp1
.0ee2	68		         pla
.0ee3	28		         plp
.0ee4	60		         rts
.0ee5			deczp2
.0ee5	08		         php
.0ee6	48		         pha
.0ee7	a5 fd		         lda zp2
.0ee9	d0 02		         bne noemp
.0eeb	c6 fe		         dec zp2+1
.0eed	c6 fd		noemp    dec zp2
.0eef	68		         pla
.0ef0	28		         plp
.0ef1	60		         rts
.0ef2			yxtoptr
.0ef2	8c f8 cf	        sty memptr+1
.0ef5	8e f7 cf	        stx memptr
.0ef8	60		        rts
.0ef9			ptrtoyx
.0ef9	08		        php
.0efa	ac f8 cf	        ldy memptr+1
.0efd	ae f7 cf	        ldx memptr
.0f00	28		        plp
.0f01	60		        rts
.0f02			incptr
.0f02	08		        php
.0f03	ee f7 cf	        inc memptr
.0f06	d0 03		        bne norep
.0f08	ee f8 cf	        inc memptr+1
.0f0b	28		norep   plp
.0f0c	60		        rts
.0f0d			decptr
.0f0d	08		        php
.0f0e	48		        pha
.0f0f	ad f7 cf	        lda memptr
.0f12	d0 03		        bne noemp
.0f14	ee f8 cf	        inc memptr+1
.0f17	ee f7 cf	noemp   inc memptr
.0f1a	68		        pla
.0f1b	28		        plp
.0f1c	60		        rts
.0f1d			incptr8
.0f1d	08		        php
.0f1e	48		        pha
.0f1f	98		        tya
.0f20	48		        pha
.0f21	a0 08		        ldy #8
.0f23	20 02 0f	again   jsr incptr
.0f26	88		        dey
.0f27	d0 fa		        bne again
.0f29	68		        pla
.0f2a	a8		        tay
.0f2b	68		        pla
.0f2c	28		        plp
.0f2d	60		        rts

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/l-conv.asm

.0f2e			putyxhex
.0f2e	20 fa 0d	        jsr pushall
.0f31	98		        tya
.0f32	48		        pha
.0f33	20 7e 0f	        jsr lsr4bits
.0f36	20 85 0f	        jsr nibtohex
.0f39	8d f1 cf	        sta hexstr+0
.0f3c	68		        pla
.0f3d	20 85 0f	        jsr nibtohex
.0f40	8d f2 cf	        sta hexstr+1
.0f43	8a		        txa
.0f44	20 63 0f	        jsr atohex
.0f47	a2 f1		        ldx #<hexstr+0
.0f49	a0 cf		        ldy #>hexstr+0
.0f4b	20 7d 10	        jsr putsyx
.0f4e	20 33 0e	        jsr popall
.0f51	60		        rts
.0f52			putahex
.0f52	20 6c 0e	        jsr pushregs
.0f55	20 63 0f	        jsr atohex
.0f58	a2 f3		        ldx #<hexstr+2
.0f5a	a0 cf		        ldy #>hexstr+2
.0f5c	20 7d 10	        jsr putsyx
.0f5f	20 99 0e	        jsr popregs
.0f62	60		        rts
.0f63			atohex
.0f63	08		        php
.0f64	48		        pha
.0f65	48		        pha
.0f66	20 7e 0f	        jsr lsr4bits
.0f69	20 85 0f	        jsr nibtohex
.0f6c	8d f3 cf	        sta hexstr+2
.0f6f	68		        pla
.0f70	20 85 0f	        jsr nibtohex
.0f73	8d f4 cf	        sta hexstr+3
.0f76	a9 00		        lda #$00
.0f78	8d f5 cf	        sta hexstr+4
.0f7b	68		        pla
.0f7c	28		        plp
.0f7d	60		        rts
.0f7e			lsr4bits
.0f7e	08		        php
.0f7f	4a		        lsr a
.0f80	4a		        lsr a
.0f81	4a		        lsr a
.0f82	4a		        lsr a
.0f83	28		        plp
.0f84	60		        rts
.0f85			nibtohex
.0f85	08		        php
.0f86	29 0f		        and    #$0f
.0f88	f8		        sed
.0f89	18		        clc
.0f8a	69 90		        adc #$90
.0f8c	69 40		        adc #$40
.0f8e	28		        plp
.0f8f	60		        rts
.0f90			strhexval
.0f90	20 fa 0d	        jsr pushall ; sauve registre
.0f93	84 fc		        sty zp1+1   ; ptr dans zp1
.0f95	86 fb		        stx zp1
.0f97	20 2b 11	        jsr strlen  ;len de $(yyxx)->a
.0f9a	f0 3d		        beq oute    ; si 0 erreur C=1
.0f9c	a0 00		        ldy #$00    ; offset a 0
.0f9e	8c 9b c7	        sty reponse+1; reponse a zero
.0fa1	8c 9a c7	        sty reponse ;    ...
.0fa4	b1 fb		nextc   lda (zp1),y ;charge un caractere
.0fa6	f0 26		        beq out     ;On  a fini
.0fa8	c0 00		        cpy #$00    ;si c'est le premier
.0faa	f0 07		        beq norol   ; pas de rol
.0fac	48		        pha         ;
.0fad	a9 04		        lda #$04    ;rol de 4 pos
.0faf	20 60 12	        jsr rolword ;
.0fb2	68		        pla         ;
.0fb3	09 20		norol   ora #%00100000
.0fb5	38		        sec
.0fb6	e9 30		        sbc #$30
.0fb8	c9 0a		        cmp #$0a
.0fba	90 07		        bcc lta
.0fbc	38		        sec
.0fbd	e9 27		        sbc #$27
.0fbf	c9 10		        cmp #$10
.0fc1	b0 16		        bcs oute
.0fc3	0d 9a c7	lta     ora reponse
.0fc6	8d 9a c7	        sta reponse
.0fc9	c8		        iny
.0fca	c0 04		        cpy #$04
.0fcc	d0 d6		        bne nextc
.0fce	20 33 0e	out     jsr popall
.0fd1	18		        clc          ;Carry 0 = good
.0fd2	ac 9b c7	        ldy reponse+1
.0fd5	ae 9a c7	        ldx reponse
.0fd8	60		        rts
.0fd9	20 33 0e	oute    jsr popall
.0fdc	38		        sec
.0fdd	60		        rts
.0fde			bytestohex
.0fde	20 fa 0d	        jsr pushall
.0fe1	84 fc		        sty zp1+1
.0fe3	86 fb		        stx zp1
.0fe5	08		        php
.0fe6	48		        pha
.0fe7	a9 20		        lda #32
.0fe9	20 d2 ff	        jsr chrout
.0fec	68		        pla
.0fed	28		        plp
.0fee	08		        php
.0fef	48		        pha
.0ff0	a9 05		        lda #5
.0ff2	20 d2 ff	        jsr chrout
.0ff5	68		        pla
.0ff6	28		        plp
.0ff7	08		        php
.0ff8	48		        pha
.0ff9	a9 24		        lda #36
.0ffb	20 d2 ff	        jsr chrout
.0ffe	68		        pla
.0fff	28		        plp
.1000	20 2e 0f	        jsr putyxhex   ; prn adreponsese
.1003	08		        php
.1004	48		        pha
.1005	a9 20		        lda #$20
.1007	20 d2 ff	        jsr chrout
.100a	68		        pla
.100b	28		        plp
.100c	08		        php
.100d	48		        pha
.100e	a9 9f		        lda #159
.1010	20 d2 ff	        jsr chrout
.1013	68		        pla
.1014	28		        plp
.1015	a0 00		        ldy #$00
.1017	aa		        tax
.1018	8c 68 10	another  sty offset
.101b	b1 fb		        lda (zp1),y
.101d	20 52 0f	        jsr putahex
.1020	48		        pha
.1021	20 40 10	        jsr petsciiaddr
.1024	68		        pla
.1025	8d 00 04	petscii  sta $0400
.1028	48		        pha
.1029	a9 0d		        lda #$0d
.102b	8d 00 d8	petcol   sta $d800
.102e	68		        pla
.102f	08		        php
.1030	48		        pha
.1031	a9 20		        lda #$20
.1033	20 d2 ff	        jsr chrout
.1036	68		        pla
.1037	28		        plp
.1038	c8		        iny
.1039	ca		        dex
.103a	d0 dc		        bne another
.103c	20 33 0e	        jsr popall
.103f	60		        rts
.1040			petsciiaddr
.1040	20 6c 0e	        jsr pushregs
.1043	08		        php
.1044	a4 d2		        ldy scrnlin+1
.1046	a6 d1		        ldx scrnlin
.1048	28		        plp
.1049	a9 1f		        lda #31
.104b	18		        clc
.104c	6d 68 10	        adc offset
.104f	20 26 12	        jsr addatoyx
.1052	8c 27 10	        sty petscii+2
.1055	8e 26 10	        stx petscii+1
.1058	8e 2c 10	        stx petcol+1
.105b	98		        tya
.105c	29 fb		        and #%11111011 ;#%00000100
.105e	09 d8		        ora #$d8
.1060	8d 2d 10	        sta petcol+2
.1063	a8		        tay
.1064	20 99 0e	        jsr popregs
.1067	60		        rts
>1068	00		offset  .byte $00

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/l-string.asm

.1069			puts
.1069	20 6c 0e	        jsr pushregs
.106c	a0 00		        ldy #$00   ; y = offset
.106e	b1 fb		nextc   lda ($fb),y;lit un caractere
.1070	f0 07		        beq out    ;si 0 on sort
.1072	20 d2 ff	        jsr chrout ;on l'affiche
.1075	c8		        iny        ;pointe le prochain
.1076	4c 6e 10	        jmp nextc  ; et l'affiche
.1079	20 99 0e	out     jsr popregs
.107c	60		        rts
.107d			putsyx
.107d	20 fa 0d	        jsr pushall;sauve reg + zps
.1080	86 fb		        stx $fb    ;$yyxx dans
.1082	84 fc		        sty $fb+1  ; zp1
.1084	20 69 10	        jsr puts
.1087	20 33 0e	        jsr popall ;recup reg + zps
.108a	60		        rts
.108b			putsxy
.108b	20 fa 0d	        jsr pushall;sauve reg + zps
.108e	86 fb		        stx $fb    ;$yyxx dans
.1090	84 fc		        sty $fb+1  ; zp1
.1092	a0 00		        ldy #$00
.1094	b1 fb		        lda ($fb),y
.1096	aa		        tax
.1097	20 c6 0e	        jsr inczp1
.109a	b1 fb		        lda ($fb),y
.109c	20 c6 0e	        jsr inczp1
.109f	a8		        tay
.10a0	20 f5 10	        jsr gotoxy
.10a3	20 69 10	        jsr puts
.10a6	20 33 0e	        jsr popall ;recup reg + zps
.10a9	60		        rts
.10aa			putsc
.10aa	08		        php        ;flag sur stack
.10ab	48		        pha        ;acc sur stack
.10ac	48		        pha        ;sauvegarde acc
.10ad	ad 86 02	        lda kcol   ;recup coul. carac.
.10b0	8d f6 cf	        sta curcol ; et la sauvegarde
.10b3	68		        pla        ;recup. acc
.10b4	8d 86 02	        sta kcol   ;place coul. voulue
.10b7	20 69 10	        jsr puts   ;affiche la chaine
.10ba	ad f6 cf	        lda curcol ;recup coul. carac.
.10bd	8d 86 02	        sta kcol   ; et la replace
.10c0	68		        pla        ;recup acc
.10c1	28		        plp        ;recup flag
.10c2	60		        rts
.10c3			putscyx
.10c3	08		        php       ;sauve registres
.10c4	48		        pha       ; ...
.10c5	48		        pha       ;sauve acc
.10c6	ad 86 02	        lda kcol  ;recup couleur carac.
.10c9	8d f6 cf	        sta curcol; et sauvegarde
.10cc	68		        pla       ;recup acc
.10cd	8d 86 02	        sta kcol  ;place couleur carac.
.10d0	20 7d 10	        jsr putsyx;affiche la chaine
.10d3	ad f6 cf	        lda curcol
.10d6	8d 86 02	        sta kcol
.10d9	68		        pla
.10da	28		        plp
.10db	60		        rts
.10dc			putscxy
.10dc	08		        php       ;sauve registres
.10dd	48		        pha       ; ...
.10de	48		        pha       ;sauve acc
.10df	ad 86 02	        lda kcol  ;recup couleur carac.
.10e2	8d f6 cf	        sta curcol; et sauvegarde
.10e5	68		        pla       ;recup acc
.10e6	8d 86 02	        sta kcol  ;place couleur carac.
.10e9	20 8b 10	        jsr putsxy;affiche la chaine
.10ec	ad f6 cf	        lda curcol
.10ef	8d 86 02	        sta kcol
.10f2	68		        pla
.10f3	28		        plp
.10f4	60		        rts
.10f5			gotoxy
.10f5	20 6c 0e	        jsr pushregs
.10f8	8a		        txa ; interchange x et y
.10f9	48		        pha ; ...
.10fa	98		        tya ; ...
.10fb	aa		        tax ; ...
.10fc	68		        pla ; ...
.10fd	a8		        tay ; ...
.10fe	c0 00		txlow   cpy #0
.1100	10 02		        bpl txhigh
.1102	a2 00		        ldx #0
.1104	e0 19		txhigh  cpx #25
.1106	30 02		        bmi tylow
.1108	a2 18		        ldx #24
.110a	c0 00		tylow   cpy #0
.110c	10 02		        bpl tyhigh
.110e	a0 00		        ldy #0
.1110	c0 28		tyhigh  cpy #40
.1112	30 02		        bmi allok
.1114	a0 27		        ldy #39
.1116	18		allok   clc
.1117	20 f0 ff	        jsr plot
.111a	20 99 0e	        jsr popregs
.111d	60		        rts
.111e			putnch
.111e	20 6c 0e	        jsr pushregs
.1121	20 d2 ff	again   jsr chrout
.1124	ca		        dex
.1125	d0 fa		        bne again
.1127	20 99 0e	        jsr popregs
.112a	60		        rts
.112b			strlen
.112b	20 fa 0d	        jsr pushall
.112e	84 fc		        sty zp1+1
.1130	86 fb		        stx zp1
.1132	a0 00		        ldy #$00
.1134	8c 49 11	        sty len
.1137	b1 fb		next    lda (zp1),y
.1139	f0 07		        beq out
.113b	ee 49 11	        inc len
.113e	c8		        iny
.113f	4c 37 11	        jmp next
.1142	20 33 0e	out     jsr popall
.1145	ad 49 11	        lda len
.1148	60		        rts
>1149	00		len     .byte $00

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/l-float.asm

.114a			clrbasbuf
.114a	08		         php
.114b	48		         pha
.114c	98		         tya
.114d	48		         pha
.114e	a9 00		         lda #$00
.1150	a0 59		         ldy #$59
.1152	99 00 02	again    sta $0200,y
.1155	88		         dey
.1156	d0 fa		         bne again
.1158	68		         pla
.1159	a8		         tay
.115a	68		         pla
.115b	28		         plp
.115c	60		         rts
.115d			getfac1
.115d	20 6c 0e	         jsr pushregs
.1160	20 4a 11	         jsr clrbasbuf
.1163	20 f9 ab	         jsr prompt
.1166	86 7a		         stx $7a
.1168	84 7b		         sty $7b
.116a	20 73 00	         jsr chrget
.116d	20 f3 bc	         jsr fasctf1 ;conv. ascii->float
.1170	20 99 0e	         jsr popregs
.1173	60		         rts
.1174			prnfac1
.1174	20 6c 0e	         jsr pushregs
.1177	20 dd bd	         jsr ff1tasc
.117a	20 7d 10	         jsr putsyx
.117d	20 99 0e	         jsr popregs
.1180	60		         rts
.1181			prnfac2
.1181	20 fc bb	         jsr ff2tf1
.1184	20 74 11	         jsr prnfac1
.1187	60		         rts

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/l-keyb.asm

.1188			clrkbbuf
.1188	08		            php
.1189	48		            pha
.118a	a9 00		            lda #0
.118c	85 c6		            sta 198
.118e	68		            pla
.118f	28		            plp
.1190	60		            rts
.1191			waitstop
.1191	08		          php    ;\ sauve les flags
.1192	48		          pha    ;/  et l'acc.
.1193	20 88 11	          jsr clrkbbuf
.1196	20 e1 ff	wait      jsr stop ; Veri [run/stop]
.1199	d0 fb		          bne wait ;loop pas pesee.
.119b	68		          pla    ;\ recup. acc et
.119c	28		          plp    ;/  les flags.
.119d	60		          rts
.119e			anykey
.119e	08		        php
.119f	48		        pha
.11a0	20 88 11	        jsr clrkbbuf
.11a3	a5 cb		wait    lda 203    ;lit la matrice de
.11a5	c9 40		        cmp #64    ; 64 = aucune clef
.11a7	f0 fa		        beq wait   ; on en attend une.
.11a9	20 b2 11	        jsr kbfree ; Clavier relache.
.11ac	20 88 11	        jsr clrkbbuf
.11af	68		        pla
.11b0	28		        plp
.11b1	60		        rts
.11b2			kbfree
.11b2	08		        php
.11b3	48		        pha
.11b4	a5 cb		wait    lda 203    ; lit la matrice
.11b6	c9 40		        cmp #64    ; 64 = aucune clef
.11b8	d0 fa		        bne wait   ; attend la relache
.11ba	68		        pla
.11bb	28		        plp
.11bc	60		        rts
.11bd			getkey
.11bd	08		        php
.11be	20 e4 ff	try     jsr getin  ;tente de lire
.11c1	c9 00		        cmp #0     ; 0 si aucune.
.11c3	f0 f9		        beq try    ; on reessaye
.11c5	28		        plp
.11c6	60		        rts
.11c7			waitkey
.11c7	08		        php
.11c8	48		        pha
.11c9	8d 25 12	        sta clef   ;Sauve clef voulue
.11cc	20 88 11	        jsr clrkbbuf
.11cf	20 e4 ff	wait    jsr getin  ;Sonde le clavier
.11d2	cd 25 12	        cmp clef   ;Compare avec clef
.11d5	d0 f8		        bne wait   ;Pas la bonne.
.11d7	68		        pla
.11d8	28		        plp
.11d9	60		        rts
.11da			waitspace
.11da	a9 20		            lda #$20
.11dc	20 c7 11	            jsr waitkey
.11df	20 88 11	            jsr clrkbbuf
.11e2	60		            rts
.11e3			showkey
.11e3	20 6c 0e	        jsr pushregs
.11e6	38		        sec
.11e7	20 f0 ff	        jsr plot
.11ea	8e 23 12	        stx curx
.11ed	8c 24 12	        sty cury
.11f0	20 6c 0e	        jsr pushregs
.11f3	a2 1c		        ldx #39-11
.11f5	a0 18		        ldy #24
.11f7	20 f5 10	        jsr gotoxy
.11fa	20 99 0e	        jsr popregs
.11fd	20 d2 ff	        jsr chrout
.1200	08		        php
.1201	48		        pha
.1202	a9 20		        lda #32
.1204	20 d2 ff	        jsr chrout
.1207	68		        pla
.1208	28		        plp
.1209	08		        php
.120a	48		        pha
.120b	a9 24		        lda #36
.120d	20 d2 ff	        jsr chrout
.1210	68		        pla
.1211	28		        plp
.1212	20 9d 09	        jsr putahexdec
.1215	18		        clc
.1216	ac 24 12	        ldy cury
.1219	ae 23 12	        ldx curx
.121c	20 f0 ff	        jsr plot
.121f	20 99 0e	        jsr popregs
.1222	60		        rts
>1223	00		curx    .byte 0
>1224	00		cury    .byte 0
>1225	00		clef        .byte   0

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/l-math.asm

.1226			addatoyx
.1226	08		        php
.1227	48		        pha
.1228	8c 9b c7	        sty reponse+1
.122b	8e 9a c7	        stx reponse
.122e	18		        clc
.122f	6d 9a c7	        adc reponse
.1232	90 03		        bcc norep
.1234	ee 9b c7	        inc reponse+1
.1237	8d 9a c7	norep   sta reponse
.123a	ac 9b c7	        ldy reponse+1
.123d	ae 9a c7	        ldx reponse
.1240	68		        pla
.1241	28		        plp
.1242	60		        rts
.1243			subatoyx
.1243	08		        php
.1244	48		        pha
.1245	8c 9b c7	        sty reponse+1
.1248	8e 9a c7	        stx reponse
.124b	38		        sec
.124c	ed 9a c7	        sbc reponse
.124f	b0 03		        bcs noemp
.1251	ce 9b c7	        dec reponse+1
.1254	8d 9a c7	noemp   sta reponse
.1257	ac 9b c7	        ldy reponse+1
.125a	ae 9a c7	        ldx reponse
.125d	68		        pla
.125e	28		        plp
.125f	60		        rts
.1260			rolword
.1260	20 6c 0e	        jsr pushregs
.1263	a8		        tay
.1264	18		again   clc
.1265	2e 9a c7	        rol reponse
.1268	2e 9b c7	        rol reponse+1
.126b	88		        dey
.126c	d0 f6		        bne again
.126e	20 99 0e	        jsr popregs
.1271	60		        rts

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/l-bitmap.asm

.1272			bmapinit
.1272	08		         php
.1273	48		         pha
.1274	ad 18 d0	         lda vic+$18
.1277	09 08		         ora #$08
.1279	8d 18 d0	         sta vic+$18
.127c	ad 11 d0	         lda vic+$11
.127f	09 20		         ora #$20
.1281	8d 11 d0	         sta vic+$11
.1284	68		         pla
.1285	28		         plp
.1286	60		         rts
.1287			bmapclr
.1287	20 fa 0d	         jsr pushall
.128a	a9 00		         lda #<vidstart
.128c	85 fb		         sta zp1
.128e	a9 20		         lda #>vidstart
.1290	85 fc		         sta zp1+1
.1292	a0 00		         ldy #$00
.1294	a9 00		more     lda #$00
.1296	91 fb		         sta (zp1),y
.1298	20 c6 0e	         jsr inczp1
.129b	a5 fc		         lda zp1+1
.129d	c9 3f		         cmp #$3f
.129f	d0 f3		         bne more
.12a1	a5 fb		         lda zp1
.12a3	c9 3f		         cmp #$3f
.12a5	d0 ed		         bne more
.12a7	20 33 0e	         jsr popall
.12aa	60		         rts
.12ab			bmpfillbk
.12ab	20 fa 0d	         jsr pushall
.12ae	a9 00		         lda #<bakmem
.12b0	85 fb		         sta zp1
.12b2	a9 04		         lda #>bakmem
.12b4	85 fc		         sta zp1+1
.12b6	a2 08		         ldx #$08
.12b8	a0 00		         ldy #$00
.12ba	a9 01		         lda #$01
.12bc	91 fb		more     sta (zp1),y
.12be	20 c6 0e	         jsr inczp1
.12c1	e4 fc		         cpx zp1+1
.12c3	d0 f7		         bne more
.12c5	20 33 0e	         jsr popall
.12c8	60		         rts

;******  Return to file: dlbug64.asm


;******  Processing file: /Users/Locals/C64/00-usbkey32go/d-00-64tass-src/lib/l-drawbox.asm

.12c9			drawbox
.12c9	20 fa 0d	        jsr pushall
.12cc	84 fc		        sty zp1+1
.12ce	86 fb		        stx zp1
.12d0	a0 00		        ldy #$00
.12d2	b1 fb		        lda (zp1),y
.12d4	20 c6 0e	        jsr inczp1
.12d7	8d e9 13	        sta dbleft  ;Initialise gauche
.12da	b1 fb		n        lda (zp1),y
.12dc	20 c6 0e	        jsr inczp1
.12df	8d e8 13	        sta dbtop   ;initialise top
.12e2	b1 fb		        lda (zp1),y ;
.12e4	20 c6 0e	        jsr inczp1
.12e7	8d ea 13	        sta dbwdth  ;Initialise width.
.12ea	b1 fb		        lda (zp1),y
.12ec	20 c6 0e	        jsr inczp1
.12ef	8d eb 13	        sta dbhght  ;Initialise height.
.12f2	ad e8 13	        lda dbtop   ;initialise top
.12f5	8d ed 13	        sta dbclin  ;position de ligne
.12f8	ad 86 02	        lda kcol
.12fb	8d f6 cf	        sta curcol
.12fe	b1 fb		        lda (zp1),y ;Initialise couleur.
.1300	8d 86 02	        sta kcol
.1303	8d ec 13	        sta dbcoul
.1306	20 c6 0e	        jsr inczp1
.1309	20 cb 13	        jsr dbdraw  ;Dessine la fenêtre.
.130c	ae e9 13	        ldx dbleft
.130f	e8		        inx
.1310	e8		        inx
.1311	ac e8 13	        ldy dbtop
.1314	20 f5 10	        jsr gotoxy
.1317	20 69 10	        jsr puts
.131a	ad f6 cf	        lda curcol
.131d	8d 86 02	        sta kcol
.1320	20 33 0e	        jsr popall
.1323	60		        rts
.1324			dbtline
.1324	08		        php         ;Sauve registres.
.1325	48		        pha
.1326	a9 b0		        lda #tleft  ;Coin supp gauche.
.1328	8d e5 13	        sta cleft
.132b	a9 c0		        lda #hline  ;Ligne horizontale.
.132d	8d e7 13	        sta cmid
.1330	a9 ae		        lda #tright ;Coin supp droit.
.1332	8d e6 13	        sta cright
.1335	28		        plp         ;Récup registres.
.1336	68		        pla
.1337	20 80 13	        jsr dbdrawline
.133a	60		        rts
.133b			dbbline
.133b	08		        php         ;Sauve registres
.133c	48		        pha
.133d	a9 ad		        lda #bleft  ;Coin inf. gauche.
.133f	8d e5 13	        sta cleft
.1342	a9 c0		        lda #hline  ;Ligne horizontale.
.1344	8d e7 13	        sta cmid
.1347	a9 bd		        lda #bright ;Coin inf. droit.
.1349	8d e6 13	        sta cright
.134c	28		        plp         ;Récup registres
.134d	68		        pla
.134e	20 80 13	        jsr dbdrawline
.1351	60		        rts
.1352			dbeline
.1352	08		        php         ;Sauve registres
.1353	48		        pha
.1354	a9 dd		        lda #vline  ;Ligne verticale.
.1356	8d e5 13	        sta cleft
.1359	a9 20		        lda #space  ;Carac espace.
.135b	8d e7 13	        sta cmid
.135e	a9 dd		        lda #vline  ;Ligne verticale.
.1360	8d e6 13	        sta cright
.1363	28		        plp         ;Récup registres
.1364	68		        pla
.1365	20 80 13	        jsr dbdrawline
.1368	60		        rts
.1369			dbhline
.1369	08		        php         ;Sauve registres
.136a	48		        pha
.136b	a9 ab		        lda #hleft  ;Ex. gauche médian
.136d	8d e5 13	        sta cleft
.1370	a9 c0		        lda #hline  ;Ligne horizontale
.1372	8d e7 13	        sta cmid
.1375	a9 b3		        lda #hright ;Ex. droite médian
.1377	8d e6 13	        sta cright
.137a	28		        plp         ;Récup registres
.137b	68		        pla
.137c	20 80 13	        jsr dbdrawline
.137f	60		        rts
.1380			dbdrawline
.1380	20 6c 0e	        jsr pushregs;Sauve registres
.1383	ad 86 02	        lda kcol    ;Sauvegarde de la-
.1386	8d f6 cf	        sta curcol ;-couleur basic.
.1389	ad ec 13	        lda dbcoul  ;Sélect. couleur-
.138c	8d 86 02	        sta kcol    ;-fenêtre.
.138f	c9 10		        cmp #$10    ;Couleur inverse?
.1391	30 05		        bmi norev   ;Non ...
.1393	a9 12		        lda #18     ;Oui place en inv.
.1395	20 d2 ff	        jsr chrout
.1398	ae ed 13	norev   ldx dbclin  ;posit curseur au-
.139b	ac e9 13	        ldy dbleft  ;-coin supp-gauche-
.139e	18		        clc         ;-de la fenêtre.
.139f	20 f0 ff	        jsr plot
.13a2	ad e5 13	        lda cleft   ;dessine 1er car.
.13a5	20 d2 ff	        jsr chrout
.13a8	ad e7 13	        lda cmid    ;dessine ligne hor-
.13ab	ae ea 13	        ldx dbwdth  ;-selon largeur-
.13ae	ca		        dex         ;-fenêtre moins-
.13af	ca		        dex         ;-2 car extrémité.
.13b0	20 1e 11	        jsr putnch
.13b3	ad e6 13	        lda cright  ;dess. dernier car
.13b6	20 d2 ff	        jsr chrout
.13b9	a9 92		        lda #146    ;fin inverse vidéo
.13bb	20 d2 ff	        jsr chrout
.13be	ad f6 cf	        lda curcol ;replace la couleur
.13c1	8d 86 02	        sta kcol    ;basic.
.13c4	ee ed 13	        inc dbclin;ligne suivante.
.13c7	20 99 0e	        jsr popregs ;Récup registres
.13ca	60		        rts
.13cb			dbdraw
.13cb	20 6c 0e	        jsr pushregs;Sauve registres
.13ce	ae eb 13	        ldx dbhght  ;recup hautr boite
.13d1	20 24 13	        jsr dbtline ;Dessine ligne sup
.13d4	ca		        dex         ;-2 pour les ...
.13d5	ca		        dex         ;lignes supp/inf
.13d6	f0 06		        beq linfin  ;Si 0 ligne vide.
.13d8	20 52 13	boucle  jsr dbeline ;Dessine ligne vide
.13db	ca		        dex         ;
.13dc	d0 fa		        bne boucle  ;prochaine si reste
.13de	20 3b 13	linfin  jsr dbbline ;Dessine ligne inf.
.13e1	20 99 0e	        jsr popregs ;Récup registres
.13e4	60		        rts
>13e5	00		cleft   .byte   0   ;Carac Gauche lin
>13e6	00		cright  .byte   0   ;Carac droit lin
>13e7	00		cmid    .byte   0   ;Carac centr lin
>13e8	00		dbtop   .byte   0   ;Coord haut boite.
>13e9	00		dbleft  .byte   0   ;Coord gauche boîte
>13ea	00		dbwdth  .byte   0   ;Larg de la boîte.
>13eb	00		dbhght  .byte   0   ;Haut de la boîte.
>13ec	00		dbcoul  .byte   0   ;Coul de la boîte.
>13ed	00		dbclin  .byte   0   ;No ligne courante

;******  Return to file: dlbug64.asm


;******  End of listing
