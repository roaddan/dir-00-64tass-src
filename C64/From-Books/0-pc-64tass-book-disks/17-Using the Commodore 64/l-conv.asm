;---------------------------------------; Nom fichier..: l-conv.asm; Type fichier.: (seq) code pour T.M.P.; Auteur.......: Daniel Lafrance; Version......: 1.0.1 pour T.M.P.; Revision.....: 20251117;---------------------------------------;         .include "lib-vars.h";         .include "lib-push.l";         .include "lib-string.l";---------------------------------------putyxhex         .block         jsr pushall         tya         pha         jsr lsr4bits         jsr nibtohex         sta hexstr+0         pla         jsr nibtohex         sta hexstr+1         txa         jsr atohex         ldx #<hexstr+0         ldy #>hexstr+0         jsr putsyx         jsr popall         rts         .bend;---------------------------------------putahex         .block         php         pha         sta thisra         tya         pha         lda thisra         jsr atohex         ldx #<hexstr+2         ldy #>hexstr+2         jsr putsyx         pla         tay         pla         plp         rtsthisra   .byte $00         .bend;---------------------------------------atohex         .block         php         pha         pha         jsr lsr4bits         jsr nibtohex         sta hexstr+2         pla         jsr nibtohex         sta hexstr+3         lda #$00         sta hexstr+4         pla         plp         rts         .bend;---------------------------------------lsr4bits         .block         php         lsr a         lsr a         lsr a         lsr a         plp         rts         .bend;---------------------------------------nibtohex         .block         php         and #$0f         sed         clc         adc #$90         adc #$40         cld         plp         rts         .bend;---------------------------------------; Variables Globalesa2hexcol .byte $01a2hexposa2hexpx  .byte $01a2hexpy  .byte $01a2hexpfx .byte 36hexstr   .byte $00,$00,$00,$00,$00;---------------------------------------a2bincol .byte $01a2binposa2binpx  .byte $01a2binpy  .byte $01a2binpfx .byte 37binstr   .null "00000000";---------------------------------------a2deccol .byte $01a2decposa2decpx  .byte $01a2decpy  .byte $01a2decpfx .byte 37decstr   .null "00000";---------------------------------------